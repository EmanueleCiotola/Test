(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Jg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var yc={exports:{}},Do={},vc={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function Zg(){if(Vf)return ve;Vf=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.iterator;function U(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,ee={};function K(V,B,oe){this.props=V,this.context=B,this.refs=ee,this.updater=oe||H}K.prototype.isReactComponent={},K.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Ne(){}Ne.prototype=K.prototype;function Pe(V,B,oe){this.props=V,this.context=B,this.refs=ee,this.updater=oe||H}var _e=Pe.prototype=new Ne;_e.constructor=Pe,X(_e,K.prototype),_e.isPureReactComponent=!0;var Ee=Array.isArray,Xe=Object.prototype.hasOwnProperty,ke={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(V,B,oe){var ge,ye={},Te=null,Le=null;if(B!=null)for(ge in B.ref!==void 0&&(Le=B.ref),B.key!==void 0&&(Te=""+B.key),B)Xe.call(B,ge)&&!k.hasOwnProperty(ge)&&(ye[ge]=B[ge]);var Oe=arguments.length-2;if(Oe===1)ye.children=oe;else if(1<Oe){for(var Ue=Array(Oe),ft=0;ft<Oe;ft++)Ue[ft]=arguments[ft+2];ye.children=Ue}if(V&&V.defaultProps)for(ge in Oe=V.defaultProps,Oe)ye[ge]===void 0&&(ye[ge]=Oe[ge]);return{$$typeof:s,type:V,key:Te,ref:Le,props:ye,_owner:ke.current}}function C(V,B){return{$$typeof:s,type:V.type,key:B,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function x(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return B[oe]})}var D=/\/+/g;function S(V,B){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):B.toString(36)}function Je(V,B,oe,ge,ye){var Te=typeof V;(Te==="undefined"||Te==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Te){case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case s:case t:Le=!0}}if(Le)return Le=V,ye=ye(Le),V=ge===""?"."+S(Le,0):ge,Ee(ye)?(oe="",V!=null&&(oe=V.replace(D,"$&/")+"/"),Je(ye,B,oe,"",function(ft){return ft})):ye!=null&&(P(ye)&&(ye=C(ye,oe+(!ye.key||Le&&Le.key===ye.key?"":(""+ye.key).replace(D,"$&/")+"/")+V)),B.push(ye)),1;if(Le=0,ge=ge===""?".":ge+":",Ee(V))for(var Oe=0;Oe<V.length;Oe++){Te=V[Oe];var Ue=ge+S(Te,Oe);Le+=Je(Te,B,oe,Ue,ye)}else if(Ue=U(V),typeof Ue=="function")for(V=Ue.call(V),Oe=0;!(Te=V.next()).done;)Te=Te.value,Ue=ge+S(Te,Oe++),Le+=Je(Te,B,oe,Ue,ye);else if(Te==="object")throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ct(V,B,oe){if(V==null)return V;var ge=[],ye=0;return Je(V,ge,"","",function(Te){return B.call(oe,Te,ye++)}),ge}function At(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var Fe={current:null},G={transition:null},ae={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:G,ReactCurrentOwner:ke};function Z(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:Ct,forEach:function(V,B,oe){Ct(V,function(){B.apply(this,arguments)},oe)},count:function(V){var B=0;return Ct(V,function(){B++}),B},toArray:function(V){return Ct(V,function(B){return B})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ve.Component=K,ve.Fragment=r,ve.Profiler=l,ve.PureComponent=Pe,ve.StrictMode=o,ve.Suspense=v,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,ve.act=Z,ve.cloneElement=function(V,B,oe){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ge=X({},V.props),ye=V.key,Te=V.ref,Le=V._owner;if(B!=null){if(B.ref!==void 0&&(Te=B.ref,Le=ke.current),B.key!==void 0&&(ye=""+B.key),V.type&&V.type.defaultProps)var Oe=V.type.defaultProps;for(Ue in B)Xe.call(B,Ue)&&!k.hasOwnProperty(Ue)&&(ge[Ue]=B[Ue]===void 0&&Oe!==void 0?Oe[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)ge.children=oe;else if(1<Ue){Oe=Array(Ue);for(var ft=0;ft<Ue;ft++)Oe[ft]=arguments[ft+2];ge.children=Oe}return{$$typeof:s,type:V.type,key:ye,ref:Te,props:ge,_owner:Le}},ve.createContext=function(V){return V={$$typeof:p,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},ve.createElement=T,ve.createFactory=function(V){var B=T.bind(null,V);return B.type=V,B},ve.createRef=function(){return{current:null}},ve.forwardRef=function(V){return{$$typeof:g,render:V}},ve.isValidElement=P,ve.lazy=function(V){return{$$typeof:I,_payload:{_status:-1,_result:V},_init:At}},ve.memo=function(V,B){return{$$typeof:E,type:V,compare:B===void 0?null:B}},ve.startTransition=function(V){var B=G.transition;G.transition={};try{V()}finally{G.transition=B}},ve.unstable_act=Z,ve.useCallback=function(V,B){return Fe.current.useCallback(V,B)},ve.useContext=function(V){return Fe.current.useContext(V)},ve.useDebugValue=function(){},ve.useDeferredValue=function(V){return Fe.current.useDeferredValue(V)},ve.useEffect=function(V,B){return Fe.current.useEffect(V,B)},ve.useId=function(){return Fe.current.useId()},ve.useImperativeHandle=function(V,B,oe){return Fe.current.useImperativeHandle(V,B,oe)},ve.useInsertionEffect=function(V,B){return Fe.current.useInsertionEffect(V,B)},ve.useLayoutEffect=function(V,B){return Fe.current.useLayoutEffect(V,B)},ve.useMemo=function(V,B){return Fe.current.useMemo(V,B)},ve.useReducer=function(V,B,oe){return Fe.current.useReducer(V,B,oe)},ve.useRef=function(V){return Fe.current.useRef(V)},ve.useState=function(V){return Fe.current.useState(V)},ve.useSyncExternalStore=function(V,B,oe){return Fe.current.useSyncExternalStore(V,B,oe)},ve.useTransition=function(){return Fe.current.useTransition()},ve.version="18.3.1",ve}var Df;function nh(){return Df||(Df=1,vc.exports=Zg()),vc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf;function ey(){if(Nf)return Do;Nf=1;var s=nh(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,v,E){var I,O={},U=null,H=null;E!==void 0&&(U=""+E),v.key!==void 0&&(U=""+v.key),v.ref!==void 0&&(H=v.ref);for(I in v)o.call(v,I)&&!c.hasOwnProperty(I)&&(O[I]=v[I]);if(g&&g.defaultProps)for(I in v=g.defaultProps,v)O[I]===void 0&&(O[I]=v[I]);return{$$typeof:t,type:g,key:U,ref:H,props:O,_owner:l.current}}return Do.Fragment=r,Do.jsx=p,Do.jsxs=p,Do}var Lf;function ty(){return Lf||(Lf=1,yc.exports=ey()),yc.exports}var fe=ty(),fn=nh(),hl={},_c={exports:{}},Qt={},Ec={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of;function ny(){return Of||(Of=1,function(s){function t(G,ae){var Z=G.length;G.push(ae);e:for(;0<Z;){var V=Z-1>>>1,B=G[V];if(0<l(B,ae))G[V]=ae,G[Z]=B,Z=V;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var ae=G[0],Z=G.pop();if(Z!==ae){G[0]=Z;e:for(var V=0,B=G.length,oe=B>>>1;V<oe;){var ge=2*(V+1)-1,ye=G[ge],Te=ge+1,Le=G[Te];if(0>l(ye,Z))Te<B&&0>l(Le,ye)?(G[V]=Le,G[Te]=Z,V=Te):(G[V]=ye,G[ge]=Z,V=ge);else if(Te<B&&0>l(Le,Z))G[V]=Le,G[Te]=Z,V=Te;else break e}}return ae}function l(G,ae){var Z=G.sortIndex-ae.sortIndex;return Z!==0?Z:G.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],E=[],I=1,O=null,U=3,H=!1,X=!1,ee=!1,K=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(G){for(var ae=r(E);ae!==null;){if(ae.callback===null)o(E);else if(ae.startTime<=G)o(E),ae.sortIndex=ae.expirationTime,t(v,ae);else break;ae=r(E)}}function Ee(G){if(ee=!1,_e(G),!X)if(r(v)!==null)X=!0,At(Xe);else{var ae=r(E);ae!==null&&Fe(Ee,ae.startTime-G)}}function Xe(G,ae){X=!1,ee&&(ee=!1,Ne(T),T=-1),H=!0;var Z=U;try{for(_e(ae),O=r(v);O!==null&&(!(O.expirationTime>ae)||G&&!x());){var V=O.callback;if(typeof V=="function"){O.callback=null,U=O.priorityLevel;var B=V(O.expirationTime<=ae);ae=s.unstable_now(),typeof B=="function"?O.callback=B:O===r(v)&&o(v),_e(ae)}else o(v);O=r(v)}if(O!==null)var oe=!0;else{var ge=r(E);ge!==null&&Fe(Ee,ge.startTime-ae),oe=!1}return oe}finally{O=null,U=Z,H=!1}}var ke=!1,k=null,T=-1,C=5,P=-1;function x(){return!(s.unstable_now()-P<C)}function D(){if(k!==null){var G=s.unstable_now();P=G;var ae=!0;try{ae=k(!0,G)}finally{ae?S():(ke=!1,k=null)}}else ke=!1}var S;if(typeof Pe=="function")S=function(){Pe(D)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Ct=Je.port2;Je.port1.onmessage=D,S=function(){Ct.postMessage(null)}}else S=function(){K(D,0)};function At(G){k=G,ke||(ke=!0,S())}function Fe(G,ae){T=K(function(){G(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){X||H||(X=!0,At(Xe))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_getFirstCallbackNode=function(){return r(v)},s.unstable_next=function(G){switch(U){case 1:case 2:case 3:var ae=3;break;default:ae=U}var Z=U;U=ae;try{return G()}finally{U=Z}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=U;U=G;try{return ae()}finally{U=Z}},s.unstable_scheduleCallback=function(G,ae,Z){var V=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?V+Z:V):Z=V,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Z+B,G={id:I++,callback:ae,priorityLevel:G,startTime:Z,expirationTime:B,sortIndex:-1},Z>V?(G.sortIndex=Z,t(E,G),r(v)===null&&G===r(E)&&(ee?(Ne(T),T=-1):ee=!0,Fe(Ee,Z-V))):(G.sortIndex=B,t(v,G),X||H||(X=!0,At(Xe))),G},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(G){var ae=U;return function(){var Z=U;U=ae;try{return G.apply(this,arguments)}finally{U=Z}}}}(wc)),wc}var Mf;function ry(){return Mf||(Mf=1,Ec.exports=ny()),Ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function iy(){if(Ff)return Qt;Ff=1;var s=nh(),t=ry();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(l[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},O={};function U(e){return v.call(O,e)?!0:v.call(I,e)?!1:E.test(e)?O[e]=!0:(I[e]=!0,!1)}function H(e,n,i,u){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X(e,n,i,u){if(n===null||typeof n>"u"||H(e,n,i,u))return!0;if(u)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function ee(e,n,i,u,h,f,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=y}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new ee(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new ee(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new ee(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new ee(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new ee(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new ee(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new ee(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new ee(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ne=/[\-:]([a-z])/g;function Pe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Ne,Pe);K[n]=new ee(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Ne,Pe);K[n]=new ee(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Ne,Pe);K[n]=new ee(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new ee(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function _e(e,n,i,u){var h=K.hasOwnProperty(n)?K[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(X(n,i,h,u)&&(i=null),u||h===null?U(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,u=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,u?e.setAttributeNS(u,n,i):e.setAttribute(n,i))))}var Ee=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),ke=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),x=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),G=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,V;function B(e){if(V===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);V=n&&n[1]||""}return`
`+V+e}var oe=!1;function ge(e,n){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var u=F}Reflect.construct(e,[],n)}else{try{n.call()}catch(F){u=F}e.call(n.prototype)}else{try{throw Error()}catch(F){u=F}e()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),f=u.stack.split(`
`),y=h.length-1,w=f.length-1;1<=y&&0<=w&&h[y]!==f[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==f[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==f[w]){var A=`
`+h[y].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function ye(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function Te(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case ke:return"Portal";case C:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case D:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ct:return n=e.displayName||null,n!==null?n:Te(e.type)||"Memo";case At:n=e._payload,e=e._init;try{return Te(e(n))}catch{}}return null}function Le(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Oe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ue(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ft(e){var n=Ue(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function bn(e){e._valueTracker||(e._valueTracker=ft(e))}function Ci(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),u="";return e&&(u=Ue(e)?e.checked?"true":"false":e.value),e=u,e!==i?(n.setValue(e),!0):!1}function cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function br(e,n){var i=n.checked;return Z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ai(e,n){var i=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;i=Oe(n.value!=null?n.value:i),e._wrapperState={initialChecked:u,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Fs(e,n){n=n.checked,n!=null&&_e(e,"checked",n,!1)}function zs(e,n){Fs(e,n);var i=Oe(n.value),u=n.type;if(i!=null)u==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(u==="submit"||u==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Ri(e,n.type,i):n.hasOwnProperty("defaultValue")&&Ri(e,n.type,Oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Yo(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Ri(e,n,i){(n!=="number"||cr(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Hn=Array.isArray;function Qn(e,n,i,u){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&u&&(e[i].defaultSelected=!0)}else{for(i=""+Oe(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,u&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Us(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pi(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(Hn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Oe(i)}}function ki(e,n){var i=Oe(n.value),u=Oe(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),u!=null&&(e.defaultValue=""+u)}function Bs(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ot(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ot(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kn,js=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,u,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,u,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Kn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function hr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qr=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){Qr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hr[n]=Hr[e]})});function $s(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+n).trim():n+"px"}function qs(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var u=i.indexOf("--")===0,h=$s(i,n[i],u);i==="float"&&(i="cssFloat"),u?e.setProperty(i,h):e[i]=h}}var bs=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(e,n){if(n){if(bs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Qs(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function xi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vi=null,nn=null,kn=null;function Di(e){if(e=yo(e)){if(typeof Vi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Aa(n),Vi(e.stateNode,e.type,n))}}function xn(e){nn?kn?kn.push(e):kn=[e]:nn=e}function Ks(){if(nn){var e=nn,n=kn;if(kn=nn=null,Di(e),n)for(e=0;e<n.length;e++)Di(n[e])}}function Wr(e,n){return e(n)}function Ws(){}var Wn=!1;function Gs(e,n,i){if(Wn)return e(n,i);Wn=!0;try{return Wr(e,n,i)}finally{Wn=!1,(nn!==null||kn!==null)&&(Ws(),Ks())}}function Ze(e,n){var i=e.stateNode;if(i===null)return null;var u=Aa(i);if(u===null)return null;i=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Ni=!1;if(g)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{Ni=!1}function Gr(e,n,i,u,h,f,y,w,A){var F=Array.prototype.slice.call(arguments,3);try{n.apply(i,F)}catch(q){this.onError(q)}}var Yr=!1,Li=null,mn=!1,Ys=null,Hl={onError:function(e){Yr=!0,Li=e}};function Oi(e,n,i,u,h,f,y,w,A){Yr=!1,Li=null,Gr.apply(Hl,arguments)}function Xo(e,n,i,u,h,f,y,w,A){if(Oi.apply(this,arguments),Yr){if(Yr){var F=Li;Yr=!1,Li=null}else throw Error(r(198));mn||(mn=!0,Ys=F)}}function gn(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Xr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function yn(e){if(gn(e)!==e)throw Error(r(188))}function Jo(e){var n=e.alternate;if(!n){if(n=gn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,u=n;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){i=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return yn(h),e;if(f===u)return yn(h),n;f=f.sibling}throw Error(r(188))}if(i.return!==u.return)i=h,u=f;else{for(var y=!1,w=h.child;w;){if(w===i){y=!0,i=h,u=f;break}if(w===u){y=!0,u=h,i=f;break}w=w.sibling}if(!y){for(w=f.child;w;){if(w===i){y=!0,i=f,u=h;break}if(w===u){y=!0,u=f,i=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==u)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function Xs(e){return e=Jo(e),e!==null?Mi(e):null}function Mi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Mi(e);if(n!==null)return n;e=e.sibling}return null}var Fi=t.unstable_scheduleCallback,Js=t.unstable_cancelCallback,Zo=t.unstable_shouldYield,Ql=t.unstable_requestPaint,Be=t.unstable_now,ea=t.unstable_getCurrentPriorityLevel,Jr=t.unstable_ImmediatePriority,dr=t.unstable_UserBlockingPriority,rn=t.unstable_NormalPriority,Zs=t.unstable_LowPriority,ta=t.unstable_IdlePriority,Zr=null,Gt=null;function na(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Zr,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:ia,eo=Math.log,ra=Math.LN2;function ia(e){return e>>>=0,e===0?32:31-(eo(e)/ra|0)|0}var zi=64,Ui=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ei(e,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,h=e.suspendedLanes,f=e.pingedLanes,y=i&268435455;if(y!==0){var w=y&~h;w!==0?u=fr(w):(f&=y,f!==0&&(u=fr(f)))}else y=i&~h,y!==0?u=fr(y):f!==0&&(u=fr(f));if(u===0)return 0;if(n!==0&&n!==u&&!(n&h)&&(h=u&-u,f=n&-n,h>=f||h===16&&(f&4194240)!==0))return n;if(u&4&&(u|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=u;0<n;)i=31-Lt(n),h=1<<i,u|=e[i],n&=~h;return u}function Kl(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(e,n){for(var i=e.suspendedLanes,u=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-Lt(f),w=1<<y,A=h[y];A===-1?(!(w&i)||w&u)&&(h[y]=Kl(w,n)):A<=n&&(e.expiredLanes|=w),f&=~w}}function Yt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ti(){var e=zi;return zi<<=1,!(zi&4194240)&&(zi=64),e}function pr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function mr(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Lt(n),e[n]=i}function ze(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Lt(i),f=1<<h;n[h]=0,u[h]=-1,e[h]=-1,i&=~f}}function gr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var u=31-Lt(i),h=1<<u;h&n|e[u]&n&&(e[u]|=n),i&=~h}}var we=0;function yr(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sa,Bi,oa,aa,la,to=!1,Vn=[],_t=null,vn=null,_n=null,vr=new Map,sn=new Map,Dn=[],Wl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ua(e,n){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":vr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(n.pointerId)}}function Ut(e,n,i,u,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},n!==null&&(n=yo(n),n!==null&&Bi(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Gl(e,n,i,u,h){switch(n){case"focusin":return _t=Ut(_t,e,n,i,u,h),!0;case"dragenter":return vn=Ut(vn,e,n,i,u,h),!0;case"mouseover":return _n=Ut(_n,e,n,i,u,h),!0;case"pointerover":var f=h.pointerId;return vr.set(f,Ut(vr.get(f)||null,e,n,i,u,h)),!0;case"gotpointercapture":return f=h.pointerId,sn.set(f,Ut(sn.get(f)||null,e,n,i,u,h)),!0}return!1}function ca(e){var n=oi(e.target);if(n!==null){var i=gn(n);if(i!==null){if(n=i.tag,n===13){if(n=Xr(i),n!==null){e.blockedOn=n,la(e.priority,function(){oa(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=ji(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var u=new i.constructor(i.type,i);Kr=u,i.target.dispatchEvent(u),Kr=null}else return n=yo(i),n!==null&&Bi(n),e.blockedOn=i,!1;n.shift()}return!0}function ni(e,n,i){Yn(e)&&i.delete(n)}function ha(){to=!1,_t!==null&&Yn(_t)&&(_t=null),vn!==null&&Yn(vn)&&(vn=null),_n!==null&&Yn(_n)&&(_n=null),vr.forEach(ni),sn.forEach(ni)}function En(e,n){e.blockedOn===n&&(e.blockedOn=null,to||(to=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ha)))}function wn(e){function n(h){return En(h,e)}if(0<Vn.length){En(Vn[0],e);for(var i=1;i<Vn.length;i++){var u=Vn[i];u.blockedOn===e&&(u.blockedOn=null)}}for(_t!==null&&En(_t,e),vn!==null&&En(vn,e),_n!==null&&En(_n,e),vr.forEach(n),sn.forEach(n),i=0;i<Dn.length;i++)u=Dn[i],u.blockedOn===e&&(u.blockedOn=null);for(;0<Dn.length&&(i=Dn[0],i.blockedOn===null);)ca(i),i.blockedOn===null&&Dn.shift()}var Xn=Ee.ReactCurrentBatchConfig,_r=!0;function be(e,n,i,u){var h=we,f=Xn.transition;Xn.transition=null;try{we=1,no(e,n,i,u)}finally{we=h,Xn.transition=f}}function Yl(e,n,i,u){var h=we,f=Xn.transition;Xn.transition=null;try{we=4,no(e,n,i,u)}finally{we=h,Xn.transition=f}}function no(e,n,i,u){if(_r){var h=ji(e,n,i,u);if(h===null)au(e,n,u,ri,i),ua(e,u);else if(Gl(h,e,n,i,u))u.stopPropagation();else if(ua(e,u),n&4&&-1<Wl.indexOf(e)){for(;h!==null;){var f=yo(h);if(f!==null&&sa(f),f=ji(e,n,i,u),f===null&&au(e,n,u,ri,i),f===h)break;h=f}h!==null&&u.stopPropagation()}else au(e,n,u,null,i)}}var ri=null;function ji(e,n,i,u){if(ri=null,e=xi(u),e=oi(e),e!==null)if(n=gn(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Xr(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ri=e,null}function ro(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ea()){case Jr:return 1;case dr:return 4;case rn:case Zs:return 16;case ta:return 536870912;default:return 16}default:return 16}}var Xt=null,$i=null,Bt=null;function io(){if(Bt)return Bt;var e,n=$i,i=n.length,u,h="value"in Xt?Xt.value:Xt.textContent,f=h.length;for(e=0;e<i&&n[e]===h[e];e++);var y=i-e;for(u=1;u<=y&&n[i-u]===h[f-u];u++);return Bt=h.slice(e,1<u?1-u:void 0)}function qi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Nn(){return!0}function so(){return!1}function Et(e){function n(i,u,h,f,y){this._reactName=i,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Nn:so,this.isPropagationStopped=so,this}return Z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),n}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Et(Tn),Ln=Z({},Tn,{view:0,detail:0}),Xl=Et(Ln),Hi,Jn,Er,ii=Z({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Er&&(Er&&e.type==="mousemove"?(Hi=e.screenX-Er.screenX,Jn=e.screenY-Er.screenY):Jn=Hi=0,Er=e),Hi)},movementY:function(e){return"movementY"in e?e.movementY:Jn}}),Qi=Et(ii),oo=Z({},ii,{dataTransfer:0}),da=Et(oo),Ki=Z({},Ln,{relatedTarget:0}),Wi=Et(Ki),fa=Z({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Zn=Et(fa),pa=Z({},Tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ma=Et(pa),ga=Z({},Tn,{data:0}),ao=Et(ga),Gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ya={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function va(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ya[e])?!!n[e]:!1}function On(){return va}var a=Z({},Ln,{key:function(e){if(e.key){var n=Gi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ot[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return e.type==="keypress"?qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d=Et(a),m=Z({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=Et(m),N=Z({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On}),z=Et(N),W=Z({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=Et(W),lt=Z({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Se=Et(lt),pt=[9,13,27,32],rt=g&&"CompositionEvent"in window,on=null;g&&"documentMode"in document&&(on=document.documentMode);var Jt=g&&"TextEvent"in window&&!on,si=g&&(!rt||on&&8<on&&11>=on),Yi=" ",Ih=!1;function Ch(e,n){switch(e){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function Ym(e,n){switch(e){case"compositionend":return Ah(n);case"keypress":return n.which!==32?null:(Ih=!0,Yi);case"textInput":return e=n.data,e===Yi&&Ih?null:e;default:return null}}function Xm(e,n){if(Xi)return e==="compositionend"||!rt&&Ch(e,n)?(e=io(),Bt=$i=Xt=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return si&&n.locale!=="ko"?null:n.data;default:return null}}var Jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Jm[e.type]:n==="textarea"}function Ph(e,n,i,u){xn(u),n=Sa(n,"onChange"),0<n.length&&(i=new bi("onChange","change",null,i,u),e.push({event:i,listeners:n}))}var lo=null,uo=null;function Zm(e){Qh(e,0)}function _a(e){var n=ns(e);if(Ci(n))return e}function eg(e,n){if(e==="change")return n}var kh=!1;if(g){var Jl;if(g){var Zl="oninput"in document;if(!Zl){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),Zl=typeof xh.oninput=="function"}Jl=Zl}else Jl=!1;kh=Jl&&(!document.documentMode||9<document.documentMode)}function Vh(){lo&&(lo.detachEvent("onpropertychange",Dh),uo=lo=null)}function Dh(e){if(e.propertyName==="value"&&_a(uo)){var n=[];Ph(n,uo,e,xi(e)),Gs(Zm,n)}}function tg(e,n,i){e==="focusin"?(Vh(),lo=n,uo=i,lo.attachEvent("onpropertychange",Dh)):e==="focusout"&&Vh()}function ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _a(uo)}function rg(e,n){if(e==="click")return _a(n)}function ig(e,n){if(e==="input"||e==="change")return _a(n)}function sg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:sg;function co(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),u=Object.keys(n);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var h=i[u];if(!v.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lh(e,n){var i=Nh(e);e=0;for(var u;i;){if(i.nodeType===3){if(u=e+i.textContent.length,e<=n&&u>=n)return{node:i,offset:n-e};e=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Nh(i)}}function Oh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Oh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mh(){for(var e=window,n=cr();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=cr(e.document)}return n}function eu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function og(e){var n=Mh(),i=e.focusedElem,u=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Oh(i.ownerDocument.documentElement,i)){if(u!==null&&eu(i)){if(n=u.start,e=u.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!e.extend&&f>u&&(h=u,u=f,f=h),h=Lh(i,f);var y=Lh(i,u);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),f>u?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ag=g&&"documentMode"in document&&11>=document.documentMode,Ji=null,tu=null,ho=null,nu=!1;function Fh(e,n,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;nu||Ji==null||Ji!==cr(u)||(u=Ji,"selectionStart"in u&&eu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ho&&co(ho,u)||(ho=u,u=Sa(tu,"onSelect"),0<u.length&&(n=new bi("onSelect","select",null,n,i),e.push({event:n,listeners:u}),n.target=Ji)))}function Ea(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Zi={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},ru={},zh={};g&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function wa(e){if(ru[e])return ru[e];if(!Zi[e])return e;var n=Zi[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in zh)return ru[e]=n[i];return e}var Uh=wa("animationend"),Bh=wa("animationiteration"),jh=wa("animationstart"),$h=wa("transitionend"),qh=new Map,bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,n){qh.set(e,n),c(n,[e])}for(var iu=0;iu<bh.length;iu++){var su=bh[iu],lg=su.toLowerCase(),ug=su[0].toUpperCase()+su.slice(1);wr(lg,"on"+ug)}wr(Uh,"onAnimationEnd"),wr(Bh,"onAnimationIteration"),wr(jh,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr($h,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cg=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Hh(e,n,i){var u=e.type||"unknown-event";e.currentTarget=i,Xo(u,n,void 0,e),e.currentTarget=null}function Qh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var u=e[i],h=u.event;u=u.listeners;e:{var f=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],A=w.instance,F=w.currentTarget;if(w=w.listener,A!==f&&h.isPropagationStopped())break e;Hh(h,w,F),f=A}else for(y=0;y<u.length;y++){if(w=u[y],A=w.instance,F=w.currentTarget,w=w.listener,A!==f&&h.isPropagationStopped())break e;Hh(h,w,F),f=A}}}if(mn)throw e=Ys,mn=!1,Ys=null,e}function $e(e,n){var i=n[fu];i===void 0&&(i=n[fu]=new Set);var u=e+"__bubble";i.has(u)||(Kh(n,e,2,!1),i.add(u))}function ou(e,n,i){var u=0;n&&(u|=4),Kh(i,e,u,n)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function po(e){if(!e[Ta]){e[Ta]=!0,o.forEach(function(i){i!=="selectionchange"&&(cg.has(i)||ou(i,!1,e),ou(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ta]||(n[Ta]=!0,ou("selectionchange",!1,n))}}function Kh(e,n,i,u){switch(ro(n)){case 1:var h=be;break;case 4:h=Yl;break;default:h=no}i=h.bind(null,n,i,e),h=void 0,!Ni||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function au(e,n,i,u,h){var f=u;if(!(n&1)&&!(n&2)&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;w!==null;){if(y=oi(w),y===null)return;if(A=y.tag,A===5||A===6){u=f=y;continue e}w=w.parentNode}}u=u.return}Gs(function(){var F=f,q=xi(i),b=[];e:{var $=qh.get(e);if($!==void 0){var J=bi,re=e;switch(e){case"keypress":if(qi(i)===0)break e;case"keydown":case"keyup":J=d;break;case"focusin":re="focus",J=Wi;break;case"focusout":re="blur",J=Wi;break;case"beforeblur":case"afterblur":J=Wi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=da;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=z;break;case Uh:case Bh:case jh:J=Zn;break;case $h:J=Me;break;case"scroll":J=Xl;break;case"wheel":J=Se;break;case"copy":case"cut":case"paste":J=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=_}var ie=(n&4)!==0,et=!ie&&e==="scroll",L=ie?$!==null?$+"Capture":null:$;ie=[];for(var R=F,M;R!==null;){M=R;var Q=M.stateNode;if(M.tag===5&&Q!==null&&(M=Q,L!==null&&(Q=Ze(R,L),Q!=null&&ie.push(mo(R,Q,M)))),et)break;R=R.return}0<ie.length&&($=new J($,re,null,i,q),b.push({event:$,listeners:ie}))}}if(!(n&7)){e:{if($=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",$&&i!==Kr&&(re=i.relatedTarget||i.fromElement)&&(oi(re)||re[er]))break e;if((J||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,J?(re=i.relatedTarget||i.toElement,J=F,re=re?oi(re):null,re!==null&&(et=gn(re),re!==et||re.tag!==5&&re.tag!==6)&&(re=null)):(J=null,re=F),J!==re)){if(ie=Qi,Q="onMouseLeave",L="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(ie=_,Q="onPointerLeave",L="onPointerEnter",R="pointer"),et=J==null?$:ns(J),M=re==null?$:ns(re),$=new ie(Q,R+"leave",J,i,q),$.target=et,$.relatedTarget=M,Q=null,oi(q)===F&&(ie=new ie(L,R+"enter",re,i,q),ie.target=M,ie.relatedTarget=et,Q=ie),et=Q,J&&re)t:{for(ie=J,L=re,R=0,M=ie;M;M=es(M))R++;for(M=0,Q=L;Q;Q=es(Q))M++;for(;0<R-M;)ie=es(ie),R--;for(;0<M-R;)L=es(L),M--;for(;R--;){if(ie===L||L!==null&&ie===L.alternate)break t;ie=es(ie),L=es(L)}ie=null}else ie=null;J!==null&&Wh(b,$,J,ie,!1),re!==null&&et!==null&&Wh(b,et,re,ie,!0)}}e:{if($=F?ns(F):window,J=$.nodeName&&$.nodeName.toLowerCase(),J==="select"||J==="input"&&$.type==="file")var se=eg;else if(Rh($))if(kh)se=ig;else{se=ng;var le=tg}else(J=$.nodeName)&&J.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=rg);if(se&&(se=se(e,F))){Ph(b,se,i,q);break e}le&&le(e,$,F),e==="focusout"&&(le=$._wrapperState)&&le.controlled&&$.type==="number"&&Ri($,"number",$.value)}switch(le=F?ns(F):window,e){case"focusin":(Rh(le)||le.contentEditable==="true")&&(Ji=le,tu=F,ho=null);break;case"focusout":ho=tu=Ji=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,Fh(b,i,q);break;case"selectionchange":if(ag)break;case"keydown":case"keyup":Fh(b,i,q)}var ue;if(rt)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Xi?Ch(e,i)&&(de="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(si&&i.locale!=="ko"&&(Xi||de!=="onCompositionStart"?de==="onCompositionEnd"&&Xi&&(ue=io()):(Xt=q,$i="value"in Xt?Xt.value:Xt.textContent,Xi=!0)),le=Sa(F,de),0<le.length&&(de=new ao(de,e,null,i,q),b.push({event:de,listeners:le}),ue?de.data=ue:(ue=Ah(i),ue!==null&&(de.data=ue)))),(ue=Jt?Ym(e,i):Xm(e,i))&&(F=Sa(F,"onBeforeInput"),0<F.length&&(q=new ao("onBeforeInput","beforeinput",null,i,q),b.push({event:q,listeners:F}),q.data=ue))}Qh(b,n)})}function mo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Sa(e,n){for(var i=n+"Capture",u=[];e!==null;){var h=e,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=Ze(e,i),f!=null&&u.unshift(mo(e,f,h)),f=Ze(e,n),f!=null&&u.push(mo(e,f,h))),e=e.return}return u}function es(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wh(e,n,i,u,h){for(var f=n._reactName,y=[];i!==null&&i!==u;){var w=i,A=w.alternate,F=w.stateNode;if(A!==null&&A===u)break;w.tag===5&&F!==null&&(w=F,h?(A=Ze(i,f),A!=null&&y.unshift(mo(i,A,w))):h||(A=Ze(i,f),A!=null&&y.push(mo(i,A,w)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var hg=/\r\n?/g,dg=/\u0000|\uFFFD/g;function Gh(e){return(typeof e=="string"?e:""+e).replace(hg,`
`).replace(dg,"")}function Ia(e,n,i){if(n=Gh(n),Gh(e)!==n&&i)throw Error(r(425))}function Ca(){}var lu=null,uu=null;function cu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hu=typeof setTimeout=="function"?setTimeout:void 0,fg=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,pg=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(mg)}:hu;function mg(e){setTimeout(function(){throw e})}function du(e,n){var i=n,u=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(u===0){e.removeChild(h),wn(n);return}u--}else i!=="$"&&i!=="$?"&&i!=="$!"||u++;i=h}while(i);wn(n)}function Tr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Xh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var ts=Math.random().toString(36).slice(2),Mn="__reactFiber$"+ts,go="__reactProps$"+ts,er="__reactContainer$"+ts,fu="__reactEvents$"+ts,gg="__reactListeners$"+ts,yg="__reactHandles$"+ts;function oi(e){var n=e[Mn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[er]||i[Mn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Xh(e);e!==null;){if(i=e[Mn])return i;e=Xh(e)}return n}e=i,i=e.parentNode}return null}function yo(e){return e=e[Mn]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Aa(e){return e[go]||null}var pu=[],rs=-1;function Sr(e){return{current:e}}function qe(e){0>rs||(e.current=pu[rs],pu[rs]=null,rs--)}function je(e,n){rs++,pu[rs]=e.current,e.current=n}var Ir={},Rt=Sr(Ir),jt=Sr(!1),ai=Ir;function is(e,n){var i=e.type.contextTypes;if(!i)return Ir;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in i)h[f]=n[f];return u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function $t(e){return e=e.childContextTypes,e!=null}function Ra(){qe(jt),qe(Rt)}function Jh(e,n,i){if(Rt.current!==Ir)throw Error(r(168));je(Rt,n),je(jt,i)}function Zh(e,n,i){var u=e.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return i;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Le(e)||"Unknown",h));return Z({},i,u)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,ai=Rt.current,je(Rt,e),je(jt,jt.current),!0}function ed(e,n,i){var u=e.stateNode;if(!u)throw Error(r(169));i?(e=Zh(e,n,ai),u.__reactInternalMemoizedMergedChildContext=e,qe(jt),qe(Rt),je(Rt,e)):qe(jt),je(jt,i)}var tr=null,ka=!1,mu=!1;function td(e){tr===null?tr=[e]:tr.push(e)}function vg(e){ka=!0,td(e)}function Cr(){if(!mu&&tr!==null){mu=!0;var e=0,n=we;try{var i=tr;for(we=1;e<i.length;e++){var u=i[e];do u=u(!0);while(u!==null)}tr=null,ka=!1}catch(h){throw tr!==null&&(tr=tr.slice(e+1)),Fi(Jr,Cr),h}finally{we=n,mu=!1}}return null}var ss=[],os=0,xa=null,Va=0,an=[],ln=0,li=null,nr=1,rr="";function ui(e,n){ss[os++]=Va,ss[os++]=xa,xa=e,Va=n}function nd(e,n,i){an[ln++]=nr,an[ln++]=rr,an[ln++]=li,li=e;var u=nr;e=rr;var h=32-Lt(u)-1;u&=~(1<<h),i+=1;var f=32-Lt(n)+h;if(30<f){var y=h-h%5;f=(u&(1<<y)-1).toString(32),u>>=y,h-=y,nr=1<<32-Lt(n)+h|i<<h|u,rr=f+e}else nr=1<<f|i<<h|u,rr=e}function gu(e){e.return!==null&&(ui(e,1),nd(e,1,0))}function yu(e){for(;e===xa;)xa=ss[--os],ss[os]=null,Va=ss[--os],ss[os]=null;for(;e===li;)li=an[--ln],an[ln]=null,rr=an[--ln],an[ln]=null,nr=an[--ln],an[ln]=null}var Zt=null,en=null,He=!1,In=null;function rd(e,n){var i=dn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function id(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Zt=e,en=Tr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Zt=e,en=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=li!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=dn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Zt=e,en=null,!0):!1;default:return!1}}function vu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _u(e){if(He){var n=en;if(n){var i=n;if(!id(e,n)){if(vu(e))throw Error(r(418));n=Tr(i.nextSibling);var u=Zt;n&&id(e,n)?rd(u,i):(e.flags=e.flags&-4097|2,He=!1,Zt=e)}}else{if(vu(e))throw Error(r(418));e.flags=e.flags&-4097|2,He=!1,Zt=e}}}function sd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function Da(e){if(e!==Zt)return!1;if(!He)return sd(e),He=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!cu(e.type,e.memoizedProps)),n&&(n=en)){if(vu(e))throw od(),Error(r(418));for(;n;)rd(e,n),n=Tr(n.nextSibling)}if(sd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){en=Tr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}en=null}}else en=Zt?Tr(e.stateNode.nextSibling):null;return!0}function od(){for(var e=en;e;)e=Tr(e.nextSibling)}function as(){en=Zt=null,He=!1}function Eu(e){In===null?In=[e]:In.push(e)}var _g=Ee.ReactCurrentBatchConfig;function vo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var u=i.stateNode}if(!u)throw Error(r(147,e));var h=u,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(y){var w=h.refs;y===null?delete w[f]:w[f]=y},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function Na(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ad(e){var n=e._init;return n(e._payload)}function ld(e){function n(L,R){if(e){var M=L.deletions;M===null?(L.deletions=[R],L.flags|=16):M.push(R)}}function i(L,R){if(!e)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function u(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function h(L,R){return L=Nr(L,R),L.index=0,L.sibling=null,L}function f(L,R,M){return L.index=M,e?(M=L.alternate,M!==null?(M=M.index,M<R?(L.flags|=2,R):M):(L.flags|=2,R)):(L.flags|=1048576,R)}function y(L){return e&&L.alternate===null&&(L.flags|=2),L}function w(L,R,M,Q){return R===null||R.tag!==6?(R=hc(M,L.mode,Q),R.return=L,R):(R=h(R,M),R.return=L,R)}function A(L,R,M,Q){var se=M.type;return se===k?q(L,R,M.props.children,Q,M.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&ad(se)===R.type)?(Q=h(R,M.props),Q.ref=vo(L,R,M),Q.return=L,Q):(Q=rl(M.type,M.key,M.props,null,L.mode,Q),Q.ref=vo(L,R,M),Q.return=L,Q)}function F(L,R,M,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==M.containerInfo||R.stateNode.implementation!==M.implementation?(R=dc(M,L.mode,Q),R.return=L,R):(R=h(R,M.children||[]),R.return=L,R)}function q(L,R,M,Q,se){return R===null||R.tag!==7?(R=yi(M,L.mode,Q,se),R.return=L,R):(R=h(R,M),R.return=L,R)}function b(L,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return R=hc(""+R,L.mode,M),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xe:return M=rl(R.type,R.key,R.props,null,L.mode,M),M.ref=vo(L,null,R),M.return=L,M;case ke:return R=dc(R,L.mode,M),R.return=L,R;case At:var Q=R._init;return b(L,Q(R._payload),M)}if(Hn(R)||ae(R))return R=yi(R,L.mode,M,null),R.return=L,R;Na(L,R)}return null}function $(L,R,M,Q){var se=R!==null?R.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return se!==null?null:w(L,R,""+M,Q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:return M.key===se?A(L,R,M,Q):null;case ke:return M.key===se?F(L,R,M,Q):null;case At:return se=M._init,$(L,R,se(M._payload),Q)}if(Hn(M)||ae(M))return se!==null?null:q(L,R,M,Q,null);Na(L,M)}return null}function J(L,R,M,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(M)||null,w(R,L,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xe:return L=L.get(Q.key===null?M:Q.key)||null,A(R,L,Q,se);case ke:return L=L.get(Q.key===null?M:Q.key)||null,F(R,L,Q,se);case At:var le=Q._init;return J(L,R,M,le(Q._payload),se)}if(Hn(Q)||ae(Q))return L=L.get(M)||null,q(R,L,Q,se,null);Na(R,Q)}return null}function re(L,R,M,Q){for(var se=null,le=null,ue=R,de=R=0,yt=null;ue!==null&&de<M.length;de++){ue.index>de?(yt=ue,ue=null):yt=ue.sibling;var De=$(L,ue,M[de],Q);if(De===null){ue===null&&(ue=yt);break}e&&ue&&De.alternate===null&&n(L,ue),R=f(De,R,de),le===null?se=De:le.sibling=De,le=De,ue=yt}if(de===M.length)return i(L,ue),He&&ui(L,de),se;if(ue===null){for(;de<M.length;de++)ue=b(L,M[de],Q),ue!==null&&(R=f(ue,R,de),le===null?se=ue:le.sibling=ue,le=ue);return He&&ui(L,de),se}for(ue=u(L,ue);de<M.length;de++)yt=J(ue,L,de,M[de],Q),yt!==null&&(e&&yt.alternate!==null&&ue.delete(yt.key===null?de:yt.key),R=f(yt,R,de),le===null?se=yt:le.sibling=yt,le=yt);return e&&ue.forEach(function(Lr){return n(L,Lr)}),He&&ui(L,de),se}function ie(L,R,M,Q){var se=ae(M);if(typeof se!="function")throw Error(r(150));if(M=se.call(M),M==null)throw Error(r(151));for(var le=se=null,ue=R,de=R=0,yt=null,De=M.next();ue!==null&&!De.done;de++,De=M.next()){ue.index>de?(yt=ue,ue=null):yt=ue.sibling;var Lr=$(L,ue,De.value,Q);if(Lr===null){ue===null&&(ue=yt);break}e&&ue&&Lr.alternate===null&&n(L,ue),R=f(Lr,R,de),le===null?se=Lr:le.sibling=Lr,le=Lr,ue=yt}if(De.done)return i(L,ue),He&&ui(L,de),se;if(ue===null){for(;!De.done;de++,De=M.next())De=b(L,De.value,Q),De!==null&&(R=f(De,R,de),le===null?se=De:le.sibling=De,le=De);return He&&ui(L,de),se}for(ue=u(L,ue);!De.done;de++,De=M.next())De=J(ue,L,de,De.value,Q),De!==null&&(e&&De.alternate!==null&&ue.delete(De.key===null?de:De.key),R=f(De,R,de),le===null?se=De:le.sibling=De,le=De);return e&&ue.forEach(function(Xg){return n(L,Xg)}),He&&ui(L,de),se}function et(L,R,M,Q){if(typeof M=="object"&&M!==null&&M.type===k&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:e:{for(var se=M.key,le=R;le!==null;){if(le.key===se){if(se=M.type,se===k){if(le.tag===7){i(L,le.sibling),R=h(le,M.props.children),R.return=L,L=R;break e}}else if(le.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&ad(se)===le.type){i(L,le.sibling),R=h(le,M.props),R.ref=vo(L,le,M),R.return=L,L=R;break e}i(L,le);break}else n(L,le);le=le.sibling}M.type===k?(R=yi(M.props.children,L.mode,Q,M.key),R.return=L,L=R):(Q=rl(M.type,M.key,M.props,null,L.mode,Q),Q.ref=vo(L,R,M),Q.return=L,L=Q)}return y(L);case ke:e:{for(le=M.key;R!==null;){if(R.key===le)if(R.tag===4&&R.stateNode.containerInfo===M.containerInfo&&R.stateNode.implementation===M.implementation){i(L,R.sibling),R=h(R,M.children||[]),R.return=L,L=R;break e}else{i(L,R);break}else n(L,R);R=R.sibling}R=dc(M,L.mode,Q),R.return=L,L=R}return y(L);case At:return le=M._init,et(L,R,le(M._payload),Q)}if(Hn(M))return re(L,R,M,Q);if(ae(M))return ie(L,R,M,Q);Na(L,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,R!==null&&R.tag===6?(i(L,R.sibling),R=h(R,M),R.return=L,L=R):(i(L,R),R=hc(M,L.mode,Q),R.return=L,L=R),y(L)):i(L,R)}return et}var ls=ld(!0),ud=ld(!1),La=Sr(null),Oa=null,us=null,wu=null;function Tu(){wu=us=Oa=null}function Su(e){var n=La.current;qe(La),e._currentValue=n}function Iu(e,n,i){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===i)break;e=e.return}}function cs(e,n){Oa=e,wu=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(qt=!0),e.firstContext=null)}function un(e){var n=e._currentValue;if(wu!==e)if(e={context:e,memoizedValue:n,next:null},us===null){if(Oa===null)throw Error(r(308));us=e,Oa.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return n}var ci=null;function Cu(e){ci===null?ci=[e]:ci.push(e)}function cd(e,n,i,u){var h=n.interleaved;return h===null?(i.next=i,Cu(n)):(i.next=h.next,h.next=i),n.interleaved=i,ir(e,u)}function ir(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Ar=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,i){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,xe&2){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,ir(e,i)}return h=u.interleaved,h===null?(n.next=n,Cu(u)):(n.next=h.next,h.next=n),u.interleaved=n,ir(e,i)}function Ma(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,gr(e,i)}}function dd(e,n){var i=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?h=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?h=f=n:f=f.next=n}else h=f=n;i={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,effects:u.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Fa(e,n,i,u){var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var A=w,F=A.next;A.next=null,y===null?f=F:y.next=F,y=A;var q=e.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==y&&(w===null?q.firstBaseUpdate=F:w.next=F,q.lastBaseUpdate=A))}if(f!==null){var b=h.baseState;y=0,q=F=A=null,w=f;do{var $=w.lane,J=w.eventTime;if((u&$)===$){q!==null&&(q=q.next={eventTime:J,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=e,ie=w;switch($=n,J=i,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){b=re.call(J,b,$);break e}b=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(J,b,$):re,$==null)break e;b=Z({},b,$);break e;case 2:Ar=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else J={eventTime:J,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(F=q=J,A=b):q=q.next=J,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(q===null&&(A=b),h.baseState=A,h.firstBaseUpdate=F,h.lastBaseUpdate=q,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else f===null&&(h.shared.lanes=0);fi|=y,e.lanes=y,e.memoizedState=b}}function fd(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var u=e[n],h=u.callback;if(h!==null){if(u.callback=null,u=i,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var _o={},Fn=Sr(_o),Eo=Sr(_o),wo=Sr(_o);function hi(e){if(e===_o)throw Error(r(174));return e}function Ru(e,n){switch(je(wo,n),je(Eo,e),je(Fn,_o),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:at(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=at(n,e)}qe(Fn),je(Fn,n)}function hs(){qe(Fn),qe(Eo),qe(wo)}function pd(e){hi(wo.current);var n=hi(Fn.current),i=at(n,e.type);n!==i&&(je(Eo,e),je(Fn,i))}function Pu(e){Eo.current===e&&(qe(Fn),qe(Eo))}var Qe=Sr(0);function za(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ku=[];function xu(){for(var e=0;e<ku.length;e++)ku[e]._workInProgressVersionPrimary=null;ku.length=0}var Ua=Ee.ReactCurrentDispatcher,Vu=Ee.ReactCurrentBatchConfig,di=0,Ke=null,ut=null,mt=null,Ba=!1,To=!1,So=0,Eg=0;function Pt(){throw Error(r(321))}function Du(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Sn(e[i],n[i]))return!1;return!0}function Nu(e,n,i,u,h,f){if(di=f,Ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ua.current=e===null||e.memoizedState===null?Ig:Cg,e=i(u,h),To){f=0;do{if(To=!1,So=0,25<=f)throw Error(r(301));f+=1,mt=ut=null,n.updateQueue=null,Ua.current=Ag,e=i(u,h)}while(To)}if(Ua.current=qa,n=ut!==null&&ut.next!==null,di=0,mt=ut=Ke=null,Ba=!1,n)throw Error(r(300));return e}function Lu(){var e=So!==0;return So=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=e:mt=mt.next=e,mt}function cn(){if(ut===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var n=mt===null?Ke.memoizedState:mt.next;if(n!==null)mt=n,ut=e;else{if(e===null)throw Error(r(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Ke.memoizedState=mt=e:mt=mt.next=e}return mt}function Io(e,n){return typeof n=="function"?n(e):n}function Ou(e){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=ut,h=u.baseQueue,f=i.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}u.baseQueue=h=f,i.pending=null}if(h!==null){f=h.next,u=u.baseState;var w=y=null,A=null,F=f;do{var q=F.lane;if((di&q)===q)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:e(u,F.action);else{var b={lane:q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(w=A=b,y=u):A=A.next=b,Ke.lanes|=q,fi|=q}F=F.next}while(F!==null&&F!==f);A===null?y=u:A.next=w,Sn(u,n.memoizedState)||(qt=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=A,i.lastRenderedState=u}if(e=i.interleaved,e!==null){h=e;do f=h.lane,Ke.lanes|=f,fi|=f,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Mu(e){var n=cn(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var u=i.dispatch,h=i.pending,f=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);Sn(f,n.memoizedState)||(qt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,u]}function md(){}function gd(e,n){var i=Ke,u=cn(),h=n(),f=!Sn(u.memoizedState,h);if(f&&(u.memoizedState=h,qt=!0),u=u.queue,Fu(_d.bind(null,i,u,e),[e]),u.getSnapshot!==n||f||mt!==null&&mt.memoizedState.tag&1){if(i.flags|=2048,Co(9,vd.bind(null,i,u,h,n),void 0,null),gt===null)throw Error(r(349));di&30||yd(i,n,h)}return h}function yd(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function vd(e,n,i,u){n.value=i,n.getSnapshot=u,Ed(n)&&wd(e)}function _d(e,n,i){return i(function(){Ed(n)&&wd(e)})}function Ed(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Sn(e,i)}catch{return!0}}function wd(e){var n=ir(e,1);n!==null&&Pn(n,e,1,-1)}function Td(e){var n=zn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},n.queue=e,e=e.dispatch=Sg.bind(null,Ke,e),[n.memoizedState,e]}function Co(e,n,i,u){return e={tag:e,create:n,destroy:i,deps:u,next:null},n=Ke.updateQueue,n===null?(n={lastEffect:null,stores:null},Ke.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(u=i.next,i.next=e,e.next=u,n.lastEffect=e)),e}function Sd(){return cn().memoizedState}function ja(e,n,i,u){var h=zn();Ke.flags|=e,h.memoizedState=Co(1|n,i,void 0,u===void 0?null:u)}function $a(e,n,i,u){var h=cn();u=u===void 0?null:u;var f=void 0;if(ut!==null){var y=ut.memoizedState;if(f=y.destroy,u!==null&&Du(u,y.deps)){h.memoizedState=Co(n,i,f,u);return}}Ke.flags|=e,h.memoizedState=Co(1|n,i,f,u)}function Id(e,n){return ja(8390656,8,e,n)}function Fu(e,n){return $a(2048,8,e,n)}function Cd(e,n){return $a(4,2,e,n)}function Ad(e,n){return $a(4,4,e,n)}function Rd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Pd(e,n,i){return i=i!=null?i.concat([e]):null,$a(4,4,Rd.bind(null,n,e),i)}function zu(){}function kd(e,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Du(n,u[1])?u[0]:(i.memoizedState=[e,n],e)}function xd(e,n){var i=cn();n=n===void 0?null:n;var u=i.memoizedState;return u!==null&&n!==null&&Du(n,u[1])?u[0]:(e=e(),i.memoizedState=[e,n],e)}function Vd(e,n,i){return di&21?(Sn(i,n)||(i=ti(),Ke.lanes|=i,fi|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=i)}function wg(e,n){var i=we;we=i!==0&&4>i?i:4,e(!0);var u=Vu.transition;Vu.transition={};try{e(!1),n()}finally{we=i,Vu.transition=u}}function Dd(){return cn().memoizedState}function Tg(e,n,i){var u=Vr(e);if(i={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null},Nd(e))Ld(n,i);else if(i=cd(e,n,i,u),i!==null){var h=Ft();Pn(i,e,u,h),Od(i,n,u)}}function Sg(e,n,i){var u=Vr(e),h={lane:u,action:i,hasEagerState:!1,eagerState:null,next:null};if(Nd(e))Ld(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,w=f(y,i);if(h.hasEagerState=!0,h.eagerState=w,Sn(w,y)){var A=n.interleaved;A===null?(h.next=h,Cu(n)):(h.next=A.next,A.next=h),n.interleaved=h;return}}catch{}finally{}i=cd(e,n,h,u),i!==null&&(h=Ft(),Pn(i,e,u,h),Od(i,n,u))}}function Nd(e){var n=e.alternate;return e===Ke||n!==null&&n===Ke}function Ld(e,n){To=Ba=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Od(e,n,i){if(i&4194240){var u=n.lanes;u&=e.pendingLanes,i|=u,n.lanes=i,gr(e,i)}}var qa={readContext:un,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},Ig={readContext:un,useCallback:function(e,n){return zn().memoizedState=[e,n===void 0?null:n],e},useContext:un,useEffect:Id,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,ja(4194308,4,Rd.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ja(4194308,4,e,n)},useInsertionEffect:function(e,n){return ja(4,2,e,n)},useMemo:function(e,n){var i=zn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var u=zn();return n=i!==void 0?i(n):n,u.memoizedState=u.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},u.queue=e,e=e.dispatch=Tg.bind(null,Ke,e),[u.memoizedState,e]},useRef:function(e){var n=zn();return e={current:e},n.memoizedState=e},useState:Td,useDebugValue:zu,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=Td(!1),n=e[0];return e=wg.bind(null,e[1]),zn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var u=Ke,h=zn();if(He){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),gt===null)throw Error(r(349));di&30||yd(u,n,i)}h.memoizedState=i;var f={value:i,getSnapshot:n};return h.queue=f,Id(_d.bind(null,u,f,e),[e]),u.flags|=2048,Co(9,vd.bind(null,u,f,i,n),void 0,null),i},useId:function(){var e=zn(),n=gt.identifierPrefix;if(He){var i=rr,u=nr;i=(u&~(1<<32-Lt(u)-1)).toString(32)+i,n=":"+n+"R"+i,i=So++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Eg++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Cg={readContext:un,useCallback:kd,useContext:un,useEffect:Fu,useImperativeHandle:Pd,useInsertionEffect:Cd,useLayoutEffect:Ad,useMemo:xd,useReducer:Ou,useRef:Sd,useState:function(){return Ou(Io)},useDebugValue:zu,useDeferredValue:function(e){var n=cn();return Vd(n,ut.memoizedState,e)},useTransition:function(){var e=Ou(Io)[0],n=cn().memoizedState;return[e,n]},useMutableSource:md,useSyncExternalStore:gd,useId:Dd,unstable_isNewReconciler:!1},Ag={readContext:un,useCallback:kd,useContext:un,useEffect:Fu,useImperativeHandle:Pd,useInsertionEffect:Cd,useLayoutEffect:Ad,useMemo:xd,useReducer:Mu,useRef:Sd,useState:function(){return Mu(Io)},useDebugValue:zu,useDeferredValue:function(e){var n=cn();return ut===null?n.memoizedState=e:Vd(n,ut.memoizedState,e)},useTransition:function(){var e=Mu(Io)[0],n=cn().memoizedState;return[e,n]},useMutableSource:md,useSyncExternalStore:gd,useId:Dd,unstable_isNewReconciler:!1};function Cn(e,n){if(e&&e.defaultProps){n=Z({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Uu(e,n,i,u){n=e.memoizedState,i=i(u,n),i=i==null?n:Z({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ba={isMounted:function(e){return(e=e._reactInternals)?gn(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var u=Ft(),h=Vr(e),f=sr(u,h);f.payload=n,i!=null&&(f.callback=i),n=Rr(e,f,h),n!==null&&(Pn(n,e,h,u),Ma(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var u=Ft(),h=Vr(e),f=sr(u,h);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Rr(e,f,h),n!==null&&(Pn(n,e,h,u),Ma(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ft(),u=Vr(e),h=sr(i,u);h.tag=2,n!=null&&(h.callback=n),n=Rr(e,h,u),n!==null&&(Pn(n,e,u,i),Ma(n,e,u))}};function Md(e,n,i,u,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,f,y):n.prototype&&n.prototype.isPureReactComponent?!co(i,u)||!co(h,f):!0}function Fd(e,n,i){var u=!1,h=Ir,f=n.contextType;return typeof f=="object"&&f!==null?f=un(f):(h=$t(n)?ai:Rt.current,u=n.contextTypes,f=(u=u!=null)?is(e,h):Ir),n=new n(i,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ba,e.stateNode=n,n._reactInternals=e,u&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=f),n}function zd(e,n,i,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,u),n.state!==e&&ba.enqueueReplaceState(n,n.state,null)}function Bu(e,n,i,u){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Au(e);var f=n.contextType;typeof f=="object"&&f!==null?h.context=un(f):(f=$t(n)?ai:Rt.current,h.context=is(e,f)),h.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Uu(e,n,f,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&ba.enqueueReplaceState(h,h.state,null),Fa(e,i,h,u),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,n){try{var i="",u=n;do i+=ye(u),u=u.return;while(u);var h=i}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:h,digest:null}}function ju(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function $u(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Rg=typeof WeakMap=="function"?WeakMap:Map;function Ud(e,n,i){i=sr(-1,i),i.tag=3,i.payload={element:null};var u=n.value;return i.callback=function(){Xa||(Xa=!0,rc=u),$u(e,n)},i}function Bd(e,n,i){i=sr(-1,i),i.tag=3;var u=e.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;i.payload=function(){return u(h)},i.callback=function(){$u(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){$u(e,n),typeof u!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function jd(e,n,i){var u=e.pingCache;if(u===null){u=e.pingCache=new Rg;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(i)||(h.add(i),e=jg.bind(null,e,n,i),n.then(e,e))}function $d(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function qd(e,n,i,u,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=sr(-1,1),n.tag=2,Rr(i,n,1))),i.lanes|=1),e)}var Pg=Ee.ReactCurrentOwner,qt=!1;function Mt(e,n,i,u){n.child=e===null?ud(n,null,i,u):ls(n,e.child,i,u)}function bd(e,n,i,u,h){i=i.render;var f=n.ref;return cs(n,h),u=Nu(e,n,i,u,f,h),i=Lu(),e!==null&&!qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,or(e,n,h)):(He&&i&&gu(n),n.flags|=1,Mt(e,n,u,h),n.child)}function Hd(e,n,i,u,h){if(e===null){var f=i.type;return typeof f=="function"&&!cc(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=f,Qd(e,n,f,u,h)):(e=rl(i.type,null,u,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&h)){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:co,i(y,u)&&e.ref===n.ref)return or(e,n,h)}return n.flags|=1,e=Nr(f,u),e.ref=n.ref,e.return=n,n.child=e}function Qd(e,n,i,u,h){if(e!==null){var f=e.memoizedProps;if(co(f,u)&&e.ref===n.ref)if(qt=!1,n.pendingProps=u=f,(e.lanes&h)!==0)e.flags&131072&&(qt=!0);else return n.lanes=e.lanes,or(e,n,h)}return qu(e,n,i,u,h)}function Kd(e,n,i){var u=n.pendingProps,h=u.children,f=e!==null?e.memoizedState:null;if(u.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ps,tn),tn|=i;else{if(!(i&1073741824))return e=f!==null?f.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,je(ps,tn),tn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:i,je(ps,tn),tn|=u}else f!==null?(u=f.baseLanes|i,n.memoizedState=null):u=i,je(ps,tn),tn|=u;return Mt(e,n,h,i),n.child}function Wd(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function qu(e,n,i,u,h){var f=$t(i)?ai:Rt.current;return f=is(n,f),cs(n,h),i=Nu(e,n,i,u,f,h),u=Lu(),e!==null&&!qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,or(e,n,h)):(He&&u&&gu(n),n.flags|=1,Mt(e,n,i,h),n.child)}function Gd(e,n,i,u,h){if($t(i)){var f=!0;Pa(n)}else f=!1;if(cs(n,h),n.stateNode===null)Qa(e,n),Fd(n,i,u),Bu(n,i,u,h),u=!0;else if(e===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var A=y.context,F=i.contextType;typeof F=="object"&&F!==null?F=un(F):(F=$t(i)?ai:Rt.current,F=is(n,F));var q=i.getDerivedStateFromProps,b=typeof q=="function"||typeof y.getSnapshotBeforeUpdate=="function";b||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||A!==F)&&zd(n,y,u,F),Ar=!1;var $=n.memoizedState;y.state=$,Fa(n,u,y,h),A=n.memoizedState,w!==u||$!==A||jt.current||Ar?(typeof q=="function"&&(Uu(n,i,q,u),A=n.memoizedState),(w=Ar||Md(n,i,w,u,$,A,F))?(b||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=A),y.props=u,y.state=A,y.context=F,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,hd(e,n),w=n.memoizedProps,F=n.type===n.elementType?w:Cn(n.type,w),y.props=F,b=n.pendingProps,$=y.context,A=i.contextType,typeof A=="object"&&A!==null?A=un(A):(A=$t(i)?ai:Rt.current,A=is(n,A));var J=i.getDerivedStateFromProps;(q=typeof J=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==b||$!==A)&&zd(n,y,u,A),Ar=!1,$=n.memoizedState,y.state=$,Fa(n,u,y,h);var re=n.memoizedState;w!==b||$!==re||jt.current||Ar?(typeof J=="function"&&(Uu(n,i,J,u),re=n.memoizedState),(F=Ar||Md(n,i,F,u,$,re,A)||!1)?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,re,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,re,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=re),y.props=u,y.state=re,y.context=A,u=F):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(n.flags|=1024),u=!1)}return bu(e,n,i,u,f,h)}function bu(e,n,i,u,h,f){Wd(e,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&ed(n,i,!1),or(e,n,f);u=n.stateNode,Pg.current=n;var w=y&&typeof i.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,e!==null&&y?(n.child=ls(n,e.child,null,f),n.child=ls(n,null,w,f)):Mt(e,n,w,f),n.memoizedState=u.state,h&&ed(n,i,!0),n.child}function Yd(e){var n=e.stateNode;n.pendingContext?Jh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Jh(e,n.context,!1),Ru(e,n.containerInfo)}function Xd(e,n,i,u,h){return as(),Eu(h),n.flags|=256,Mt(e,n,i,u),n.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function Qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jd(e,n,i){var u=n.pendingProps,h=Qe.current,f=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=e!==null&&e.memoizedState===null?!1:(h&2)!==0),w?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),je(Qe,h&1),e===null)return _u(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=u.children,e=u.fallback,f?(u=n.mode,f=n.child,y={mode:"hidden",children:y},!(u&1)&&f!==null?(f.childLanes=0,f.pendingProps=y):f=il(y,u,0,null),e=yi(e,u,i,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Qu(i),n.memoizedState=Hu,e):Ku(n,y));if(h=e.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return kg(e,n,y,u,w,h,i);if(f){f=u.fallback,y=n.mode,h=e.child,w=h.sibling;var A={mode:"hidden",children:u.children};return!(y&1)&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=A,n.deletions=null):(u=Nr(h,A),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?f=Nr(w,f):(f=yi(f,y,i,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,y=e.child.memoizedState,y=y===null?Qu(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~i,n.memoizedState=Hu,u}return f=e.child,e=f.sibling,u=Nr(f,{mode:"visible",children:u.children}),!(n.mode&1)&&(u.lanes=i),u.return=n,u.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=u,n.memoizedState=null,u}function Ku(e,n){return n=il({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ha(e,n,i,u){return u!==null&&Eu(u),ls(n,e.child,null,i),e=Ku(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function kg(e,n,i,u,h,f,y){if(i)return n.flags&256?(n.flags&=-257,u=ju(Error(r(422))),Ha(e,n,y,u)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=u.fallback,h=n.mode,u=il({mode:"visible",children:u.children},h,0,null),f=yi(f,h,y,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,n.mode&1&&ls(n,e.child,null,y),n.child.memoizedState=Qu(y),n.memoizedState=Hu,f);if(!(n.mode&1))return Ha(e,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,f=Error(r(419)),u=ju(f,u,void 0),Ha(e,n,y,u)}if(w=(y&e.childLanes)!==0,qt||w){if(u=gt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|y)?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,ir(e,h),Pn(u,e,h,-1))}return uc(),u=ju(Error(r(421))),Ha(e,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=$g.bind(null,e),h._reactRetry=n,null):(e=f.treeContext,en=Tr(h.nextSibling),Zt=n,He=!0,In=null,e!==null&&(an[ln++]=nr,an[ln++]=rr,an[ln++]=li,nr=e.id,rr=e.overflow,li=n),n=Ku(n,u.children),n.flags|=4096,n)}function Zd(e,n,i){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),Iu(e.return,n,i)}function Wu(e,n,i,u,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=i,f.tailMode=h)}function ef(e,n,i){var u=n.pendingProps,h=u.revealOrder,f=u.tail;if(Mt(e,n,u.children,i),u=Qe.current,u&2)u=u&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,i,n);else if(e.tag===19)Zd(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(je(Qe,u),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&za(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Wu(n,!1,h,i,f);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&za(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Wu(n,!0,i,null,f);break;case"together":Wu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Qa(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function or(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),fi|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=Nr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Nr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function xg(e,n,i){switch(n.tag){case 3:Yd(n),as();break;case 5:pd(n);break;case 1:$t(n.type)&&Pa(n);break;case 4:Ru(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;je(La,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(je(Qe,Qe.current&1),n.flags|=128,null):i&n.child.childLanes?Jd(e,n,i):(je(Qe,Qe.current&1),e=or(e,n,i),e!==null?e.sibling:null);je(Qe,Qe.current&1);break;case 19:if(u=(i&n.childLanes)!==0,e.flags&128){if(u)return ef(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),je(Qe,Qe.current),u)break;return null;case 22:case 23:return n.lanes=0,Kd(e,n,i)}return or(e,n,i)}var tf,Gu,nf,rf;tf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Gu=function(){},nf=function(e,n,i,u){var h=e.memoizedProps;if(h!==u){e=n.stateNode,hi(Fn.current);var f=null;switch(i){case"input":h=br(e,h),u=br(e,u),f=[];break;case"select":h=Z({},h,{value:void 0}),u=Z({},u,{value:void 0}),f=[];break;case"textarea":h=Us(e,h),u=Us(e,u),f=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(e.onclick=Ca)}Hs(i,u);var y;i=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(y in w)w.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(l.hasOwnProperty(F)?f||(f=[]):(f=f||[]).push(F,null));for(F in u){var A=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&A!==w&&(A!=null||w!=null))if(F==="style")if(w){for(y in w)!w.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in A)A.hasOwnProperty(y)&&w[y]!==A[y]&&(i||(i={}),i[y]=A[y])}else i||(f||(f=[]),f.push(F,i)),i=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,w=w?w.__html:void 0,A!=null&&w!==A&&(f=f||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(f=f||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(l.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&$e("scroll",e),f||w===A||(f=[])):(f=f||[]).push(F,A))}i&&(f=f||[]).push("style",i);var F=f;(n.updateQueue=F)&&(n.flags|=4)}},rf=function(e,n,i,u){i!==u&&(n.flags|=4)};function Ao(e,n){if(!He)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,u=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=u,e.childLanes=i,n}function Vg(e,n,i){var u=n.pendingProps;switch(yu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(n),null;case 1:return $t(n.type)&&Ra(),kt(n),null;case 3:return u=n.stateNode,hs(),qe(jt),qe(Rt),xu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(Da(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,In!==null&&(oc(In),In=null))),Gu(e,n),kt(n),null;case 5:Pu(n);var h=hi(wo.current);if(i=n.type,e!==null&&n.stateNode!=null)nf(e,n,i,u,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return kt(n),null}if(e=hi(Fn.current),Da(n)){u=n.stateNode,i=n.type;var f=n.memoizedProps;switch(u[Mn]=n,u[go]=f,e=(n.mode&1)!==0,i){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<fo.length;h++)$e(fo[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Ai(u,f),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},$e("invalid",u);break;case"textarea":Pi(u,f),$e("invalid",u)}Hs(i,f),h=null;for(var y in f)if(f.hasOwnProperty(y)){var w=f[y];y==="children"?typeof w=="string"?u.textContent!==w&&(f.suppressHydrationWarning!==!0&&Ia(u.textContent,w,e),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&Ia(u.textContent,w,e),h=["children",""+w]):l.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&$e("scroll",u)}switch(i){case"input":bn(u),Yo(u,f,!0);break;case"textarea":bn(u),Bs(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=Ca)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ot(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof u.is=="string"?e=y.createElement(i,{is:u.is}):(e=y.createElement(i),i==="select"&&(y=e,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):e=y.createElementNS(e,i),e[Mn]=n,e[go]=u,tf(e,n,!1,!1),n.stateNode=e;e:{switch(y=Qs(i,u),i){case"dialog":$e("cancel",e),$e("close",e),h=u;break;case"iframe":case"object":case"embed":$e("load",e),h=u;break;case"video":case"audio":for(h=0;h<fo.length;h++)$e(fo[h],e);h=u;break;case"source":$e("error",e),h=u;break;case"img":case"image":case"link":$e("error",e),$e("load",e),h=u;break;case"details":$e("toggle",e),h=u;break;case"input":Ai(e,u),h=br(e,u),$e("invalid",e);break;case"option":h=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},h=Z({},u,{value:void 0}),$e("invalid",e);break;case"textarea":Pi(e,u),h=Us(e,u),$e("invalid",e);break;default:h=u}Hs(i,h),w=h;for(f in w)if(w.hasOwnProperty(f)){var A=w[f];f==="style"?qs(e,A):f==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&js(e,A)):f==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&hr(e,A):typeof A=="number"&&hr(e,""+A):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?A!=null&&f==="onScroll"&&$e("scroll",e):A!=null&&_e(e,f,A,y))}switch(i){case"input":bn(e),Yo(e,u,!1);break;case"textarea":bn(e),Bs(e);break;case"option":u.value!=null&&e.setAttribute("value",""+Oe(u.value));break;case"select":e.multiple=!!u.multiple,f=u.value,f!=null?Qn(e,!!u.multiple,f,!1):u.defaultValue!=null&&Qn(e,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Ca)}switch(i){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return kt(n),null;case 6:if(e&&n.stateNode!=null)rf(e,n,e.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=hi(wo.current),hi(Fn.current),Da(n)){if(u=n.stateNode,i=n.memoizedProps,u[Mn]=n,(f=u.nodeValue!==i)&&(e=Zt,e!==null))switch(e.tag){case 3:Ia(u.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ia(u.nodeValue,i,(e.mode&1)!==0)}f&&(n.flags|=4)}else u=(i.nodeType===9?i:i.ownerDocument).createTextNode(u),u[Mn]=n,n.stateNode=u}return kt(n),null;case 13:if(qe(Qe),u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&en!==null&&n.mode&1&&!(n.flags&128))od(),as(),n.flags|=98560,f=!1;else if(f=Da(n),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Mn]=n}else as(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;kt(n),f=!1}else In!==null&&(oc(In),In=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(u=u!==null,u!==(e!==null&&e.memoizedState!==null)&&u&&(n.child.flags|=8192,n.mode&1&&(e===null||Qe.current&1?ct===0&&(ct=3):uc())),n.updateQueue!==null&&(n.flags|=4),kt(n),null);case 4:return hs(),Gu(e,n),e===null&&po(n.stateNode.containerInfo),kt(n),null;case 10:return Su(n.type._context),kt(n),null;case 17:return $t(n.type)&&Ra(),kt(n),null;case 19:if(qe(Qe),f=n.memoizedState,f===null)return kt(n),null;if(u=(n.flags&128)!==0,y=f.rendering,y===null)if(u)Ao(f,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=za(e),y!==null){for(n.flags|=128,Ao(f,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=i,i=n.child;i!==null;)f=i,e=u,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return je(Qe,Qe.current&1|2),n.child}e=e.sibling}f.tail!==null&&Be()>ms&&(n.flags|=128,u=!0,Ao(f,!1),n.lanes=4194304)}else{if(!u)if(e=za(y),e!==null){if(n.flags|=128,u=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),Ao(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!He)return kt(n),null}else 2*Be()-f.renderingStartTime>ms&&i!==1073741824&&(n.flags|=128,u=!0,Ao(f,!1),n.lanes=4194304);f.isBackwards?(y.sibling=n.child,n.child=y):(i=f.last,i!==null?i.sibling=y:n.child=y,f.last=y)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Be(),n.sibling=null,i=Qe.current,je(Qe,u?i&1|2:i&1),n):(kt(n),null);case 22:case 23:return lc(),u=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==u&&(n.flags|=8192),u&&n.mode&1?tn&1073741824&&(kt(n),n.subtreeFlags&6&&(n.flags|=8192)):kt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Dg(e,n){switch(yu(n),n.tag){case 1:return $t(n.type)&&Ra(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hs(),qe(jt),qe(Rt),xu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Pu(n),null;case 13:if(qe(Qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));as()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return qe(Qe),null;case 4:return hs(),null;case 10:return Su(n.type._context),null;case 22:case 23:return lc(),null;case 24:return null;default:return null}}var Ka=!1,xt=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,ne=null;function fs(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(u){Ge(e,n,u)}else i.current=null}function Yu(e,n,i){try{i()}catch(u){Ge(e,n,u)}}var sf=!1;function Lg(e,n){if(lu=_r,e=Mh(),eu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var y=0,w=-1,A=-1,F=0,q=0,b=e,$=null;t:for(;;){for(var J;b!==i||h!==0&&b.nodeType!==3||(w=y+h),b!==f||u!==0&&b.nodeType!==3||(A=y+u),b.nodeType===3&&(y+=b.nodeValue.length),(J=b.firstChild)!==null;)$=b,b=J;for(;;){if(b===e)break t;if($===i&&++F===h&&(w=y),$===f&&++q===u&&(A=y),(J=b.nextSibling)!==null)break;b=$,$=b.parentNode}b=J}i=w===-1||A===-1?null:{start:w,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(uu={focusedElem:e,selectionRange:i},_r=!1,ne=n;ne!==null;)if(n=ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ne=e;else for(;ne!==null;){n=ne;try{var re=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,et=re.memoizedState,L=n.stateNode,R=L.getSnapshotBeforeUpdate(n.elementType===n.type?ie:Cn(n.type,ie),et);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){Ge(n,n.return,Q)}if(e=n.sibling,e!==null){e.return=n.return,ne=e;break}ne=n.return}return re=sf,sf=!1,re}function Ro(e,n,i){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&e)===e){var f=h.destroy;h.destroy=void 0,f!==void 0&&Yu(n,i,f)}h=h.next}while(h!==u)}}function Wa(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var u=i.create;i.destroy=u()}i=i.next}while(i!==n)}}function Xu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function of(e){var n=e.alternate;n!==null&&(e.alternate=null,of(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Mn],delete n[go],delete n[fu],delete n[gg],delete n[yg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function af(e){return e.tag===5||e.tag===3||e.tag===4}function lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||af(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ju(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Ca));else if(u!==4&&(e=e.child,e!==null))for(Ju(e,n,i),e=e.sibling;e!==null;)Ju(e,n,i),e=e.sibling}function Zu(e,n,i){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(u!==4&&(e=e.child,e!==null))for(Zu(e,n,i),e=e.sibling;e!==null;)Zu(e,n,i),e=e.sibling}var wt=null,An=!1;function Pr(e,n,i){for(i=i.child;i!==null;)uf(e,n,i),i=i.sibling}function uf(e,n,i){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Zr,i)}catch{}switch(i.tag){case 5:xt||fs(i,n);case 6:var u=wt,h=An;wt=null,Pr(e,n,i),wt=u,An=h,wt!==null&&(An?(e=wt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):wt.removeChild(i.stateNode));break;case 18:wt!==null&&(An?(e=wt,i=i.stateNode,e.nodeType===8?du(e.parentNode,i):e.nodeType===1&&du(e,i),wn(e)):du(wt,i.stateNode));break;case 4:u=wt,h=An,wt=i.stateNode.containerInfo,An=!0,Pr(e,n,i),wt=u,An=h;break;case 0:case 11:case 14:case 15:if(!xt&&(u=i.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var f=h,y=f.destroy;f=f.tag,y!==void 0&&(f&2||f&4)&&Yu(i,n,y),h=h.next}while(h!==u)}Pr(e,n,i);break;case 1:if(!xt&&(fs(i,n),u=i.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=i.memoizedProps,u.state=i.memoizedState,u.componentWillUnmount()}catch(w){Ge(i,n,w)}Pr(e,n,i);break;case 21:Pr(e,n,i);break;case 22:i.mode&1?(xt=(u=xt)||i.memoizedState!==null,Pr(e,n,i),xt=u):Pr(e,n,i);break;default:Pr(e,n,i)}}function cf(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Ng),n.forEach(function(u){var h=qg.bind(null,e,u);i.has(u)||(i.add(u),u.then(h,h))})}}function Rn(e,n){var i=n.deletions;if(i!==null)for(var u=0;u<i.length;u++){var h=i[u];try{var f=e,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:wt=w.stateNode,An=!1;break e;case 3:wt=w.stateNode.containerInfo,An=!0;break e;case 4:wt=w.stateNode.containerInfo,An=!0;break e}w=w.return}if(wt===null)throw Error(r(160));uf(f,y,h),wt=null,An=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(F){Ge(h,n,F)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)hf(n,e),n=n.sibling}function hf(e,n){var i=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rn(n,e),Un(e),u&4){try{Ro(3,e,e.return),Wa(3,e)}catch(ie){Ge(e,e.return,ie)}try{Ro(5,e,e.return)}catch(ie){Ge(e,e.return,ie)}}break;case 1:Rn(n,e),Un(e),u&512&&i!==null&&fs(i,i.return);break;case 5:if(Rn(n,e),Un(e),u&512&&i!==null&&fs(i,i.return),e.flags&32){var h=e.stateNode;try{hr(h,"")}catch(ie){Ge(e,e.return,ie)}}if(u&4&&(h=e.stateNode,h!=null)){var f=e.memoizedProps,y=i!==null?i.memoizedProps:f,w=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Fs(h,f),Qs(w,y);var F=Qs(w,f);for(y=0;y<A.length;y+=2){var q=A[y],b=A[y+1];q==="style"?qs(h,b):q==="dangerouslySetInnerHTML"?js(h,b):q==="children"?hr(h,b):_e(h,q,b,F)}switch(w){case"input":zs(h,f);break;case"textarea":ki(h,f);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var J=f.value;J!=null?Qn(h,!!f.multiple,J,!1):$!==!!f.multiple&&(f.defaultValue!=null?Qn(h,!!f.multiple,f.defaultValue,!0):Qn(h,!!f.multiple,f.multiple?[]:"",!1))}h[go]=f}catch(ie){Ge(e,e.return,ie)}}break;case 6:if(Rn(n,e),Un(e),u&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,f=e.memoizedProps;try{h.nodeValue=f}catch(ie){Ge(e,e.return,ie)}}break;case 3:if(Rn(n,e),Un(e),u&4&&i!==null&&i.memoizedState.isDehydrated)try{wn(n.containerInfo)}catch(ie){Ge(e,e.return,ie)}break;case 4:Rn(n,e),Un(e);break;case 13:Rn(n,e),Un(e),h=e.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(nc=Be())),u&4&&cf(e);break;case 22:if(q=i!==null&&i.memoizedState!==null,e.mode&1?(xt=(F=xt)||q,Rn(n,e),xt=F):Rn(n,e),Un(e),u&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!q&&e.mode&1)for(ne=e,q=e.child;q!==null;){for(b=ne=q;ne!==null;){switch($=ne,J=$.child,$.tag){case 0:case 11:case 14:case 15:Ro(4,$,$.return);break;case 1:fs($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,i=$.return;try{n=u,re.props=n.memoizedProps,re.state=n.memoizedState,re.componentWillUnmount()}catch(ie){Ge(u,i,ie)}}break;case 5:fs($,$.return);break;case 22:if($.memoizedState!==null){pf(b);continue}}J!==null?(J.return=$,ne=J):pf(b)}q=q.sibling}e:for(q=null,b=e;;){if(b.tag===5){if(q===null){q=b;try{h=b.stateNode,F?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=b.stateNode,A=b.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,w.style.display=$s("display",y))}catch(ie){Ge(e,e.return,ie)}}}else if(b.tag===6){if(q===null)try{b.stateNode.nodeValue=F?"":b.memoizedProps}catch(ie){Ge(e,e.return,ie)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;q===b&&(q=null),b=b.return}q===b&&(q=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:Rn(n,e),Un(e),u&4&&cf(e);break;case 21:break;default:Rn(n,e),Un(e)}}function Un(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(af(i)){var u=i;break e}i=i.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(hr(h,""),u.flags&=-33);var f=lf(e);Zu(e,f,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=lf(e);Ju(e,w,y);break;default:throw Error(r(161))}}catch(A){Ge(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Og(e,n,i){ne=e,df(e)}function df(e,n,i){for(var u=(e.mode&1)!==0;ne!==null;){var h=ne,f=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||Ka;if(!y){var w=h.alternate,A=w!==null&&w.memoizedState!==null||xt;w=Ka;var F=xt;if(Ka=y,(xt=A)&&!F)for(ne=h;ne!==null;)y=ne,A=y.child,y.tag===22&&y.memoizedState!==null?mf(h):A!==null?(A.return=y,ne=A):mf(h);for(;f!==null;)ne=f,df(f),f=f.sibling;ne=h,Ka=w,xt=F}ff(e)}else h.subtreeFlags&8772&&f!==null?(f.return=h,ne=f):ff(e)}}function ff(e){for(;ne!==null;){var n=ne;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:xt||Wa(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!xt)if(i===null)u.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:Cn(n.type,i.memoizedProps);u.componentDidUpdate(h,i.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&fd(n,f,u);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}fd(n,y,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var F=n.alternate;if(F!==null){var q=F.memoizedState;if(q!==null){var b=q.dehydrated;b!==null&&wn(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xt||n.flags&512&&Xu(n)}catch($){Ge(n,n.return,$)}}if(n===e){ne=null;break}if(i=n.sibling,i!==null){i.return=n.return,ne=i;break}ne=n.return}}function pf(e){for(;ne!==null;){var n=ne;if(n===e){ne=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ne=i;break}ne=n.return}}function mf(e){for(;ne!==null;){var n=ne;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Wa(4,n)}catch(A){Ge(n,i,A)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(A){Ge(n,h,A)}}var f=n.return;try{Xu(n)}catch(A){Ge(n,f,A)}break;case 5:var y=n.return;try{Xu(n)}catch(A){Ge(n,y,A)}}}catch(A){Ge(n,n.return,A)}if(n===e){ne=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ne=w;break}ne=n.return}}var Mg=Math.ceil,Ga=Ee.ReactCurrentDispatcher,ec=Ee.ReactCurrentOwner,hn=Ee.ReactCurrentBatchConfig,xe=0,gt=null,it=null,Tt=0,tn=0,ps=Sr(0),ct=0,Po=null,fi=0,Ya=0,tc=0,ko=null,bt=null,nc=0,ms=1/0,ar=null,Xa=!1,rc=null,kr=null,Ja=!1,xr=null,Za=0,xo=0,ic=null,el=-1,tl=0;function Ft(){return xe&6?Be():el!==-1?el:el=Be()}function Vr(e){return e.mode&1?xe&2&&Tt!==0?Tt&-Tt:_g.transition!==null?(tl===0&&(tl=ti()),tl):(e=we,e!==0||(e=window.event,e=e===void 0?16:ro(e.type)),e):1}function Pn(e,n,i,u){if(50<xo)throw xo=0,ic=null,Error(r(185));mr(e,i,u),(!(xe&2)||e!==gt)&&(e===gt&&(!(xe&2)&&(Ya|=i),ct===4&&Dr(e,Tt)),Ht(e,u),i===1&&xe===0&&!(n.mode&1)&&(ms=Be()+500,ka&&Cr()))}function Ht(e,n){var i=e.callbackNode;Gn(e,n);var u=ei(e,e===gt?Tt:0);if(u===0)i!==null&&Js(i),e.callbackNode=null,e.callbackPriority=0;else if(n=u&-u,e.callbackPriority!==n){if(i!=null&&Js(i),n===1)e.tag===0?vg(yf.bind(null,e)):td(yf.bind(null,e)),pg(function(){!(xe&6)&&Cr()}),i=null;else{switch(yr(u)){case 1:i=Jr;break;case 4:i=dr;break;case 16:i=rn;break;case 536870912:i=ta;break;default:i=rn}i=Cf(i,gf.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function gf(e,n){if(el=-1,tl=0,xe&6)throw Error(r(327));var i=e.callbackNode;if(gs()&&e.callbackNode!==i)return null;var u=ei(e,e===gt?Tt:0);if(u===0)return null;if(u&30||u&e.expiredLanes||n)n=nl(e,u);else{n=u;var h=xe;xe|=2;var f=_f();(gt!==e||Tt!==n)&&(ar=null,ms=Be()+500,mi(e,n));do try{Ug();break}catch(w){vf(e,w)}while(!0);Tu(),Ga.current=f,xe=h,it!==null?n=0:(gt=null,Tt=0,n=ct)}if(n!==0){if(n===2&&(h=Yt(e),h!==0&&(u=h,n=sc(e,h))),n===1)throw i=Po,mi(e,0),Dr(e,u),Ht(e,Be()),i;if(n===6)Dr(e,u);else{if(h=e.current.alternate,!(u&30)&&!Fg(h)&&(n=nl(e,u),n===2&&(f=Yt(e),f!==0&&(u=f,n=sc(e,f))),n===1))throw i=Po,mi(e,0),Dr(e,u),Ht(e,Be()),i;switch(e.finishedWork=h,e.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:gi(e,bt,ar);break;case 3:if(Dr(e,u),(u&130023424)===u&&(n=nc+500-Be(),10<n)){if(ei(e,0)!==0)break;if(h=e.suspendedLanes,(h&u)!==u){Ft(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=hu(gi.bind(null,e,bt,ar),n);break}gi(e,bt,ar);break;case 4:if(Dr(e,u),(u&4194240)===u)break;for(n=e.eventTimes,h=-1;0<u;){var y=31-Lt(u);f=1<<y,y=n[y],y>h&&(h=y),u&=~f}if(u=h,u=Be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Mg(u/1960))-u,10<u){e.timeoutHandle=hu(gi.bind(null,e,bt,ar),u);break}gi(e,bt,ar);break;case 5:gi(e,bt,ar);break;default:throw Error(r(329))}}}return Ht(e,Be()),e.callbackNode===i?gf.bind(null,e):null}function sc(e,n){var i=ko;return e.current.memoizedState.isDehydrated&&(mi(e,n).flags|=256),e=nl(e,n),e!==2&&(n=bt,bt=i,n!==null&&oc(n)),e}function oc(e){bt===null?bt=e:bt.push.apply(bt,e)}function Fg(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var u=0;u<i.length;u++){var h=i[u],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(e,n){for(n&=~tc,n&=~Ya,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Lt(n),u=1<<i;e[i]=-1,n&=~u}}function yf(e){if(xe&6)throw Error(r(327));gs();var n=ei(e,0);if(!(n&1))return Ht(e,Be()),null;var i=nl(e,n);if(e.tag!==0&&i===2){var u=Yt(e);u!==0&&(n=u,i=sc(e,u))}if(i===1)throw i=Po,mi(e,0),Dr(e,n),Ht(e,Be()),i;if(i===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,gi(e,bt,ar),Ht(e,Be()),null}function ac(e,n){var i=xe;xe|=1;try{return e(n)}finally{xe=i,xe===0&&(ms=Be()+500,ka&&Cr())}}function pi(e){xr!==null&&xr.tag===0&&!(xe&6)&&gs();var n=xe;xe|=1;var i=hn.transition,u=we;try{if(hn.transition=null,we=1,e)return e()}finally{we=u,hn.transition=i,xe=n,!(xe&6)&&Cr()}}function lc(){tn=ps.current,qe(ps)}function mi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,fg(i)),it!==null)for(i=it.return;i!==null;){var u=i;switch(yu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ra();break;case 3:hs(),qe(jt),qe(Rt),xu();break;case 5:Pu(u);break;case 4:hs();break;case 13:qe(Qe);break;case 19:qe(Qe);break;case 10:Su(u.type._context);break;case 22:case 23:lc()}i=i.return}if(gt=e,it=e=Nr(e.current,null),Tt=tn=n,ct=0,Po=null,tc=Ya=fi=0,bt=ko=null,ci!==null){for(n=0;n<ci.length;n++)if(i=ci[n],u=i.interleaved,u!==null){i.interleaved=null;var h=u.next,f=i.pending;if(f!==null){var y=f.next;f.next=h,u.next=y}i.pending=u}ci=null}return e}function vf(e,n){do{var i=it;try{if(Tu(),Ua.current=qa,Ba){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Ba=!1}if(di=0,mt=ut=Ke=null,To=!1,So=0,ec.current=null,i===null||i.return===null){ct=1,Po=n,it=null;break}e:{var f=e,y=i.return,w=i,A=n;if(n=Tt,w.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,q=w,b=q.tag;if(!(q.mode&1)&&(b===0||b===11||b===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var J=$d(y);if(J!==null){J.flags&=-257,qd(J,y,w,f,n),J.mode&1&&jd(f,F,n),n=J,A=F;var re=n.updateQueue;if(re===null){var ie=new Set;ie.add(A),n.updateQueue=ie}else re.add(A);break e}else{if(!(n&1)){jd(f,F,n),uc();break e}A=Error(r(426))}}else if(He&&w.mode&1){var et=$d(y);if(et!==null){!(et.flags&65536)&&(et.flags|=256),qd(et,y,w,f,n),Eu(ds(A,w));break e}}f=A=ds(A,w),ct!==4&&(ct=2),ko===null?ko=[f]:ko.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var L=Ud(f,A,n);dd(f,L);break e;case 1:w=A;var R=f.type,M=f.stateNode;if(!(f.flags&128)&&(typeof R.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(kr===null||!kr.has(M)))){f.flags|=65536,n&=-n,f.lanes|=n;var Q=Bd(f,w,n);dd(f,Q);break e}}f=f.return}while(f!==null)}wf(i)}catch(se){n=se,it===i&&i!==null&&(it=i=i.return);continue}break}while(!0)}function _f(){var e=Ga.current;return Ga.current=qa,e===null?qa:e}function uc(){(ct===0||ct===3||ct===2)&&(ct=4),gt===null||!(fi&268435455)&&!(Ya&268435455)||Dr(gt,Tt)}function nl(e,n){var i=xe;xe|=2;var u=_f();(gt!==e||Tt!==n)&&(ar=null,mi(e,n));do try{zg();break}catch(h){vf(e,h)}while(!0);if(Tu(),xe=i,Ga.current=u,it!==null)throw Error(r(261));return gt=null,Tt=0,ct}function zg(){for(;it!==null;)Ef(it)}function Ug(){for(;it!==null&&!Zo();)Ef(it)}function Ef(e){var n=If(e.alternate,e,tn);e.memoizedProps=e.pendingProps,n===null?wf(e):it=n,ec.current=null}function wf(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=Dg(i,n),i!==null){i.flags&=32767,it=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,it=null;return}}else if(i=Vg(i,n,tn),i!==null){it=i;return}if(n=n.sibling,n!==null){it=n;return}it=n=e}while(n!==null);ct===0&&(ct=5)}function gi(e,n,i){var u=we,h=hn.transition;try{hn.transition=null,we=1,Bg(e,n,i,u)}finally{hn.transition=h,we=u}return null}function Bg(e,n,i,u){do gs();while(xr!==null);if(xe&6)throw Error(r(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(ze(e,f),e===gt&&(it=gt=null,Tt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Ja||(Ja=!0,Cf(rn,function(){return gs(),null})),f=(i.flags&15990)!==0,i.subtreeFlags&15990||f){f=hn.transition,hn.transition=null;var y=we;we=1;var w=xe;xe|=4,ec.current=null,Lg(e,i),hf(i,e),og(uu),_r=!!lu,uu=lu=null,e.current=i,Og(i),Ql(),xe=w,we=y,hn.transition=f}else e.current=i;if(Ja&&(Ja=!1,xr=e,Za=h),f=e.pendingLanes,f===0&&(kr=null),na(i.stateNode),Ht(e,Be()),n!==null)for(u=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],u(h.value,{componentStack:h.stack,digest:h.digest});if(Xa)throw Xa=!1,e=rc,rc=null,e;return Za&1&&e.tag!==0&&gs(),f=e.pendingLanes,f&1?e===ic?xo++:(xo=0,ic=e):xo=0,Cr(),null}function gs(){if(xr!==null){var e=yr(Za),n=hn.transition,i=we;try{if(hn.transition=null,we=16>e?16:e,xr===null)var u=!1;else{if(e=xr,xr=null,Za=0,xe&6)throw Error(r(331));var h=xe;for(xe|=4,ne=e.current;ne!==null;){var f=ne,y=f.child;if(ne.flags&16){var w=f.deletions;if(w!==null){for(var A=0;A<w.length;A++){var F=w[A];for(ne=F;ne!==null;){var q=ne;switch(q.tag){case 0:case 11:case 15:Ro(8,q,f)}var b=q.child;if(b!==null)b.return=q,ne=b;else for(;ne!==null;){q=ne;var $=q.sibling,J=q.return;if(of(q),q===F){ne=null;break}if($!==null){$.return=J,ne=$;break}ne=J}}}var re=f.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var et=ie.sibling;ie.sibling=null,ie=et}while(ie!==null)}}ne=f}}if(f.subtreeFlags&2064&&y!==null)y.return=f,ne=y;else e:for(;ne!==null;){if(f=ne,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ro(9,f,f.return)}var L=f.sibling;if(L!==null){L.return=f.return,ne=L;break e}ne=f.return}}var R=e.current;for(ne=R;ne!==null;){y=ne;var M=y.child;if(y.subtreeFlags&2064&&M!==null)M.return=y,ne=M;else e:for(y=R;ne!==null;){if(w=ne,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:Wa(9,w)}}catch(se){Ge(w,w.return,se)}if(w===y){ne=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,ne=Q;break e}ne=w.return}}if(xe=h,Cr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Zr,e)}catch{}u=!0}return u}finally{we=i,hn.transition=n}}return!1}function Tf(e,n,i){n=ds(i,n),n=Ud(e,n,1),e=Rr(e,n,1),n=Ft(),e!==null&&(mr(e,1,n),Ht(e,n))}function Ge(e,n,i){if(e.tag===3)Tf(e,e,i);else for(;n!==null;){if(n.tag===3){Tf(n,e,i);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(kr===null||!kr.has(u))){e=ds(i,e),e=Bd(n,e,1),n=Rr(n,e,1),e=Ft(),n!==null&&(mr(n,1,e),Ht(n,e));break}}n=n.return}}function jg(e,n,i){var u=e.pingCache;u!==null&&u.delete(n),n=Ft(),e.pingedLanes|=e.suspendedLanes&i,gt===e&&(Tt&i)===i&&(ct===4||ct===3&&(Tt&130023424)===Tt&&500>Be()-nc?mi(e,0):tc|=i),Ht(e,n)}function Sf(e,n){n===0&&(e.mode&1?(n=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):n=1);var i=Ft();e=ir(e,n),e!==null&&(mr(e,n,i),Ht(e,i))}function $g(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Sf(e,i)}function qg(e,n){var i=0;switch(e.tag){case 13:var u=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Sf(e,i)}var If;If=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||jt.current)qt=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return qt=!1,xg(e,n,i);qt=!!(e.flags&131072)}else qt=!1,He&&n.flags&1048576&&nd(n,Va,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;Qa(e,n),e=n.pendingProps;var h=is(n,Rt.current);cs(n,i),h=Nu(null,n,u,e,h,i);var f=Lu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$t(u)?(f=!0,Pa(n)):f=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Au(n),h.updater=ba,n.stateNode=h,h._reactInternals=n,Bu(n,u,e,i),n=bu(null,n,u,!0,f,i)):(n.tag=0,He&&f&&gu(n),Mt(null,n,h,i),n=n.child),n;case 16:u=n.elementType;e:{switch(Qa(e,n),e=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=Hg(u),e=Cn(u,e),h){case 0:n=qu(null,n,u,e,i);break e;case 1:n=Gd(null,n,u,e,i);break e;case 11:n=bd(null,n,u,e,i);break e;case 14:n=Hd(null,n,u,Cn(u.type,e),i);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),qu(e,n,u,h,i);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),Gd(e,n,u,h,i);case 3:e:{if(Yd(n),e===null)throw Error(r(387));u=n.pendingProps,f=n.memoizedState,h=f.element,hd(e,n),Fa(n,u,null,i);var y=n.memoizedState;if(u=y.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){h=ds(Error(r(423)),n),n=Xd(e,n,u,i,h);break e}else if(u!==h){h=ds(Error(r(424)),n),n=Xd(e,n,u,i,h);break e}else for(en=Tr(n.stateNode.containerInfo.firstChild),Zt=n,He=!0,In=null,i=ud(n,null,u,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(as(),u===h){n=or(e,n,i);break e}Mt(e,n,u,i)}n=n.child}return n;case 5:return pd(n),e===null&&_u(n),u=n.type,h=n.pendingProps,f=e!==null?e.memoizedProps:null,y=h.children,cu(u,h)?y=null:f!==null&&cu(u,f)&&(n.flags|=32),Wd(e,n),Mt(e,n,y,i),n.child;case 6:return e===null&&_u(n),null;case 13:return Jd(e,n,i);case 4:return Ru(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=ls(n,null,u,i):Mt(e,n,u,i),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),bd(e,n,u,h,i);case 7:return Mt(e,n,n.pendingProps,i),n.child;case 8:return Mt(e,n,n.pendingProps.children,i),n.child;case 12:return Mt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,f=n.memoizedProps,y=h.value,je(La,u._currentValue),u._currentValue=y,f!==null)if(Sn(f.value,y)){if(f.children===h.children&&!jt.current){n=or(e,n,i);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var w=f.dependencies;if(w!==null){y=f.child;for(var A=w.firstContext;A!==null;){if(A.context===u){if(f.tag===1){A=sr(-1,i&-i),A.tag=2;var F=f.updateQueue;if(F!==null){F=F.shared;var q=F.pending;q===null?A.next=A:(A.next=q.next,q.next=A),F.pending=A}}f.lanes|=i,A=f.alternate,A!==null&&(A.lanes|=i),Iu(f.return,i,n),w.lanes|=i;break}A=A.next}}else if(f.tag===10)y=f.type===n.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(r(341));y.lanes|=i,w=y.alternate,w!==null&&(w.lanes|=i),Iu(y,i,n),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}Mt(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,cs(n,i),h=un(h),u=u(h),n.flags|=1,Mt(e,n,u,i),n.child;case 14:return u=n.type,h=Cn(u,n.pendingProps),h=Cn(u.type,h),Hd(e,n,u,h,i);case 15:return Qd(e,n,n.type,n.pendingProps,i);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Cn(u,h),Qa(e,n),n.tag=1,$t(u)?(e=!0,Pa(n)):e=!1,cs(n,i),Fd(n,u,h),Bu(n,u,h,i),bu(null,n,u,!0,e,i);case 19:return ef(e,n,i);case 22:return Kd(e,n,i)}throw Error(r(156,n.tag))};function Cf(e,n){return Fi(e,n)}function bg(e,n,i,u){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,i,u){return new bg(e,n,i,u)}function cc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hg(e){if(typeof e=="function")return cc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===D)return 11;if(e===Ct)return 14}return 2}function Nr(e,n){var i=e.alternate;return i===null?(i=dn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function rl(e,n,i,u,h,f){var y=2;if(u=e,typeof e=="function")cc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case k:return yi(i.children,h,f,n);case T:y=8,h|=8;break;case C:return e=dn(12,i,n,h|2),e.elementType=C,e.lanes=f,e;case S:return e=dn(13,i,n,h),e.elementType=S,e.lanes=f,e;case Je:return e=dn(19,i,n,h),e.elementType=Je,e.lanes=f,e;case Fe:return il(i,h,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:y=10;break e;case x:y=9;break e;case D:y=11;break e;case Ct:y=14;break e;case At:y=16,u=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=dn(y,i,n,h),n.elementType=e,n.type=u,n.lanes=f,n}function yi(e,n,i,u){return e=dn(7,e,u,n),e.lanes=i,e}function il(e,n,i,u){return e=dn(22,e,u,n),e.elementType=Fe,e.lanes=i,e.stateNode={isHidden:!1},e}function hc(e,n,i){return e=dn(6,e,null,n),e.lanes=i,e}function dc(e,n,i){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Qg(e,n,i,u,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function fc(e,n,i,u,h,f,y,w,A){return e=new Qg(e,n,i,w,A),n===1?(n=1,f===!0&&(n|=8)):n=0,f=dn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:u,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(f),e}function Kg(e,n,i){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:u==null?null:""+u,children:e,containerInfo:n,implementation:i}}function Af(e){if(!e)return Ir;e=e._reactInternals;e:{if(gn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($t(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var i=e.type;if($t(i))return Zh(e,i,n)}return n}function Rf(e,n,i,u,h,f,y,w,A){return e=fc(i,u,!0,e,h,f,y,w,A),e.context=Af(null),i=e.current,u=Ft(),h=Vr(i),f=sr(u,h),f.callback=n??null,Rr(i,f,h),e.current.lanes=h,mr(e,h,u),Ht(e,u),e}function sl(e,n,i,u){var h=n.current,f=Ft(),y=Vr(h);return i=Af(i),n.context===null?n.context=i:n.pendingContext=i,n=sr(f,y),n.payload={element:e},u=u===void 0?null:u,u!==null&&(n.callback=u),e=Rr(h,n,y),e!==null&&(Pn(e,h,y,f),Ma(e,h,y)),y}function ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function pc(e,n){Pf(e,n),(e=e.alternate)&&Pf(e,n)}var kf=typeof reportError=="function"?reportError:function(e){console.error(e)};function mc(e){this._internalRoot=e}al.prototype.render=mc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));sl(e,n,null,null)},al.prototype.unmount=mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;pi(function(){sl(null,e,null,null)}),n[er]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var n=aa();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Dn.length&&n!==0&&n<Dn[i].priority;i++);Dn.splice(i,0,e),i===0&&ca(e)}};function gc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xf(){}function Wg(e,n,i,u,h){if(h){if(typeof u=="function"){var f=u;u=function(){var F=ol(y);f.call(F)}}var y=Rf(n,u,e,0,null,!1,!1,"",xf);return e._reactRootContainer=y,e[er]=y.current,po(e.nodeType===8?e.parentNode:e),pi(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=ol(A);w.call(F)}}var A=fc(e,0,!1,null,null,!1,!1,"",xf);return e._reactRootContainer=A,e[er]=A.current,po(e.nodeType===8?e.parentNode:e),pi(function(){sl(n,A,i,u)}),A}function ul(e,n,i,u,h){var f=i._reactRootContainer;if(f){var y=f;if(typeof h=="function"){var w=h;h=function(){var A=ol(y);w.call(A)}}sl(n,y,e,h)}else y=Wg(i,n,e,h,u);return ol(y)}sa=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=fr(n.pendingLanes);i!==0&&(gr(n,i|1),Ht(n,Be()),!(xe&6)&&(ms=Be()+500,Cr()))}break;case 13:pi(function(){var u=ir(e,1);if(u!==null){var h=Ft();Pn(u,e,1,h)}}),pc(e,1)}},Bi=function(e){if(e.tag===13){var n=ir(e,134217728);if(n!==null){var i=Ft();Pn(n,e,134217728,i)}pc(e,134217728)}},oa=function(e){if(e.tag===13){var n=Vr(e),i=ir(e,n);if(i!==null){var u=Ft();Pn(i,e,n,u)}pc(e,n)}},aa=function(){return we},la=function(e,n){var i=we;try{return we=e,n()}finally{we=i}},Vi=function(e,n,i){switch(n){case"input":if(zs(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var u=i[n];if(u!==e&&u.form===e.form){var h=Aa(u);if(!h)throw Error(r(90));Ci(u),zs(u,h)}}}break;case"textarea":ki(e,i);break;case"select":n=i.value,n!=null&&Qn(e,!!i.multiple,n,!1)}},Wr=ac,Ws=pi;var Gg={usingClientEntryPoint:!1,Events:[yo,ns,Aa,xn,Ks,ac]},Vo={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yg={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xs(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Zr=cl.inject(Yg),Gt=cl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gg,Qt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(n))throw Error(r(200));return Kg(e,n,null,i)},Qt.createRoot=function(e,n){if(!gc(e))throw Error(r(299));var i=!1,u="",h=kf;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=fc(e,1,!1,null,null,i,!1,u,h),e[er]=n.current,po(e.nodeType===8?e.parentNode:e),new mc(n)},Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Xs(n),e=e===null?null:e.stateNode,e},Qt.flushSync=function(e){return pi(e)},Qt.hydrate=function(e,n,i){if(!ll(n))throw Error(r(200));return ul(null,e,n,!0,i)},Qt.hydrateRoot=function(e,n,i){if(!gc(e))throw Error(r(405));var u=i!=null&&i.hydratedSources||null,h=!1,f="",y=kf;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=Rf(n,null,e,1,i??null,h,!1,f,y),e[er]=n.current,po(e),u)for(e=0;e<u.length;e++)i=u[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new al(n)},Qt.render=function(e,n,i){if(!ll(n))throw Error(r(200));return ul(null,e,n,!1,i)},Qt.unmountComponentAtNode=function(e){if(!ll(e))throw Error(r(40));return e._reactRootContainer?(pi(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1},Qt.unstable_batchedUpdates=ac,Qt.unstable_renderSubtreeIntoContainer=function(e,n,i,u){if(!ll(i))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ul(e,n,i,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var zf;function sy(){if(zf)return _c.exports;zf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),_c.exports=iy(),_c.exports}var Uf;function oy(){if(Uf)return hl;Uf=1;var s=sy();return hl.createRoot=s.createRoot,hl.hydrateRoot=s.hydrateRoot,hl}var ay=oy(),Bf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=function(s){const t=[];let r=0;for(let o=0;o<s.length;o++){let l=s.charCodeAt(o);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++o)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},ly=function(s){const t=[];let r=0,o=0;for(;r<s.length;){const l=s[r++];if(l<128)t[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[r++];t[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[r++],p=s[r++],g=s[r++],v=((l&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(v>>10)),t[o++]=String.fromCharCode(56320+(v&1023))}else{const c=s[r++],p=s[r++];t[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|p&63)}}return t.join("")},Bp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<s.length;l+=3){const c=s[l],p=l+1<s.length,g=p?s[l+1]:0,v=l+2<s.length,E=v?s[l+2]:0,I=c>>2,O=(c&3)<<4|g>>4;let U=(g&15)<<2|E>>6,H=E&63;v||(H=64,p||(U=64)),o.push(r[I],r[O],r[U],r[H])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Up(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):ly(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<s.length;){const c=r[s.charAt(l++)],g=l<s.length?r[s.charAt(l)]:0;++l;const E=l<s.length?r[s.charAt(l)]:64;++l;const O=l<s.length?r[s.charAt(l)]:64;if(++l,c==null||g==null||E==null||O==null)throw new uy;const U=c<<2|g>>4;if(o.push(U),E!==64){const H=g<<4&240|E>>2;if(o.push(H),O!==64){const X=E<<6&192|O;o.push(X)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cy=function(s){const t=Up(s);return Bp.encodeByteArray(t,!0)},Sl=function(s){return cy(s).replace(/\./g,"")},hy=function(s){try{return Bp.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=()=>dy().__FIREBASE_DEFAULTS__,py=()=>{if(typeof process>"u"||typeof Bf>"u")return;const s=Bf.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},my=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&hy(s[1]);return t&&JSON.parse(t)},rh=()=>{try{return fy()||py()||my()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},gy=s=>{var t,r;return(r=(t=rh())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},yy=s=>{const t=gy(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},jp=()=>{var s;return(s=rh())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Sl(JSON.stringify(r)),Sl(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wy(){var s;const t=(s=rh())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ty(){return!wy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sy(){try{return typeof indexedDB=="object"}catch{return!1}}function Iy(){return new Promise((s,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="FirebaseError";class Ds extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=Cy,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$p.prototype.create)}}class $p{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},l=`${this.service}/${t}`,c=this.errors[t],p=c?Ay(c,o):"Error",g=`${this.serviceName}: ${p} (${l}).`;return new Ds(l,g,o)}}function Ay(s,t){return s.replace(Ry,(r,o)=>{const l=t[o];return l!=null?String(l):`<${o}?>`})}const Ry=/\{\$([^}]+)}/g;function Lc(s,t){if(s===t)return!0;const r=Object.keys(s),o=Object.keys(t);for(const l of r){if(!o.includes(l))return!1;const c=s[l],p=t[l];if(jf(c)&&jf(p)){if(!Lc(c,p))return!1}else if(c!==p)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function jf(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(s){return s&&s._delegate?s._delegate:s}class Bo{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new vy;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vy(t))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(t=vi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vi){return this.instances.has(t)}getOptions(t=vi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(l)}return l}onInit(t,r){var o;const l=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(l,c);const p=this.instances.get(l);return p&&t(p,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:xy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=vi){return this.component?this.component.multipleInstances?t:vi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xy(s){return s===vi?void 0:s}function Vy(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ky(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ce||(Ce={}));const Ny={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Ly=Ce.INFO,Oy={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},My=(s,t,...r)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),l=Oy[t];if(l)console[l](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qp{constructor(t){this.name=t,this._logLevel=Ly,this._logHandler=My,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ce))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ny[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...t),this._logHandler(this,Ce.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...t),this._logHandler(this,Ce.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...t),this._logHandler(this,Ce.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...t),this._logHandler(this,Ce.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...t),this._logHandler(this,Ce.ERROR,...t)}}const Fy=(s,t)=>t.some(r=>s instanceof r);let $f,qf;function zy(){return $f||($f=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uy(){return qf||(qf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bp=new WeakMap,Oc=new WeakMap,Hp=new WeakMap,Tc=new WeakMap,ih=new WeakMap;function By(s){const t=new Promise((r,o)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(Fr(s.result)),l()},p=()=>{o(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&bp.set(r,s)}).catch(()=>{}),ih.set(t,s),t}function jy(s){if(Oc.has(s))return;const t=new Promise((r,o)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),l()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});Oc.set(s,t)}let Mc={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return Oc.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Hp.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Fr(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $y(s){Mc=s(Mc)}function qy(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=s.call(Sc(this),t,...r);return Hp.set(o,t.sort?t.sort():[t]),Fr(o)}:Uy().includes(s)?function(...t){return s.apply(Sc(this),t),Fr(bp.get(this))}:function(...t){return Fr(s.apply(Sc(this),t))}}function by(s){return typeof s=="function"?qy(s):(s instanceof IDBTransaction&&jy(s),Fy(s,zy())?new Proxy(s,Mc):s)}function Fr(s){if(s instanceof IDBRequest)return By(s);if(Tc.has(s))return Tc.get(s);const t=by(s);return t!==s&&(Tc.set(s,t),ih.set(t,s)),t}const Sc=s=>ih.get(s);function Hy(s,t,{blocked:r,upgrade:o,blocking:l,terminated:c}={}){const p=indexedDB.open(s,t),g=Fr(p);return o&&p.addEventListener("upgradeneeded",v=>{o(Fr(p.result),v.oldVersion,v.newVersion,Fr(p.transaction),v)}),r&&p.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",E=>l(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Qy=["get","getKey","getAll","getAllKeys","count"],Ky=["put","add","delete","clear"],Ic=new Map;function bf(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ic.get(t))return Ic.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,l=Ky.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||Qy.includes(r)))return;const c=async function(p,...g){const v=this.transaction(p,l?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),l&&v.done]))[0]};return Ic.set(t,c),c}$y(s=>({...s,get:(t,r,o)=>bf(t,r)||s.get(t,r,o),has:(t,r)=>!!bf(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Gy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Gy(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fc="@firebase/app",Hf="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new qp("@firebase/app"),Yy="@firebase/app-compat",Xy="@firebase/analytics-compat",Jy="@firebase/analytics",Zy="@firebase/app-check-compat",e0="@firebase/app-check",t0="@firebase/auth",n0="@firebase/auth-compat",r0="@firebase/database",i0="@firebase/data-connect",s0="@firebase/database-compat",o0="@firebase/functions",a0="@firebase/functions-compat",l0="@firebase/installations",u0="@firebase/installations-compat",c0="@firebase/messaging",h0="@firebase/messaging-compat",d0="@firebase/performance",f0="@firebase/performance-compat",p0="@firebase/remote-config",m0="@firebase/remote-config-compat",g0="@firebase/storage",y0="@firebase/storage-compat",v0="@firebase/firestore",_0="@firebase/vertexai",E0="@firebase/firestore-compat",w0="firebase",T0="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]",S0={[Fc]:"fire-core",[Yy]:"fire-core-compat",[Jy]:"fire-analytics",[Xy]:"fire-analytics-compat",[e0]:"fire-app-check",[Zy]:"fire-app-check-compat",[t0]:"fire-auth",[n0]:"fire-auth-compat",[r0]:"fire-rtdb",[i0]:"fire-data-connect",[s0]:"fire-rtdb-compat",[o0]:"fire-fn",[a0]:"fire-fn-compat",[l0]:"fire-iid",[u0]:"fire-iid-compat",[c0]:"fire-fcm",[h0]:"fire-fcm-compat",[d0]:"fire-perf",[f0]:"fire-perf-compat",[p0]:"fire-rc",[m0]:"fire-rc-compat",[g0]:"fire-gcs",[y0]:"fire-gcs-compat",[v0]:"fire-fst",[E0]:"fire-fst-compat",[_0]:"fire-vertex","fire-js":"fire-js",[w0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,I0=new Map,Uc=new Map;function Qf(s,t){try{s.container.addComponent(t)}catch(r){lr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Cl(s){const t=s.name;if(Uc.has(t))return lr.debug(`There were multiple attempts to register component ${t}.`),!1;Uc.set(t,s);for(const r of Il.values())Qf(r,s);for(const r of I0.values())Qf(r,s);return!0}function C0(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new $p("app","Firebase",A0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=T0;function Qp(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const o=Object.assign({name:zc,automaticDataCollectionEnabled:!1},t),l=o.name;if(typeof l!="string"||!l)throw zr.create("bad-app-name",{appName:String(l)});if(r||(r=jp()),!r)throw zr.create("no-options");const c=Il.get(l);if(c){if(Lc(r,c.options)&&Lc(o,c.config))return c;throw zr.create("duplicate-app",{appName:l})}const p=new Dy(l);for(const v of Uc.values())p.addComponent(v);const g=new R0(r,o,p);return Il.set(l,g),g}function k0(s=zc){const t=Il.get(s);if(!t&&s===zc&&jp())return Qp();if(!t)throw zr.create("no-app",{appName:s});return t}function Ts(s,t,r){var o;let l=(o=S0[s])!==null&&o!==void 0?o:s;r&&(l+=`-${r}`);const c=l.match(/\s|\//),p=t.match(/\s|\//);if(c||p){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),lr.warn(g.join(" "));return}Cl(new Bo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebase-heartbeat-database",V0=1,jo="firebase-heartbeat-store";let Cc=null;function Kp(){return Cc||(Cc=Hy(x0,V0,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(jo)}catch(r){console.warn(r)}}}}).catch(s=>{throw zr.create("idb-open",{originalErrorMessage:s.message})})),Cc}async function D0(s){try{const r=(await Kp()).transaction(jo),o=await r.objectStore(jo).get(Wp(s));return await r.done,o}catch(t){if(t instanceof Ds)lr.warn(t.message);else{const r=zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});lr.warn(r.message)}}}async function Kf(s,t){try{const o=(await Kp()).transaction(jo,"readwrite");await o.objectStore(jo).put(t,Wp(s)),await o.done}catch(r){if(r instanceof Ds)lr.warn(r.message);else{const o=zr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});lr.warn(o.message)}}}function Wp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=1024,L0=30*24*60*60*1e3;class O0{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new F0(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Wf();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=L0}),this._storage.overwrite(this._heartbeatsCache))}catch(o){lr.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Wf(),{heartbeatsToSend:o,unsentEntries:l}=M0(this._heartbeatsCache.heartbeats),c=Sl(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return lr.warn(r),""}}}function Wf(){return new Date().toISOString().substring(0,10)}function M0(s,t=N0){const r=[];let o=s.slice();for(const l of s){const c=r.find(p=>p.agent===l.agent);if(c){if(c.dates.push(l.date),Gf(r)>t){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Gf(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class F0{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sy()?Iy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await D0(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kf(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Kf(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Gf(s){return Sl(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(s){Cl(new Bo("platform-logger",t=>new Wy(t),"PRIVATE")),Cl(new Bo("heartbeat",t=>new O0(t),"PRIVATE")),Ts(Fc,Hf,s),Ts(Fc,Hf,"esm2017"),Ts("fire-js","")}z0("");var Yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,Gp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,T){function C(){}C.prototype=T.prototype,k.D=T.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(P,x,D){for(var S=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)S[Je-2]=arguments[Je];return T.prototype[x].apply(P,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,T,C){C||(C=0);var P=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)P[x]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(x=0;16>x;++x)P[x]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=k.g[0],C=k.g[1],x=k.g[2];var D=k.g[3],S=T+(D^C&(x^D))+P[0]+3614090360&4294967295;T=C+(S<<7&4294967295|S>>>25),S=D+(x^T&(C^x))+P[1]+3905402710&4294967295,D=T+(S<<12&4294967295|S>>>20),S=x+(C^D&(T^C))+P[2]+606105819&4294967295,x=D+(S<<17&4294967295|S>>>15),S=C+(T^x&(D^T))+P[3]+3250441966&4294967295,C=x+(S<<22&4294967295|S>>>10),S=T+(D^C&(x^D))+P[4]+4118548399&4294967295,T=C+(S<<7&4294967295|S>>>25),S=D+(x^T&(C^x))+P[5]+1200080426&4294967295,D=T+(S<<12&4294967295|S>>>20),S=x+(C^D&(T^C))+P[6]+2821735955&4294967295,x=D+(S<<17&4294967295|S>>>15),S=C+(T^x&(D^T))+P[7]+4249261313&4294967295,C=x+(S<<22&4294967295|S>>>10),S=T+(D^C&(x^D))+P[8]+1770035416&4294967295,T=C+(S<<7&4294967295|S>>>25),S=D+(x^T&(C^x))+P[9]+2336552879&4294967295,D=T+(S<<12&4294967295|S>>>20),S=x+(C^D&(T^C))+P[10]+4294925233&4294967295,x=D+(S<<17&4294967295|S>>>15),S=C+(T^x&(D^T))+P[11]+2304563134&4294967295,C=x+(S<<22&4294967295|S>>>10),S=T+(D^C&(x^D))+P[12]+1804603682&4294967295,T=C+(S<<7&4294967295|S>>>25),S=D+(x^T&(C^x))+P[13]+4254626195&4294967295,D=T+(S<<12&4294967295|S>>>20),S=x+(C^D&(T^C))+P[14]+2792965006&4294967295,x=D+(S<<17&4294967295|S>>>15),S=C+(T^x&(D^T))+P[15]+1236535329&4294967295,C=x+(S<<22&4294967295|S>>>10),S=T+(x^D&(C^x))+P[1]+4129170786&4294967295,T=C+(S<<5&4294967295|S>>>27),S=D+(C^x&(T^C))+P[6]+3225465664&4294967295,D=T+(S<<9&4294967295|S>>>23),S=x+(T^C&(D^T))+P[11]+643717713&4294967295,x=D+(S<<14&4294967295|S>>>18),S=C+(D^T&(x^D))+P[0]+3921069994&4294967295,C=x+(S<<20&4294967295|S>>>12),S=T+(x^D&(C^x))+P[5]+3593408605&4294967295,T=C+(S<<5&4294967295|S>>>27),S=D+(C^x&(T^C))+P[10]+38016083&4294967295,D=T+(S<<9&4294967295|S>>>23),S=x+(T^C&(D^T))+P[15]+3634488961&4294967295,x=D+(S<<14&4294967295|S>>>18),S=C+(D^T&(x^D))+P[4]+3889429448&4294967295,C=x+(S<<20&4294967295|S>>>12),S=T+(x^D&(C^x))+P[9]+568446438&4294967295,T=C+(S<<5&4294967295|S>>>27),S=D+(C^x&(T^C))+P[14]+3275163606&4294967295,D=T+(S<<9&4294967295|S>>>23),S=x+(T^C&(D^T))+P[3]+4107603335&4294967295,x=D+(S<<14&4294967295|S>>>18),S=C+(D^T&(x^D))+P[8]+1163531501&4294967295,C=x+(S<<20&4294967295|S>>>12),S=T+(x^D&(C^x))+P[13]+2850285829&4294967295,T=C+(S<<5&4294967295|S>>>27),S=D+(C^x&(T^C))+P[2]+4243563512&4294967295,D=T+(S<<9&4294967295|S>>>23),S=x+(T^C&(D^T))+P[7]+1735328473&4294967295,x=D+(S<<14&4294967295|S>>>18),S=C+(D^T&(x^D))+P[12]+2368359562&4294967295,C=x+(S<<20&4294967295|S>>>12),S=T+(C^x^D)+P[5]+4294588738&4294967295,T=C+(S<<4&4294967295|S>>>28),S=D+(T^C^x)+P[8]+2272392833&4294967295,D=T+(S<<11&4294967295|S>>>21),S=x+(D^T^C)+P[11]+1839030562&4294967295,x=D+(S<<16&4294967295|S>>>16),S=C+(x^D^T)+P[14]+4259657740&4294967295,C=x+(S<<23&4294967295|S>>>9),S=T+(C^x^D)+P[1]+2763975236&4294967295,T=C+(S<<4&4294967295|S>>>28),S=D+(T^C^x)+P[4]+1272893353&4294967295,D=T+(S<<11&4294967295|S>>>21),S=x+(D^T^C)+P[7]+4139469664&4294967295,x=D+(S<<16&4294967295|S>>>16),S=C+(x^D^T)+P[10]+3200236656&4294967295,C=x+(S<<23&4294967295|S>>>9),S=T+(C^x^D)+P[13]+681279174&4294967295,T=C+(S<<4&4294967295|S>>>28),S=D+(T^C^x)+P[0]+3936430074&4294967295,D=T+(S<<11&4294967295|S>>>21),S=x+(D^T^C)+P[3]+3572445317&4294967295,x=D+(S<<16&4294967295|S>>>16),S=C+(x^D^T)+P[6]+76029189&4294967295,C=x+(S<<23&4294967295|S>>>9),S=T+(C^x^D)+P[9]+3654602809&4294967295,T=C+(S<<4&4294967295|S>>>28),S=D+(T^C^x)+P[12]+3873151461&4294967295,D=T+(S<<11&4294967295|S>>>21),S=x+(D^T^C)+P[15]+530742520&4294967295,x=D+(S<<16&4294967295|S>>>16),S=C+(x^D^T)+P[2]+3299628645&4294967295,C=x+(S<<23&4294967295|S>>>9),S=T+(x^(C|~D))+P[0]+4096336452&4294967295,T=C+(S<<6&4294967295|S>>>26),S=D+(C^(T|~x))+P[7]+1126891415&4294967295,D=T+(S<<10&4294967295|S>>>22),S=x+(T^(D|~C))+P[14]+2878612391&4294967295,x=D+(S<<15&4294967295|S>>>17),S=C+(D^(x|~T))+P[5]+4237533241&4294967295,C=x+(S<<21&4294967295|S>>>11),S=T+(x^(C|~D))+P[12]+1700485571&4294967295,T=C+(S<<6&4294967295|S>>>26),S=D+(C^(T|~x))+P[3]+2399980690&4294967295,D=T+(S<<10&4294967295|S>>>22),S=x+(T^(D|~C))+P[10]+4293915773&4294967295,x=D+(S<<15&4294967295|S>>>17),S=C+(D^(x|~T))+P[1]+2240044497&4294967295,C=x+(S<<21&4294967295|S>>>11),S=T+(x^(C|~D))+P[8]+1873313359&4294967295,T=C+(S<<6&4294967295|S>>>26),S=D+(C^(T|~x))+P[15]+4264355552&4294967295,D=T+(S<<10&4294967295|S>>>22),S=x+(T^(D|~C))+P[6]+2734768916&4294967295,x=D+(S<<15&4294967295|S>>>17),S=C+(D^(x|~T))+P[13]+1309151649&4294967295,C=x+(S<<21&4294967295|S>>>11),S=T+(x^(C|~D))+P[4]+4149444226&4294967295,T=C+(S<<6&4294967295|S>>>26),S=D+(C^(T|~x))+P[11]+3174756917&4294967295,D=T+(S<<10&4294967295|S>>>22),S=x+(T^(D|~C))+P[2]+718787259&4294967295,x=D+(S<<15&4294967295|S>>>17),S=C+(D^(x|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+D&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var C=T-this.blockSize,P=this.B,x=this.h,D=0;D<T;){if(x==0)for(;D<=C;)l(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<T;)if(P[x++]=k.charCodeAt(D++),x==this.blockSize){l(this,P),x=0;break}}else for(;D<T;)if(P[x++]=k[D++],x==this.blockSize){l(this,P),x=0;break}}this.h=x,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var C=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=C&255,C/=256;for(this.u(k),k=Array(16),T=C=0;4>T;++T)for(var P=0;32>P;P+=8)k[C++]=this.g[T]>>>P&255;return k};function c(k,T){var C=g;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=T(k)}function p(k,T){this.h=T;for(var C=[],P=!0,x=k.length-1;0<=x;x--){var D=k[x]|0;P&&D==T||(C[x]=D,P=!1)}this.g=C}var g={};function v(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return O;if(0>k)return K(E(-k));for(var T=[],C=1,P=0;k>=C;P++)T[P]=k/C|0,C*=4294967296;return new p(T,0)}function I(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return K(I(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=E(Math.pow(T,8)),P=O,x=0;x<k.length;x+=8){var D=Math.min(8,k.length-x),S=parseInt(k.substring(x,x+D),T);8>D?(D=E(Math.pow(T,D)),P=P.j(D).add(E(S))):(P=P.j(C),P=P.add(E(S)))}return P}var O=v(0),U=v(1),H=v(16777216);s=p.prototype,s.m=function(){if(ee(this))return-K(this).m();for(var k=0,T=1,C=0;C<this.g.length;C++){var P=this.i(C);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(X(this))return"0";if(ee(this))return"-"+K(this).toString(k);for(var T=E(Math.pow(k,6)),C=this,P="";;){var x=Ee(C,T).g;C=Ne(C,x.j(T));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=x,X(C))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function X(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function ee(k){return k.h==-1}s.l=function(k){return k=Ne(this,k),ee(k)?-1:X(k)?0:1};function K(k){for(var T=k.g.length,C=[],P=0;P<T;P++)C[P]=~k.g[P];return new p(C,~k.h).add(U)}s.abs=function(){return ee(this)?K(this):this},s.add=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],P=0,x=0;x<=T;x++){var D=P+(this.i(x)&65535)+(k.i(x)&65535),S=(D>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);P=S>>>16,D&=65535,S&=65535,C[x]=S<<16|D}return new p(C,C[C.length-1]&-2147483648?-1:0)};function Ne(k,T){return k.add(K(T))}s.j=function(k){if(X(this)||X(k))return O;if(ee(this))return ee(k)?K(this).j(K(k)):K(K(this).j(k));if(ee(k))return K(this.j(K(k)));if(0>this.l(H)&&0>k.l(H))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,C=[],P=0;P<2*T;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<k.g.length;x++){var D=this.i(P)>>>16,S=this.i(P)&65535,Je=k.i(x)>>>16,Ct=k.i(x)&65535;C[2*P+2*x]+=S*Ct,Pe(C,2*P+2*x),C[2*P+2*x+1]+=D*Ct,Pe(C,2*P+2*x+1),C[2*P+2*x+1]+=S*Je,Pe(C,2*P+2*x+1),C[2*P+2*x+2]+=D*Je,Pe(C,2*P+2*x+2)}for(P=0;P<T;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=T;P<2*T;P++)C[P]=0;return new p(C,0)};function Pe(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function _e(k,T){this.g=k,this.h=T}function Ee(k,T){if(X(T))throw Error("division by zero");if(X(k))return new _e(O,O);if(ee(k))return T=Ee(K(k),T),new _e(K(T.g),K(T.h));if(ee(T))return T=Ee(k,K(T)),new _e(K(T.g),T.h);if(30<k.g.length){if(ee(k)||ee(T))throw Error("slowDivide_ only works with positive integers.");for(var C=U,P=T;0>=P.l(k);)C=Xe(C),P=Xe(P);var x=ke(C,1),D=ke(P,1);for(P=ke(P,2),C=ke(C,2);!X(P);){var S=D.add(P);0>=S.l(k)&&(x=x.add(C),D=S),P=ke(P,1),C=ke(C,1)}return T=Ne(k,x.j(T)),new _e(x,T)}for(x=O;0<=k.l(T);){for(C=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=E(C),S=D.j(T);ee(S)||0<S.l(k);)C-=P,D=E(C),S=D.j(T);X(D)&&(D=U),x=x.add(D),k=Ne(k,S)}return new _e(x,k)}s.A=function(k){return Ee(this,k).h},s.and=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)&k.i(P);return new p(C,this.h&k.h)},s.or=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)|k.i(P);return new p(C,this.h|k.h)},s.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)^k.i(P);return new p(C,this.h^k.h)};function Xe(k){for(var T=k.g.length+1,C=[],P=0;P<T;P++)C[P]=k.i(P)<<1|k.i(P-1)>>>31;return new p(C,k.h)}function ke(k,T){var C=T>>5;T%=32;for(var P=k.g.length-C,x=[],D=0;D<P;D++)x[D]=0<T?k.i(D+C)>>>T|k.i(D+C+1)<<32-T:k.i(D+C);return new p(x,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Gp=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=I,Ei=p}).apply(typeof Yf<"u"?Yf:typeof self<"u"?self:typeof window<"u"?window:{});var dl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yp,No,Xp,vl,Bc,Jp,Zp,em;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof dl=="object"&&dl];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function l(a,d){if(d)e:{var m=o;a=a.split(".");for(var _=0;_<a.length-1;_++){var N=a[_];if(!(N in m))break e;m=m[N]}a=a[a.length-1],_=m[a],d=d(_),d!=_&&d!=null&&t(m,a,{configurable:!0,writable:!0,value:d})}}function c(a,d){a instanceof String&&(a+="");var m=0,_=!1,N={next:function(){if(!_&&m<a.length){var z=m++;return{value:d(z,a[z]),done:!1}}return _=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}l("Array.prototype.values",function(a){return a||function(){return c(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function v(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function E(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function I(a,d,m){return a.call.apply(a.bind,arguments)}function O(a,d,m){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,_),a.apply(d,N)}}return function(){return a.apply(d,arguments)}}function U(a,d,m){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:O,U.apply(null,arguments)}function H(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function X(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(_,N,z){for(var W=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)W[Me-2]=arguments[Me];return d.prototype[N].apply(_,W)}}function ee(a){const d=a.length;if(0<d){const m=Array(d);for(let _=0;_<d;_++)m[_]=a[_];return m}return[]}function K(a,d){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const N=a.length||0,z=_.length||0;a.length=N+z;for(let W=0;W<z;W++)a[N+W]=_[W]}else a.push(_)}}class Ne{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Pe(a){return/^[\s\xa0]*$/.test(a)}function _e(){var a=g.navigator;return a&&(a=a.userAgent)?a:""}function Ee(a){return Ee[" "](a),a}Ee[" "]=function(){};var Xe=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function ke(a,d,m){for(const _ in a)d.call(m,a[_],_,a)}function k(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function T(a){const d={};for(const m in a)d[m]=a[m];return d}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,d){let m,_;for(let N=1;N<arguments.length;N++){_=arguments[N];for(m in _)a[m]=_[m];for(let z=0;z<C.length;z++)m=C[z],Object.prototype.hasOwnProperty.call(_,m)&&(a[m]=_[m])}}function x(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function D(a){g.setTimeout(()=>{throw a},0)}function S(){var a=ae;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Je{constructor(){this.h=this.g=null}add(d,m){const _=Ct.get();_.set(d,m),this.h?this.h.next=_:this.g=_,this.h=_}}var Ct=new Ne(()=>new At,a=>a.reset());class At{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,G=!1,ae=new Je,Z=()=>{const a=g.Promise.resolve(void 0);Fe=()=>{a.then(V)}};var V=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(m){D(m)}var d=Ct;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}G=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};g.addEventListener("test",m,d),g.removeEventListener("test",m,d)}catch{}return a}();function ye(a,d){if(oe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Xe){e:{try{Ee(d.nodeName);var N=!0;break e}catch{}N=!1}N||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Te[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ye.aa.h.call(this)}}X(ye,oe);var Te={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ue(a,d,m,_,N){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!_,this.ha=N,this.key=++Oe,this.da=this.fa=!1}function ft(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function bn(a){this.src=a,this.g={},this.h=0}bn.prototype.add=function(a,d,m,_,N){var z=a.toString();a=this.g[z],a||(a=this.g[z]=[],this.h++);var W=cr(a,d,_,N);return-1<W?(d=a[W],m||(d.fa=!1)):(d=new Ue(d,this.src,z,!!_,N),d.fa=m,a.push(d)),d};function Ci(a,d){var m=d.type;if(m in a.g){var _=a.g[m],N=Array.prototype.indexOf.call(_,d,void 0),z;(z=0<=N)&&Array.prototype.splice.call(_,N,1),z&&(ft(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function cr(a,d,m,_){for(var N=0;N<a.length;++N){var z=a[N];if(!z.da&&z.listener==d&&z.capture==!!m&&z.ha==_)return N}return-1}var br="closure_lm_"+(1e6*Math.random()|0),Ai={};function Fs(a,d,m,_,N){if(Array.isArray(d)){for(var z=0;z<d.length;z++)Fs(a,d[z],m,_,N);return null}return m=Bs(m),a&&a[Le]?a.K(d,m,E(_)?!!_.capture:!!_,N):zs(a,d,m,!1,_,N)}function zs(a,d,m,_,N,z){if(!d)throw Error("Invalid event type");var W=E(N)?!!N.capture:!!N,Me=Pi(a);if(Me||(a[br]=Me=new bn(a)),m=Me.add(d,m,_,W,z),m.proxy)return m;if(_=Yo(),m.proxy=_,_.src=a,_.listener=m,a.addEventListener)ge||(N=W),N===void 0&&(N=!1),a.addEventListener(d.toString(),_,N);else if(a.attachEvent)a.attachEvent(Qn(d.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Yo(){function a(m){return d.call(a.src,a.listener,m)}const d=Us;return a}function Ri(a,d,m,_,N){if(Array.isArray(d))for(var z=0;z<d.length;z++)Ri(a,d[z],m,_,N);else _=E(_)?!!_.capture:!!_,m=Bs(m),a&&a[Le]?(a=a.i,d=String(d).toString(),d in a.g&&(z=a.g[d],m=cr(z,m,_,N),-1<m&&(ft(z[m]),Array.prototype.splice.call(z,m,1),z.length==0&&(delete a.g[d],a.h--)))):a&&(a=Pi(a))&&(d=a.g[d.toString()],a=-1,d&&(a=cr(d,m,_,N)),(m=-1<a?d[a]:null)&&Hn(m))}function Hn(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Le])Ci(d.i,a);else{var m=a.type,_=a.proxy;d.removeEventListener?d.removeEventListener(m,_,a.capture):d.detachEvent?d.detachEvent(Qn(m),_):d.addListener&&d.removeListener&&d.removeListener(_),(m=Pi(d))?(Ci(m,a),m.h==0&&(m.src=null,d[br]=null)):ft(a)}}}function Qn(a){return a in Ai?Ai[a]:Ai[a]="on"+a}function Us(a,d){if(a.da)a=!0;else{d=new ye(d,this);var m=a.listener,_=a.ha||a.src;a.fa&&Hn(a),a=m.call(_,d)}return a}function Pi(a){return a=a[br],a instanceof bn?a:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bs(a){return typeof a=="function"?a:(a[ki]||(a[ki]=function(d){return a.handleEvent(d)}),a[ki])}function ot(){B.call(this),this.i=new bn(this),this.M=this,this.F=null}X(ot,B),ot.prototype[Le]=!0,ot.prototype.removeEventListener=function(a,d,m,_){Ri(this,a,d,m,_)};function at(a,d){var m,_=a.F;if(_)for(m=[];_;_=_.F)m.push(_);if(a=a.M,_=d.type||d,typeof d=="string")d=new oe(d,a);else if(d instanceof oe)d.target=d.target||a;else{var N=d;d=new oe(_,a),P(d,N)}if(N=!0,m)for(var z=m.length-1;0<=z;z--){var W=d.g=m[z];N=Kn(W,_,!0,d)&&N}if(W=d.g=a,N=Kn(W,_,!0,d)&&N,N=Kn(W,_,!1,d)&&N,m)for(z=0;z<m.length;z++)W=d.g=m[z],N=Kn(W,_,!1,d)&&N}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],_=0;_<m.length;_++)ft(m[_]);delete a.g[d],a.h--}}this.F=null},ot.prototype.K=function(a,d,m,_){return this.i.add(String(a),d,!1,m,_)},ot.prototype.L=function(a,d,m,_){return this.i.add(String(a),d,!0,m,_)};function Kn(a,d,m,_){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var N=!0,z=0;z<d.length;++z){var W=d[z];if(W&&!W.da&&W.capture==m){var Me=W.listener,lt=W.ha||W.src;W.fa&&Ci(a.i,W),N=Me.call(lt,_)!==!1&&N}}return N&&!_.defaultPrevented}function js(a,d,m){if(typeof a=="function")m&&(a=U(a,m));else if(a&&typeof a.handleEvent=="function")a=U(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:g.setTimeout(a,d||0)}function hr(a){a.g=js(()=>{a.g=null,a.i&&(a.i=!1,hr(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Hr extends B{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(a){B.call(this),this.h=a,this.g={}}X(Qr,B);var $s=[];function qs(a){ke(a.g,function(d,m){this.g.hasOwnProperty(m)&&Hn(d)},a),a.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),qs(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=g.JSON.stringify,Hs=g.JSON.parse,Qs=class{stringify(a){return g.JSON.stringify(a,void 0)}parse(a){return g.JSON.parse(a,void 0)}};function Kr(){}Kr.prototype.h=null;function xi(a){return a.h||(a.h=a.i())}function Vi(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){oe.call(this,"d")}X(kn,oe);function Di(){oe.call(this,"c")}X(Di,oe);var xn={},Ks=null;function Wr(){return Ks=Ks||new ot}xn.La="serverreachability";function Ws(a){oe.call(this,xn.La,a)}X(Ws,oe);function Wn(a){const d=Wr();at(d,new Ws(d))}xn.STAT_EVENT="statevent";function Gs(a,d){oe.call(this,xn.STAT_EVENT,a),this.stat=d}X(Gs,oe);function Ze(a){const d=Wr();at(d,new Gs(d,a))}xn.Ma="timingevent";function Ni(a,d){oe.call(this,xn.Ma,a),this.size=d}X(Ni,oe);function pn(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){a()},d)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function Yr(a,d,m,_,N,z){a.info(function(){if(a.g)if(z)for(var W="",Me=z.split("&"),lt=0;lt<Me.length;lt++){var Se=Me[lt].split("=");if(1<Se.length){var pt=Se[0];Se=Se[1];var rt=pt.split("_");W=2<=rt.length&&rt[1]=="type"?W+(pt+"="+Se+"&"):W+(pt+"=redacted&")}}else W=null;else W=z;return"XMLHTTP REQ ("+_+") [attempt "+N+"]: "+d+`
`+m+`
`+W})}function Li(a,d,m,_,N,z,W){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+N+"]: "+d+`
`+m+`
`+z+" "+W})}function mn(a,d,m,_){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Hl(a,m)+(_?" "+_:"")})}function Ys(a,d){a.info(function(){return"TIMEOUT: "+d})}Gr.prototype.info=function(){};function Hl(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var _=m[a];if(!(2>_.length)){var N=_[1];if(Array.isArray(N)&&!(1>N.length)){var z=N[0];if(z!="noop"&&z!="stop"&&z!="close")for(var W=1;W<N.length;W++)N[W]=""}}}}return bs(m)}catch{return d}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function Xr(){}X(Xr,Kr),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},gn=new Xr;function yn(a,d,m,_){this.j=a,this.i=d,this.l=m,this.R=_||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var Xs={},Mi={};function Fi(a,d,m){a.L=1,a.v=gr(Yt(d)),a.m=m,a.P=!0,Js(a,null)}function Js(a,d){a.F=Date.now(),Be(a),a.A=Yt(a.v);var m=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),vr(m.i,"t",_),a.C=0,m=a.j.J,a.h=new Jo,a.g=ga(a.j,m?d:null,!a.m),0<a.O&&(a.M=new Hr(U(a.Y,a,a.g),a.O)),d=a.U,m=a.g,_=a.ca;var N="readystatechange";Array.isArray(N)||(N&&($s[0]=N.toString()),N=$s);for(var z=0;z<N.length;z++){var W=Fs(m,N[z],_||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Wn(),Yr(a.i,a.u,a.A,a.l,a.R,a.m)}yn.prototype.ca=function(a){a=a.target;const d=this.M;d&&Bt(a)==3?d.j():this.Y(a)},yn.prototype.Y=function(a){try{if(a==this.g)e:{const rt=Bt(this.g);var d=this.g.Ba();const on=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||io(this.g)))){this.J||rt!=4||d==7||(d==8||0>=on?Wn(3):Wn(2)),Jr(this);var m=this.g.Z();this.X=m;t:if(Zo(this)){var _=io(this.g);a="";var N=_.length,z=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),dr(this);var W="";break t}this.h.i=new g.TextDecoder}for(d=0;d<N;d++)this.h.h=!0,a+=this.h.i.decode(_[d],{stream:!(z&&d==N-1)});_.length=0,this.h.g+=a,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Li(this.i,this.u,this.A,this.l,this.R,rt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,lt=this.g;if((Me=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pe(Me)){var Se=Me;break t}}Se=null}if(m=Se)mn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,m);else{this.o=!1,this.s=3,Ze(12),rn(this),dr(this);break e}}if(this.P){m=!0;let Jt;for(;!this.J&&this.C<W.length;)if(Jt=Ql(this,W),Jt==Mi){rt==4&&(this.s=4,Ze(14),m=!1),mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Xs){this.s=4,Ze(15),mn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else mn(this.i,this.l,Jt,null),Zs(this,Jt);if(Zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||W.length!=0||this.h.h||(this.s=1,Ze(16),m=!1),this.o=this.o&&m,!m)mn(this.i,this.l,W,"[Invalid Chunked Response]"),rn(this),dr(this);else if(0<W.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),oo(pt),pt.M=!0,Ze(11))}}else mn(this.i,this.l,W,null),Zs(this,W);rt==4&&rn(this),this.o&&!this.J&&(rt==4?Wi(this.j,this):(this.o=!1,Be(this)))}else qi(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),rn(this),dr(this)}}}catch{}finally{}};function Zo(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Ql(a,d){var m=a.C,_=d.indexOf(`
`,m);return _==-1?Mi:(m=Number(d.substring(m,_)),isNaN(m)?Xs:(_+=1,_+m>d.length?Mi:(d=d.slice(_,_+m),a.C=_+m,d)))}yn.prototype.cancel=function(){this.J=!0,rn(this)};function Be(a){a.S=Date.now()+a.I,ea(a,a.I)}function ea(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=pn(U(a.ba,a),d)}function Jr(a){a.B&&(g.clearTimeout(a.B),a.B=null)}yn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ys(this.i,this.A),this.L!=2&&(Wn(),Ze(17)),rn(this),this.s=2,dr(this)):ea(this,this.S-a)};function dr(a){a.j.G==0||a.J||Wi(a.j,a)}function rn(a){Jr(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,qs(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Zs(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||Lt(m.h,a))){if(!a.K&&Lt(m.h,a)&&m.G==3){try{var _=m.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var N=_;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Ki(m),Tn(m);else break e;Qi(m),Ze(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=pn(U(m.Za,m),6e3));if(1>=na(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zn(m,11)}else if((a.K||m.g==a)&&Ki(m),!Pe(d))for(N=m.Da.g.parse(d),d=0;d<N.length;d++){let Se=N[d];if(m.T=Se[0],Se=Se[1],m.G==2)if(Se[0]=="c"){m.K=Se[1],m.ia=Se[2];const pt=Se[3];pt!=null&&(m.la=pt,m.j.info("VER="+m.la));const rt=Se[4];rt!=null&&(m.Aa=rt,m.j.info("SVER="+m.Aa));const on=Se[5];on!=null&&typeof on=="number"&&0<on&&(_=1.5*on,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Jt=a.g;if(Jt){const si=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var z=_.h;z.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(eo(z,z.h),z.h=null))}if(_.D){const Yi=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yi&&(_.ya=Yi,ze(_.I,_.D,Yi))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var W=a;if(_.qa=ma(_,_.J?_.ia:null,_.W),W.K){ra(_.h,W);var Me=W,lt=_.L;lt&&(Me.I=lt),Me.B&&(Jr(Me),Be(Me)),_.g=W}else ii(_);0<m.i.length&&Ln(m)}else Se[0]!="stop"&&Se[0]!="close"||Zn(m,7);else m.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Zn(m,7):Et(m):Se[0]!="noop"&&m.l&&m.l.ta(Se),m.v=0)}}Wn(4)}catch{}}var ta=class{constructor(a,d){this.g=a,this.map=d}};function Zr(a){this.l=a||10,g.PerformanceNavigationTiming?(a=g.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function na(a){return a.h?1:a.g?a.g.size:0}function Lt(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function eo(a,d){a.g?a.g.add(d):a.h=d}function ra(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Zr.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ia(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return ee(a.i)}function zi(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(v(a)){for(var d=[],m=a.length,_=0;_<m;_++)d.push(a[_]);return d}d=[],m=0;for(_ in a)d[m++]=a[_];return d}function Ui(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(v(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const _ in a)d[m++]=_;return d}}}function fr(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(v(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=Ui(a),_=zi(a),N=_.length,z=0;z<N;z++)d.call(void 0,_[z],m&&m[z],a)}var ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kl(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var _=a[m].indexOf("="),N=null;if(0<=_){var z=a[m].substring(0,_);N=a[m].substring(_+1)}else z=a[m];d(z,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Gn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Gn){this.h=a.h,ti(this,a.j),this.o=a.o,this.g=a.g,pr(this,a.s),this.l=a.l;var d=a.i,m=new Vn;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),mr(this,m),this.m=a.m}else a&&(d=String(a).match(ei))?(this.h=!1,ti(this,d[1]||"",!0),this.o=we(d[2]||""),this.g=we(d[3]||"",!0),pr(this,d[4]),this.l=we(d[5]||"",!0),mr(this,d[6]||"",!0),this.m=we(d[7]||"")):(this.h=!1,this.i=new Vn(null,this.h))}Gn.prototype.toString=function(){var a=[],d=this.j;d&&a.push(yr(d,Bi,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(yr(d,Bi,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(yr(m,m.charAt(0)=="/"?aa:oa,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",yr(m,to)),a.join("")};function Yt(a){return new Gn(a)}function ti(a,d,m){a.j=m?we(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function pr(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function mr(a,d,m){d instanceof Vn?(a.i=d,Dn(a.i,a.h)):(m||(d=yr(d,la)),a.i=new Vn(d,a.h))}function ze(a,d,m){a.i.set(d,m)}function gr(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function we(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function yr(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,sa),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function sa(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Bi=/[#\/\?@]/g,oa=/[#\?:]/g,aa=/[#\?]/g,la=/[#\?@]/g,to=/#/g;function Vn(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function _t(a){a.g||(a.g=new Map,a.h=0,a.i&&Kl(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}s=Vn.prototype,s.add=function(a,d){_t(this),this.i=null,a=sn(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function vn(a,d){_t(a),d=sn(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function _n(a,d){return _t(a),d=sn(a,d),a.g.has(d)}s.forEach=function(a,d){_t(this),this.g.forEach(function(m,_){m.forEach(function(N){a.call(d,N,_,this)},this)},this)},s.na=function(){_t(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let _=0;_<d.length;_++){const N=a[_];for(let z=0;z<N.length;z++)m.push(d[_])}return m},s.V=function(a){_t(this);let d=[];if(typeof a=="string")_n(this,a)&&(d=d.concat(this.g.get(sn(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},s.set=function(a,d){return _t(this),this.i=null,a=sn(this,a),_n(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},s.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function vr(a,d,m){vn(a,d),0<m.length&&(a.i=null,a.g.set(sn(a,d),ee(m)),a.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var _=d[m];const z=encodeURIComponent(String(_)),W=this.V(_);for(_=0;_<W.length;_++){var N=z;W[_]!==""&&(N+="="+encodeURIComponent(String(W[_]))),a.push(N)}}return this.i=a.join("&")};function sn(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Dn(a,d){d&&!a.j&&(_t(a),a.i=null,a.g.forEach(function(m,_){var N=_.toLowerCase();_!=N&&(vn(this,_),vr(this,N,m))},a)),a.j=d}function Wl(a,d){const m=new Gr;if(g.Image){const _=new Image;_.onload=H(Ut,m,"TestLoadImage: loaded",!0,d,_),_.onerror=H(Ut,m,"TestLoadImage: error",!1,d,_),_.onabort=H(Ut,m,"TestLoadImage: abort",!1,d,_),_.ontimeout=H(Ut,m,"TestLoadImage: timeout",!1,d,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else d(!1)}function ua(a,d){const m=new Gr,_=new AbortController,N=setTimeout(()=>{_.abort(),Ut(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:_.signal}).then(z=>{clearTimeout(N),z.ok?Ut(m,"TestPingServer: ok",!0,d):Ut(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(N),Ut(m,"TestPingServer: error",!1,d)})}function Ut(a,d,m,_,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),_(m)}catch{}}function Gl(){this.g=new Qs}function ca(a,d,m){const _=m||"";try{fr(a,function(N,z){let W=N;E(N)&&(W=bs(N)),d.push(_+z+"="+encodeURIComponent(W))})}catch(N){throw d.push(_+"type="+encodeURIComponent("_badmap")),N}}function Yn(a){this.l=a.Ub||null,this.j=a.eb||!1}X(Yn,Kr),Yn.prototype.g=function(){return new ni(this.l,this.j)},Yn.prototype.i=function(a){return function(){return a}}({});function ni(a,d){ot.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(ni,ot),s=ni.prototype,s.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,wn(this)},s.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||g).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},s.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}s.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?En(this):wn(this),this.readyState==3&&ha(this)}},s.Ra=function(a){this.g&&(this.response=this.responseText=a,En(this))},s.Qa=function(a){this.g&&(this.response=a,En(this))},s.ga=function(){this.g&&En(this)};function En(a){a.readyState=4,a.l=null,a.j=null,a.v=null,wn(a)}s.setRequestHeader=function(a,d){this.u.append(a,d)},s.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function wn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Xn(a){let d="";return ke(a,function(m,_){d+=_,d+=":",d+=m,d+=`\r
`}),d}function _r(a,d,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Xn(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):ze(a,d,m))}function be(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(be,ot);var Yl=/^https?$/i,no=["POST","PUT"];s=be.prototype,s.Ha=function(a){this.J=a},s.ea=function(a,d,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?xi(this.o):xi(gn),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(z){ri(this,z);return}if(a=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var N in _)m.set(N,_[N]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const z of _.keys())m.set(z,_.get(z));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(z=>z.toLowerCase()=="content-type"),N=g.FormData&&a instanceof g.FormData,!(0<=Array.prototype.indexOf.call(no,d,void 0))||_||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,W]of m)this.g.setRequestHeader(z,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$i(this),this.u=!0,this.g.send(a),this.u=!1}catch(z){ri(this,z)}};function ri(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,ji(a),Xt(a)}function ji(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}s.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),Xt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),be.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},s.bb=function(){ro(this)};function ro(a){if(a.h&&typeof p<"u"&&(!a.v[1]||Bt(a)!=4||a.Z()!=2)){if(a.u&&Bt(a)==4)js(a.Ea,0,a);else if(at(a,"readystatechange"),Bt(a)==4){a.h=!1;try{const W=a.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var _;if(_=W===0){var N=String(a.D).match(ei)[1]||null;!N&&g.self&&g.self.location&&(N=g.self.location.protocol.slice(0,-1)),_=!Yl.test(N?N.toLowerCase():"")}m=_}if(m)at(a,"complete"),at(a,"success");else{a.m=6;try{var z=2<Bt(a)?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.Z()+"]",ji(a)}}finally{Xt(a)}}}}function Xt(a,d){if(a.g){$i(a);const m=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||at(a,"ready");try{m.onreadystatechange=_}catch{}}}function $i(a){a.I&&(g.clearTimeout(a.I),a.I=null)}s.isActive=function(){return!!this.g};function Bt(a){return a.g?a.g.readyState:0}s.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Hs(d)}};function io(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(a){const d={};a=(a.g&&2<=Bt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(Pe(a[_]))continue;var m=x(a[_]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const z=d[N]||[];d[N]=z,z.push(m)}k(d,function(_){return _.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nn(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function so(a){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nn("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nn("baseRetryDelayMs",5e3,a),this.cb=Nn("retryDelaySeedMs",1e4,a),this.Wa=Nn("forwardChannelMaxRetries",2,a),this.wa=Nn("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Zr(a&&a.concurrentRequestLimit),this.Da=new Gl,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=so.prototype,s.la=8,s.G=1,s.connect=function(a,d,m,_){Ze(0),this.W=a,this.H=d||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=ma(this,null,this.W),Ln(this)};function Et(a){if(bi(a),a.G==3){var d=a.U++,m=Yt(a.I);if(ze(m,"SID",a.K),ze(m,"RID",d),ze(m,"TYPE","terminate"),Jn(a,m),d=new yn(a,a.j,d),d.L=2,d.v=gr(Yt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=d.v,m=!0),m||(d.g=ga(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Be(d)}pa(a)}function Tn(a){a.g&&(oo(a),a.g.cancel(),a.g=null)}function bi(a){Tn(a),a.u&&(g.clearTimeout(a.u),a.u=null),Ki(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&g.clearTimeout(a.s),a.s=null)}function Ln(a){if(!Gt(a.h)&&!a.s){a.s=!0;var d=a.Ga;Fe||Z(),G||(Fe(),G=!0),ae.add(d,a),a.B=0}}function Xl(a,d){return na(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=pn(U(a.Ga,a,d),fa(a,a.B)),a.B++,!0)}s.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const N=new yn(this,this.j,a);let z=this.o;if(this.S&&(z?(z=T(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(N.H=z,z=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Er(this,N,d),m=Yt(this.I),ze(m,"RID",a),ze(m,"CVER",22),this.D&&ze(m,"X-HTTP-Session-Id",this.D),Jn(this,m),z&&(this.O?d="headers="+encodeURIComponent(String(Xn(z)))+"&"+d:this.m&&_r(m,this.m,z)),eo(this.h,N),this.Ua&&ze(m,"TYPE","init"),this.P?(ze(m,"$req",d),ze(m,"SID","null"),N.T=!0,Fi(N,m,null)):Fi(N,m,d),this.G=2}}else this.G==3&&(a?Hi(this,a):this.i.length==0||Gt(this.h)||Hi(this))};function Hi(a,d){var m;d?m=d.l:m=a.U++;const _=Yt(a.I);ze(_,"SID",a.K),ze(_,"RID",m),ze(_,"AID",a.T),Jn(a,_),a.m&&a.o&&_r(_,a.m,a.o),m=new yn(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Er(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),eo(a.h,m),Fi(m,_,d)}function Jn(a,d){a.H&&ke(a.H,function(m,_){ze(d,_,m)}),a.l&&fr({},function(m,_){ze(d,_,m)})}function Er(a,d,m){m=Math.min(a.i.length,m);var _=a.l?U(a.l.Na,a.l,a):null;e:{var N=a.i;let z=-1;for(;;){const W=["count="+m];z==-1?0<m?(z=N[0].g,W.push("ofs="+z)):z=0:W.push("ofs="+z);let Me=!0;for(let lt=0;lt<m;lt++){let Se=N[lt].g;const pt=N[lt].map;if(Se-=z,0>Se)z=Math.max(0,N[lt].g-100),Me=!1;else try{ca(pt,W,"req"+Se+"_")}catch{_&&_(pt)}}if(Me){_=W.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,_}function ii(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Fe||Z(),G||(Fe(),G=!0),ae.add(d,a),a.v=0}}function Qi(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=pn(U(a.Fa,a),fa(a,a.v)),a.v++,!0)}s.Fa=function(){if(this.u=null,da(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=pn(U(this.ab,this),a)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Tn(this),da(this))};function oo(a){a.A!=null&&(g.clearTimeout(a.A),a.A=null)}function da(a){a.g=new yn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Yt(a.qa);ze(d,"RID","rpc"),ze(d,"SID",a.K),ze(d,"AID",a.T),ze(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&ze(d,"TO",a.ja),ze(d,"TYPE","xmlhttp"),Jn(a,d),a.m&&a.o&&_r(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=gr(Yt(d)),m.m=null,m.P=!0,Js(m,a)}s.Za=function(){this.C!=null&&(this.C=null,Tn(this),Qi(this),Ze(19))};function Ki(a){a.C!=null&&(g.clearTimeout(a.C),a.C=null)}function Wi(a,d){var m=null;if(a.g==d){Ki(a),oo(a),a.g=null;var _=2}else if(Lt(a.h,d))m=d.D,ra(a.h,d),_=1;else return;if(a.G!=0){if(d.o)if(_==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var N=a.B;_=Wr(),at(_,new Ni(_,m)),Ln(a)}else ii(a);else if(N=d.s,N==3||N==0&&0<d.X||!(_==1&&Xl(a,d)||_==2&&Qi(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),N){case 1:Zn(a,5);break;case 4:Zn(a,10);break;case 3:Zn(a,6);break;default:Zn(a,2)}}}function fa(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function Zn(a,d){if(a.j.info("Error code "+d),d==2){var m=U(a.fb,a),_=a.Xa;const N=!_;_=new Gn(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ti(_,"https"),gr(_),N?Wl(_.toString(),m):ua(_.toString(),m)}else Ze(2);a.G=0,a.l&&a.l.sa(d),pa(a),bi(a)}s.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function pa(a){if(a.G=0,a.ka=[],a.l){const d=ia(a.h);(d.length!=0||a.i.length!=0)&&(K(a.ka,d),K(a.ka,a.i),a.h.i.length=0,ee(a.i),a.i.length=0),a.l.ra()}}function ma(a,d,m){var _=m instanceof Gn?Yt(m):new Gn(m);if(_.g!="")d&&(_.g=d+"."+_.g),pr(_,_.s);else{var N=g.location;_=N.protocol,d=d?d+"."+N.hostname:N.hostname,N=+N.port;var z=new Gn(null);_&&ti(z,_),d&&(z.g=d),N&&pr(z,N),m&&(z.l=m),_=z}return m=a.D,d=a.ya,m&&d&&ze(_,m,d),ze(_,"VER",a.la),Jn(a,_),_}function ga(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new Yn({eb:m})):new be(a.pa),d.Ha(a.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ao(){}s=ao.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Gi(){}Gi.prototype.g=function(a,d){return new Ot(a,d)};function Ot(a,d){ot.call(this),this.g=new so(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!Pe(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Pe(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new On(this)}X(Ot,ot),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Et(this.g)},Ot.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=bs(a),a=m);d.i.push(new ta(d.Ya++,a)),d.G==3&&Ln(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Et(this.g),delete this.g,Ot.aa.N.call(this)};function ya(a){kn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}X(ya,kn);function va(){Di.call(this),this.status=1}X(va,Di);function On(a){this.g=a}X(On,ao),On.prototype.ua=function(){at(this.g,"a")},On.prototype.ta=function(a){at(this.g,new ya(a))},On.prototype.sa=function(a){at(this.g,new va)},On.prototype.ra=function(){at(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,em=function(){return new Gi},Zp=function(){return Wr()},Jp=xn,Bc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,vl=Oi,Xo.COMPLETE="complete",Xp=Xo,Vi.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",ot.prototype.listen=ot.prototype.K,No=Vi,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Yp=be}).apply(typeof dl<"u"?dl:typeof self<"u"?self:typeof window<"u"?window:{});const Xf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new qp("@firebase/firestore");function vs(){return Si.logLevel}function te(s,...t){if(Si.logLevel<=Ce.DEBUG){const r=t.map(sh);Si.debug(`Firestore (${Ns}): ${s}`,...r)}}function ur(s,...t){if(Si.logLevel<=Ce.ERROR){const r=t.map(sh);Si.error(`Firestore (${Ns}): ${s}`,...r)}}function As(s,...t){if(Si.logLevel<=Ce.WARN){const r=t.map(sh);Si.warn(`Firestore (${Ns}): ${s}`,...r)}}function sh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(s="Unexpected state"){const t=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+s;throw ur(t),new Error(t)}function We(s,t){s||me()}function Re(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ds{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class U0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Dt.UNAUTHENTICATED))}shutdown(){}}class B0{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class j0{constructor(t){this.t=t,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){We(this.o===void 0);let o=this.i;const l=v=>this.i!==o?(o=this.i,r(v)):Promise.resolve();let c=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wi,t.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const v=c;t.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},g=v=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wi)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(We(typeof o.accessToken=="string"),new tm(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return We(t===null||typeof t=="string"),new Dt(t)}}class $0{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class q0{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new $0(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H0{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){We(this.o===void 0);const o=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,te("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const l=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(We(typeof r.token=="string"),this.R=r.token,new b0(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const l=Q0(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<r&&(o+=t.charAt(l[c]%t.length))}return o}}function Ae(s,t){return s<t?-1:s>t?1:0}function Rs(s,t,r){return s.length===t.length&&s.every((o,l)=>r(o,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new Wt(r,o)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ae(this.nanoseconds,t.nanoseconds):Ae(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(t){return new pe(t)}static min(){return new pe(new Wt(0,0))}static max(){return new pe(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,r,o){r===void 0?r=0:r>t.length&&me(),o===void 0?o=t.length-r:o>t.length-r&&me(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return $o.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof $o?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let l=0;l<o;l++){const c=t.get(l),p=r.get(l);if(c<p)return-1;if(c>p)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Ye extends $o{construct(t,r,o){return new Ye(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new Ye(r)}static emptyPath(){return new Ye([])}}const W0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends $o{construct(t,r,o){return new zt(t,r,o)}static isValidIdentifier(t){return W0.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(t){const r=[];let o="",l=0;const c=()=>{if(o.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=v,l+=2}else g==="`"?(p=!p,l++):g!=="."||p?(o+=g,l++):(c(),l++)}if(c(),p)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zt(r)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.path=t}static fromPath(t){return new he(Ye.fromString(t))}static fromName(t){return new he(Ye.fromString(t).popFirst(5))}static empty(){return new he(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ye.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ye.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new he(new Ye(t.slice()))}}function G0(s,t){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,l=pe.fromTimestamp(o===1e9?new Wt(r+1,0):new Wt(r,o));return new Ur(l,he.empty(),t)}function Y0(s){return new Ur(s.readTime,s.key,-1)}class Ur{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new Ur(pe.min(),he.empty(),-1)}static max(){return new Ur(pe.max(),he.empty(),-1)}}function X0(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=he.comparator(s.documentKey,t.documentKey),r!==0?r:Ae(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==J0)throw s;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new j((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof j?r:j.resolve(r)}catch(r){return j.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):j.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):j.reject(r)}static resolve(t){return new j((r,o)=>{r(t)})}static reject(t){return new j((r,o)=>{o(t)})}static waitFor(t){return new j((r,o)=>{let l=0,c=0,p=!1;t.forEach(g=>{++l,g.next(()=>{++c,p&&c===l&&r()},v=>o(v))}),p=!0,c===l&&r()})}static or(t){let r=j.resolve(!1);for(const o of t)r=r.next(l=>l?j.resolve(l):o());return r}static forEach(t,r){const o=[];return t.forEach((l,c)=>{o.push(r.call(this,l,c))}),this.waitFor(o)}static mapArray(t,r){return new j((o,l)=>{const c=t.length,p=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;r(t[E]).next(I=>{p[E]=I,++g,g===c&&o(p)},I=>l(I))}})}static doWhile(t,r){return new j((o,l)=>{const c=()=>{t()===!0?r().next(()=>{c()},l):o()};c()})}}function ev(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ls(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Ll.oe=-1;function Ol(s){return s==null}function jc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=Jf(t)),t=nv(s.get(r),t);return Jf(t)}function nv(s,t){let r=t;const o=s.length;for(let l=0;l<o;l++){const c=s.charAt(l);switch(c){case"\0":r+="";break;case"":r+="";break;default:r+=c}}return r}function Jf(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function Qo(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function rv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t,r){this.comparator=t,this.root=r||St.EMPTY}insert(t,r){return new nt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,St.BLACK,null,null))}remove(t){return new nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,St.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(t,o.key);if(l===0)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fl(this.root,t,this.comparator,!1)}getReverseIterator(){return new fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fl(this.root,t,this.comparator,!0)}}class fl{constructor(t,r,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class St{constructor(t,r,o,l,c){this.key=t,this.value=r,this.color=o??St.RED,this.left=l??St.EMPTY,this.right=c??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,l,c){return new St(t??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let l=this;const c=o(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,r,o),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return St.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const t=this.left.check();if(t!==this.right.check())throw me();return t+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(t,r,o,l,c){return this}insert(t,r,o){return new St(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.comparator=t,this.data=new nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new ep(this.data.getIterator())}getIteratorFrom(t){return new ep(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof dt)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new dt(this.comparator);return r.data=t,r}}class ep{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.fields=t,t.sort(zt.comparator)}static empty(){return new Or([])}unionWith(t){let r=new dt(zt.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new Or(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Rs(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nm("Invalid base64 string: "+c):c}}(t);return new It(r)}static fromUint8Array(t){const r=function(l){let c="";for(let p=0;p<l.length;++p)c+=String.fromCharCode(l[p]);return c}(t);return new It(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ae(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}It.EMPTY_BYTE_STRING=new It("");const iv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(s){if(We(!!s),typeof s=="string"){let t=0;const r=iv.exec(s);if(We(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:tt(s.seconds),nanos:tt(s.nanos)}}function tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function jr(s){return typeof s=="string"?It.fromBase64String(s):It.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Ml(s){const t=s.mapValue.fields.__previous_value__;return oh(t)?Ml(t):t}function qo(s){const t=Br(s.mapValue.fields.__local_write_time__.timestampValue);return new Wt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(t,r,o,l,c,p,g,v,E){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E}}class bo{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new bo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof bo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?oh(s)?4:av(s)?9007199254740991:ov(s)?10:11:me()}function $n(s,t){if(s===t)return!0;const r=$r(s);if(r!==$r(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return qo(s).isEqual(qo(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const p=Br(l.timestampValue),g=Br(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,c){return jr(l.bytesValue).isEqual(jr(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,c){return tt(l.geoPointValue.latitude)===tt(c.geoPointValue.latitude)&&tt(l.geoPointValue.longitude)===tt(c.geoPointValue.longitude)}(s,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return tt(l.integerValue)===tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const p=tt(l.doubleValue),g=tt(c.doubleValue);return p===g?jc(p)===jc(g):isNaN(p)&&isNaN(g)}return!1}(s,t);case 9:return Rs(s.arrayValue.values||[],t.arrayValue.values||[],$n);case 10:case 11:return function(l,c){const p=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Zf(p)!==Zf(g))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(g[v]===void 0||!$n(p[v],g[v])))return!1;return!0}(s,t);default:return me()}}function Ho(s,t){return(s.values||[]).find(r=>$n(r,t))!==void 0}function Ps(s,t){if(s===t)return 0;const r=$r(s),o=$r(t);if(r!==o)return Ae(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ae(s.booleanValue,t.booleanValue);case 2:return function(c,p){const g=tt(c.integerValue||c.doubleValue),v=tt(p.integerValue||p.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,t);case 3:return tp(s.timestampValue,t.timestampValue);case 4:return tp(qo(s),qo(t));case 5:return Ae(s.stringValue,t.stringValue);case 6:return function(c,p){const g=jr(c),v=jr(p);return g.compareTo(v)}(s.bytesValue,t.bytesValue);case 7:return function(c,p){const g=c.split("/"),v=p.split("/");for(let E=0;E<g.length&&E<v.length;E++){const I=Ae(g[E],v[E]);if(I!==0)return I}return Ae(g.length,v.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,p){const g=Ae(tt(c.latitude),tt(p.latitude));return g!==0?g:Ae(tt(c.longitude),tt(p.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return np(s.arrayValue,t.arrayValue);case 10:return function(c,p){var g,v,E,I;const O=c.fields||{},U=p.fields||{},H=(g=O.value)===null||g===void 0?void 0:g.arrayValue,X=(v=U.value)===null||v===void 0?void 0:v.arrayValue,ee=Ae(((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0,((I=X==null?void 0:X.values)===null||I===void 0?void 0:I.length)||0);return ee!==0?ee:np(H,X)}(s.mapValue,t.mapValue);case 11:return function(c,p){if(c===pl.mapValue&&p===pl.mapValue)return 0;if(c===pl.mapValue)return 1;if(p===pl.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=p.fields||{},I=Object.keys(E);v.sort(),I.sort();for(let O=0;O<v.length&&O<I.length;++O){const U=Ae(v[O],I[O]);if(U!==0)return U;const H=Ps(g[v[O]],E[I[O]]);if(H!==0)return H}return Ae(v.length,I.length)}(s.mapValue,t.mapValue);default:throw me()}}function tp(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ae(s,t);const r=Br(s),o=Br(t),l=Ae(r.seconds,o.seconds);return l!==0?l:Ae(r.nanos,o.nanos)}function np(s,t){const r=s.values||[],o=t.values||[];for(let l=0;l<r.length&&l<o.length;++l){const c=Ps(r[l],o[l]);if(c)return c}return Ae(r.length,o.length)}function ks(s){return $c(s)}function $c(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=Br(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return jr(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return he.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=$c(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of o)c?c=!1:l+=",",l+=`${p}:${$c(r.fields[p])}`;return l+"}"}(s.mapValue):me()}function _l(s){switch($r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ml(s);return t?16+_l(t):16;case 5:return 2*s.stringValue.length;case 6:return jr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((l,c)=>l+_l(c),0)}(s.arrayValue);case 10:case 11:return function(o){let l=0;return Qo(o.fields,(c,p)=>{l+=c.length+_l(p)}),l}(s.mapValue);default:throw me()}}function qc(s){return!!s&&"integerValue"in s}function ah(s){return!!s&&"arrayValue"in s}function rp(s){return!!s&&"nullValue"in s}function ip(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ac(s){return!!s&&"mapValue"in s}function ov(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Mo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Qo(s.mapValue.fields,(r,o)=>t.mapValue.fields[r]=Mo(o)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Mo(s.arrayValue.values[r]);return t}return Object.assign({},s)}function av(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!Ac(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mo(r)}setAll(t){let r=zt.emptyPath(),o={},l=[];t.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,o,l),o={},l=[],r=g.popLast()}p?o[g.lastSegment()]=Mo(p):l.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,l)}delete(t){const r=this.field(t.popLast());Ac(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return $n(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let l=r.mapValue.fields[t.get(o)];Ac(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,o){Qo(r,(l,c)=>t[l]=c);for(const l of o)delete t[l]}clone(){return new Bn(Mo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,r,o,l,c,p,g){this.key=t,this.documentType=r,this.version=o,this.readTime=l,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(t){return new Nt(t,0,pe.min(),pe.min(),pe.min(),Bn.empty(),0)}static newFoundDocument(t,r,o,l){return new Nt(t,1,r,pe.min(),o,l,0)}static newNoDocument(t,r){return new Nt(t,2,r,pe.min(),pe.min(),Bn.empty(),0)}static newUnknownDocument(t,r){return new Nt(t,3,r,pe.min(),pe.min(),Bn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Nt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t,r){this.position=t,this.inclusive=r}}function sp(s,t,r){let o=0;for(let l=0;l<s.position.length;l++){const c=t[l],p=s.position[l];if(c.field.isKeyField()?o=he.comparator(he.fromName(p.referenceValue),r.key):o=Ps(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function op(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!$n(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,r="asc"){this.field=t,this.dir=r}}function lv(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{}class ht extends rm{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new cv(t,r,o):r==="array-contains"?new fv(t,o):r==="in"?new pv(t,o):r==="not-in"?new mv(t,o):r==="array-contains-any"?new gv(t,o):new ht(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new hv(t,o):new dv(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ps(r,this.value)):r!==null&&$r(this.value)===$r(r)&&this.matchesComparison(Ps(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends rm{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new qn(t,r)}matches(t){return im(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function im(s){return s.op==="and"}function sm(s){return uv(s)&&im(s)}function uv(s){for(const t of s.filters)if(t instanceof qn)return!1;return!0}function bc(s){if(s instanceof ht)return s.field.canonicalString()+s.op.toString()+ks(s.value);if(sm(s))return s.filters.map(t=>bc(t)).join(",");{const t=s.filters.map(r=>bc(r)).join(",");return`${s.op}(${t})`}}function om(s,t){return s instanceof ht?function(o,l){return l instanceof ht&&o.op===l.op&&o.field.isEqual(l.field)&&$n(o.value,l.value)}(s,t):s instanceof qn?function(o,l){return l instanceof qn&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce((c,p,g)=>c&&om(p,l.filters[g]),!0):!1}(s,t):void me()}function am(s){return s instanceof ht?function(r){return`${r.field.canonicalString()} ${r.op} ${ks(r.value)}`}(s):s instanceof qn?function(r){return r.op.toString()+" {"+r.getFilters().map(am).join(" ,")+"}"}(s):"Filter"}class cv extends ht{constructor(t,r,o){super(t,r,o),this.key=he.fromName(o.referenceValue)}matches(t){const r=he.comparator(t.key,this.key);return this.matchesComparison(r)}}class hv extends ht{constructor(t,r){super(t,"in",r),this.keys=lm("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class dv extends ht{constructor(t,r){super(t,"not-in",r),this.keys=lm("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function lm(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>he.fromName(o.referenceValue))}class fv extends ht{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return ah(r)&&Ho(r.arrayValue,this.value)}}class pv extends ht{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Ho(this.value.arrayValue,r)}}class mv extends ht{constructor(t,r){super(t,"not-in",r)}matches(t){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!Ho(this.value.arrayValue,r)}}class gv extends ht{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!ah(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Ho(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t,r=null,o=[],l=[],c=null,p=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function ap(s,t=null,r=[],o=[],l=null,c=null,p=null){return new yv(s,t,r,o,l,c,p)}function lh(s){const t=Re(s);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>bc(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Ol(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ks(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ks(o)).join(",")),t.ue=r}return t.ue}function uh(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!lv(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!om(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!op(s.startAt,t.startAt)&&op(s.endAt,t.endAt)}function Hc(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,r=null,o=[],l=[],c=null,p="F",g=null,v=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vv(s,t,r,o,l,c,p,g){return new Fl(s,t,r,o,l,c,p,g)}function um(s){return new Fl(s)}function lp(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function _v(s){return s.collectionGroup!==null}function Fo(s){const t=Re(s);if(t.ce===null){t.ce=[];const r=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new dt(zt.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Rl(c,o))}),r.has(zt.keyField().canonicalString())||t.ce.push(new Rl(zt.keyField(),o))}return t.ce}function jn(s){const t=Re(s);return t.le||(t.le=Ev(t,Fo(s))),t.le}function Ev(s,t){if(s.limitType==="F")return ap(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Rl(l.field,c)});const r=s.endAt?new Al(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Al(s.startAt.position,s.startAt.inclusive):null;return ap(s.path,s.collectionGroup,t,s.filters,s.limit,r,o)}}function Qc(s,t,r){return new Fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function zl(s,t){return uh(jn(s),jn(t))&&s.limitType===t.limitType}function cm(s){return`${lh(jn(s))}|lt:${s.limitType}`}function _s(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(l=>am(l)).join(", ")}]`),Ol(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(l=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(l)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(l=>ks(l)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(l=>ks(l)).join(",")),`Target(${o})`}(jn(s))}; limitType=${s.limitType})`}function Ul(s,t){return t.isFoundDocument()&&function(o,l){const c=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):he.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,t)&&function(o,l){for(const c of Fo(o))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(s,t)&&function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0}(s,t)&&function(o,l){return!(o.startAt&&!function(p,g,v){const E=sp(p,g,v);return p.inclusive?E<=0:E<0}(o.startAt,Fo(o),l)||o.endAt&&!function(p,g,v){const E=sp(p,g,v);return p.inclusive?E>=0:E>0}(o.endAt,Fo(o),l))}(s,t)}function wv(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function hm(s){return(t,r)=>{let o=!1;for(const l of Fo(s)){const c=Tv(l,t,r);if(c!==0)return c;o=o||l.field.isKeyField()}return 0}}function Tv(s,t,r){const o=s.field.isKeyField()?he.comparator(t.key,r.key):function(c,p,g){const v=p.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Ps(v,E):me()}(s.field,t,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[l,c]of o)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),l=this.inner[o];if(l===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return o.length===1?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Qo(this.inner,(r,o)=>{for(const[l,c]of o)t(l,c)})}isEmpty(){return rv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new nt(he.comparator);function qr(){return Sv}const dm=new nt(he.comparator);function Lo(...s){let t=dm;for(const r of s)t=t.insert(r.key,r);return t}function Iv(s){let t=dm;return s.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function _i(){return zo()}function fm(){return zo()}function zo(){return new Ii(s=>s.toString(),(s,t)=>s.isEqual(t))}const Cv=new dt(he.comparator);function Ve(...s){let t=Cv;for(const r of s)t=t.add(r);return t}const Av=new dt(Ae);function Rv(){return Av}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(t)?"-0":t}}function kv(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this._=void 0}}function xv(s,t,r){return s instanceof Kc?function(l,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&oh(c)&&(c=Ml(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,t):s instanceof Pl?pm(s,t):s instanceof kl?mm(s,t):function(l,c){const p=Dv(l,c),g=up(p)+up(l.Pe);return qc(p)&&qc(l.Pe)?kv(g):Pv(l.serializer,g)}(s,t)}function Vv(s,t,r){return s instanceof Pl?pm(s,t):s instanceof kl?mm(s,t):r}function Dv(s,t){return s instanceof Wc?function(o){return qc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(t)?t:{integerValue:0}:null}class Kc extends Bl{}class Pl extends Bl{constructor(t){super(),this.elements=t}}function pm(s,t){const r=gm(t);for(const o of s.elements)r.some(l=>$n(l,o))||r.push(o);return{arrayValue:{values:r}}}class kl extends Bl{constructor(t){super(),this.elements=t}}function mm(s,t){let r=gm(t);for(const o of s.elements)r=r.filter(l=>!$n(l,o));return{arrayValue:{values:r}}}class Wc extends Bl{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function up(s){return tt(s.integerValue||s.doubleValue)}function gm(s){return ah(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Nv(s,t){return s.field.isEqual(t.field)&&function(o,l){return o instanceof Pl&&l instanceof Pl||o instanceof kl&&l instanceof kl?Rs(o.elements,l.elements,$n):o instanceof Wc&&l instanceof Wc?$n(o.Pe,l.Pe):o instanceof Kc&&l instanceof Kc}(s.transform,t.transform)}class Ti{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function El(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ch{}function ym(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Ov(s.key,Ti.none()):new hh(s.key,s.data,Ti.none());{const r=s.data,o=Bn.empty();let l=new dt(zt.comparator);for(let c of t.fields)if(!l.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),l=l.add(c)}return new jl(s.key,o,new Or(l.toArray()),Ti.none())}}function Lv(s,t,r){s instanceof hh?function(l,c,p){const g=l.value.clone(),v=hp(l.fieldTransforms,c,p.transformResults);g.setAll(v),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,t,r):s instanceof jl?function(l,c,p){if(!El(l.precondition,c))return void c.convertToUnknownDocument(p.version);const g=hp(l.fieldTransforms,c,p.transformResults),v=c.data;v.setAll(vm(l)),v.setAll(g),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(s,t,r):function(l,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function Uo(s,t,r,o){return s instanceof hh?function(c,p,g,v){if(!El(c.precondition,p))return g;const E=c.value.clone(),I=dp(c.fieldTransforms,v,p);return E.setAll(I),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(s,t,r,o):s instanceof jl?function(c,p,g,v){if(!El(c.precondition,p))return g;const E=dp(c.fieldTransforms,v,p),I=p.data;return I.setAll(vm(c)),I.setAll(E),p.convertToFoundDocument(p.version,I).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(O=>O.field))}(s,t,r,o):function(c,p,g){return El(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,t,r)}function cp(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&Rs(o,l,(c,p)=>Nv(c,p))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class hh extends ch{constructor(t,r,o,l=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class jl extends ch{constructor(t,r,o,l,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function vm(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);t.set(r,o)}}),t}function hp(s,t,r){const o=new Map;We(s.length===r.length);for(let l=0;l<r.length;l++){const c=s[l],p=c.transform,g=t.data.field(c.field);o.set(c.field,Vv(p,g,r[l]))}return o}function dp(s,t,r){const o=new Map;for(const l of s){const c=l.transform,p=r.data.field(l.field);o.set(l.field,xv(c,p,t))}return o}class Ov extends ch{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t,r,o,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Lv(c,t,o[l])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Uo(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Uo(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=fm();return this.mutations.forEach(l=>{const c=t.get(l.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(l.key)?null:g;const v=ym(p,g);v!==null&&o.set(l.key,v),p.isValidDocument()||p.convertToNoDocument(pe.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ve())}isEqual(t){return this.batchId===t.batchId&&Rs(this.mutations,t.mutations,(r,o)=>cp(r,o))&&Rs(this.baseMutations,t.baseMutations,(r,o)=>cp(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Ie;function _m(s){if(s===void 0)return ur("GRPC error has no .code"),Y.UNKNOWN;switch(s){case st.OK:return Y.OK;case st.CANCELLED:return Y.CANCELLED;case st.UNKNOWN:return Y.UNKNOWN;case st.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case st.INTERNAL:return Y.INTERNAL;case st.UNAVAILABLE:return Y.UNAVAILABLE;case st.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case st.NOT_FOUND:return Y.NOT_FOUND;case st.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case st.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case st.ABORTED:return Y.ABORTED;case st.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case st.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case st.DATA_LOSS:return Y.DATA_LOSS;default:return me()}}(Ie=st||(st={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Ei([4294967295,4294967295],0);function fp(s){const t=Uv().encode(s),r=new Gp;return r.update(t),new Uint8Array(r.digest())}function pp(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ei([r,o],0),new Ei([l,c],0)]}class dh{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Oo(`Invalid padding: ${r}`);if(o<0)throw new Oo(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${o}`);if(t.length===0&&r!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*t.length-r,this.Ie=Ei.fromNumber(this.Te)}Ee(t,r,o){let l=t.add(r.multiply(Ei.fromNumber(o)));return l.compare(Bv)===1&&(l=new Ei([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ie).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const r=fp(t),[o,l]=pp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,l,c);if(!this.de(p))return!1}return!0}static create(t,r,o){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),p=new dh(c,l,r);return o.forEach(g=>p.insert(g)),p}insert(t){if(this.Te===0)return;const r=fp(t),[o,l]=pp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,l,c);this.Ae(p)}}Ae(t){const r=Math.floor(t/8),o=t%8;this.bitmap[r]|=1<<o}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t,r,o,l,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const l=new Map;return l.set(t,Ko.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new $l(pe.min(),l,new nt(Ae),qr(),Ve())}}class Ko{constructor(t,r,o,l,c){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new Ko(o,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,r,o,l){this.Re=t,this.removedTargetIds=r,this.key=o,this.Ve=l}}class Em{constructor(t,r){this.targetId=t,this.me=r}}class wm{constructor(t,r,o=It.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=l}}class mp{constructor(){this.fe=0,this.ge=gp(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Ve(),r=Ve(),o=Ve();return this.ge.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:me()}}),new Ko(this.pe,this.ye,t,r,o)}Ce(){this.we=!1,this.ge=gp()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jv{constructor(t){this.Le=t,this.Be=new Map,this.ke=qr(),this.qe=ml(),this.Qe=ml(),this.Ke=new nt(Ae)}$e(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(r,t.Ve):this.We(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.We(r,t.key,t.Ve)}Ge(t){this.forEachTarget(t,r=>{const o=this.ze(r);switch(t.state){case 0:this.je(r)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.je(r)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.je(r)&&(this.He(r),o.De(t.resumeToken));break;default:me()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((o,l)=>{this.je(l)&&r(l)})}Je(t){const r=t.targetId,o=t.me.count,l=this.Ye(r);if(l){const c=l.target;if(Hc(c))if(o===0){const p=new he(c.path);this.We(r,p,Nt.newNoDocument(p,pe.min()))}else We(o===1);else{const p=this.Ze(r);if(p!==o){const g=this.Xe(t),v=g?this.et(g,t,p):1;if(v!==0){this.He(r);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,E)}}}}}Xe(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=r;let p,g;try{p=jr(o).toUint8Array()}catch(v){if(v instanceof nm)return As("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new dh(p,l,c)}catch(v){return As(v instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Te===0?null:g}et(t,r,o){return r.me.count===o-this.rt(t,r.targetId)?0:2}rt(t,r){const o=this.Le.getRemoteKeysForTarget(r);let l=0;return o.forEach(c=>{const p=this.Le.nt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.We(r,c,null),l++)}),l}it(t){const r=new Map;this.Be.forEach((c,p)=>{const g=this.Ye(p);if(g){if(c.current&&Hc(g.target)){const v=new he(g.target.path);this.st(v).has(p)||this.ot(p,v)||this.We(p,v,Nt.newNoDocument(v,t))}c.be&&(r.set(p,c.ve()),c.Ce())}});let o=Ve();this.Qe.forEach((c,p)=>{let g=!0;p.forEachWhile(v=>{const E=this.Ye(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ke.forEach((c,p)=>p.setReadTime(t));const l=new $l(t,r,this.Ke,this.ke,o);return this.ke=qr(),this.qe=ml(),this.Qe=ml(),this.Ke=new nt(Ae),l}Ue(t,r){if(!this.je(t))return;const o=this.ot(t,r.key)?2:0;this.ze(t).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t)),this.Qe=this.Qe.insert(r.key,this._t(r.key).add(t))}We(t,r,o){if(!this.je(t))return;const l=this.ze(t);this.ot(t,r)?l.Fe(r,1):l.Me(r),this.Qe=this.Qe.insert(r,this._t(r).delete(t)),this.Qe=this.Qe.insert(r,this._t(r).add(t)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(t){this.Be.delete(t)}Ze(t){const r=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let r=this.Be.get(t);return r||(r=new mp,this.Be.set(t,r)),r}_t(t){let r=this.Qe.get(t);return r||(r=new dt(Ae),this.Qe=this.Qe.insert(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new dt(Ae),this.qe=this.qe.insert(t,r)),r}je(t){const r=this.Ye(t)!==null;return r||te("WatchChangeAggregator","Detected inactive target",t),r}Ye(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new mp),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.We(t,r,null)})}ot(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function ml(){return new nt(he.comparator)}function gp(){return new nt(he.comparator)}const $v={asc:"ASCENDING",desc:"DESCENDING"},qv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bv={and:"AND",or:"OR"};class Hv{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Gc(s,t){return s.useProto3Json||Ol(t)?t:{value:t}}function Qv(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kv(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Ss(s){return We(!!s),pe.fromTimestamp(function(r){const o=Br(r);return new Wt(o.seconds,o.nanos)}(s))}function Wv(s,t){return Yc(s,t).canonicalString()}function Yc(s,t){const r=function(l){return new Ye(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?r:r.child(t)}function Tm(s){const t=Ye.fromString(s);return We(Rm(t)),t}function Rc(s,t){const r=Tm(t);if(r.get(1)!==s.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new he(Im(r))}function Sm(s,t){return Wv(s.databaseId,t)}function Gv(s){const t=Tm(s);return t.length===4?Ye.emptyPath():Im(t)}function yp(s){return new Ye(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Im(s){return We(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Yv(s,t){let r;if("targetChange"in t){t.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:me()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(E,I){return E.useProto3Json?(We(I===void 0||typeof I=="string"),It.fromBase64String(I||"")):(We(I===void 0||I instanceof Buffer||I instanceof Uint8Array),It.fromUint8Array(I||new Uint8Array))}(s,t.targetChange.resumeToken),p=t.targetChange.cause,g=p&&function(E){const I=E.code===void 0?Y.UNKNOWN:_m(E.code);return new ce(I,E.message||"")}(p);r=new wm(o,l,c,g||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const l=Rc(s,o.document.name),c=Ss(o.document.updateTime),p=o.document.createTime?Ss(o.document.createTime):pe.min(),g=new Bn({mapValue:{fields:o.document.fields}}),v=Nt.newFoundDocument(l,c,p,g),E=o.targetIds||[],I=o.removedTargetIds||[];r=new wl(E,I,v.key,v)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const l=Rc(s,o.document),c=o.readTime?Ss(o.readTime):pe.min(),p=Nt.newNoDocument(l,c),g=o.removedTargetIds||[];r=new wl([],g,p.key,p)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const l=Rc(s,o.document),c=o.removedTargetIds||[];r=new wl([],c,l,null)}else{if(!("filter"in t))return me();{t.filter;const o=t.filter;o.targetId;const{count:l=0,unchangedNames:c}=o,p=new zv(l,c),g=o.targetId;r=new Em(g,p)}}return r}function Xv(s,t){return{documents:[Sm(s,t.path)]}}function Jv(s,t){const r={structuredQuery:{}},o=t.path;let l;t.collectionGroup!==null?(l=o,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=Sm(s,l);const c=function(E){if(E.length!==0)return Am(qn.create(E,"and"))}(t.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(I=>function(U){return{field:Es(U.field),direction:t_(U.dir)}}(I))}(t.orderBy);p&&(r.structuredQuery.orderBy=p);const g=Gc(s,t.limit);return g!==null&&(r.structuredQuery.limit=g),t.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{ct:r,parent:l}}function Zv(s){let t=Gv(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){We(o===1);const I=r.from[0];I.allDescendants?l=I.collectionId:t=t.child(I.collectionId)}let c=[];r.where&&(c=function(O){const U=Cm(O);return U instanceof qn&&sm(U)?U.getFilters():[U]}(r.where));let p=[];r.orderBy&&(p=function(O){return O.map(U=>function(X){return new Rl(ws(X.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(U))}(r.orderBy));let g=null;r.limit&&(g=function(O){let U;return U=typeof O=="object"?O.value:O,Ol(U)?null:U}(r.limit));let v=null;r.startAt&&(v=function(O){const U=!!O.before,H=O.values||[];return new Al(H,U)}(r.startAt));let E=null;return r.endAt&&(E=function(O){const U=!O.before,H=O.values||[];return new Al(H,U)}(r.endAt)),vv(t,l,p,c,g,"F",v,E)}function e_(s,t){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Cm(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=ws(r.unaryFilter.field);return ht.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=ws(r.unaryFilter.field);return ht.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ws(r.unaryFilter.field);return ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=ws(r.unaryFilter.field);return ht.create(p,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(s):s.fieldFilter!==void 0?function(r){return ht.create(ws(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return qn.create(r.compositeFilter.filters.map(o=>Cm(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return me()}}(r.compositeFilter.op))}(s):me()}function t_(s){return $v[s]}function n_(s){return qv[s]}function r_(s){return bv[s]}function Es(s){return{fieldPath:s.canonicalString()}}function ws(s){return zt.fromServerFormat(s.fieldPath)}function Am(s){return s instanceof ht?function(r){if(r.op==="=="){if(ip(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NAN"}};if(rp(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ip(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NOT_NAN"}};if(rp(r.value))return{unaryFilter:{field:Es(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(r.field),op:n_(r.op),value:r.value}}}(s):s instanceof qn?function(r){const o=r.getFilters().map(l=>Am(l));return o.length===1?o[0]:{compositeFilter:{op:r_(r.op),filters:o}}}(s):me()}function Rm(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,r,o,l,c=pe.min(),p=pe.min(),g=It.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Mr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(t){this.ht=t}}function s_(s){const t=Zv({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.ln=new a_}addToCollectionParentIndex(t,r){return this.ln.add(r),j.resolve()}getCollectionParents(t,r){return j.resolve(this.ln.getEntries(r))}addFieldIndex(t,r){return j.resolve()}deleteFieldIndex(t,r){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,r){return j.resolve()}getDocumentsMatchingTarget(t,r){return j.resolve(null)}getIndexType(t,r){return j.resolve(0)}getFieldIndexes(t,r){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,r){return j.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,r){return j.resolve(Ur.min())}updateCollectionGroup(t,r,o){return j.resolve()}updateIndexEntries(t,r){return j.resolve()}}class a_{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),l=this.index[r]||new dt(Ye.comparator),c=!l.has(o);return this.index[r]=l.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(t){return(this.index[t]||new dt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(t){return new Kt(t,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new xs(0)}static Qn(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p([s,t],[r,o]){const l=Ae(s,r);return l===0?Ae(t,o):l}class l_{constructor(t){this.Gn=t,this.buffer=new dt(_p),this.zn=0}jn(){return++this.zn}Hn(t){const r=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();_p(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class u_{constructor(t,r,o){this.garbageCollector=t,this.asyncQueue=r,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){te("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ls(r)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Nl(r)}await this.Yn(3e5)})}}class c_{constructor(t,r){this.Zn=t,this.params=r}calculateTargetCount(t,r){return this.Zn.Xn(t).next(o=>Math.floor(r/100*o))}nthSequenceNumber(t,r){if(r===0)return j.resolve(Ll.oe);const o=new l_(r);return this.Zn.forEachTarget(t,l=>o.Hn(l.sequenceNumber)).next(()=>this.Zn.er(t,l=>o.Hn(l))).next(()=>o.maxValue)}removeTargets(t,r,o){return this.Zn.removeTargets(t,r,o)}removeOrphanedDocuments(t,r){return this.Zn.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(vp)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vp):this.tr(t,r))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,r){let o,l,c,p,g,v,E;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),l=this.params.maximumSequenceNumbersToCollect):l=O,p=Date.now(),this.nthSequenceNumber(t,l))).next(O=>(o=O,g=Date.now(),this.removeTargets(t,o,r))).next(O=>(c=O,v=Date.now(),this.removeOrphanedDocuments(t,o))).next(O=>(E=Date.now(),vs()<=Ce.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${p-I}ms
	Determined least recently used ${l} in `+(g-p)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${O} documents in `+(E-v)+`ms
Total Duration: ${E-I}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:O})))}}function h_(s,t){return new c_(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.changes=new Ii(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Nt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?j.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t,r,o,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(o=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(o!==null&&Uo(o.mutation,l,Or.empty(),Wt.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,Ve()).next(()=>o))}getLocalViewOfDocuments(t,r,o=Ve()){const l=_i();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,o).next(c=>{let p=Lo();return c.forEach((g,v)=>{p=p.insert(g,v.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const o=_i();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,Ve()))}populateOverlays(t,r,o){const l=[];return o.forEach(c=>{r.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(t,r,o,l){let c=qr();const p=zo(),g=function(){return zo()}();return r.forEach((v,E)=>{const I=o.get(E.key);l.has(E.key)&&(I===void 0||I.mutation instanceof jl)?c=c.insert(E.key,E):I!==void 0?(p.set(E.key,I.mutation.getFieldMask()),Uo(I.mutation,E,I.mutation.getFieldMask(),Wt.now())):p.set(E.key,Or.empty())}),this.recalculateAndSaveOverlays(t,c).next(v=>(v.forEach((E,I)=>p.set(E,I)),r.forEach((E,I)=>{var O;return g.set(E,new f_(I,(O=p.get(E))!==null&&O!==void 0?O:null))}),g))}recalculateAndSaveOverlays(t,r){const o=zo();let l=new nt((p,g)=>p-g),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const g of p)g.keys().forEach(v=>{const E=r.get(v);if(E===null)return;let I=o.get(v)||Or.empty();I=g.applyToLocalView(E,I),o.set(v,I);const O=(l.get(g.batchId)||Ve()).add(v);l=l.insert(g.batchId,O)})}).next(()=>{const p=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,I=v.value,O=fm();I.forEach(U=>{if(!c.has(U)){const H=ym(r.get(U),o.get(U));H!==null&&O.set(U,H),c=c.add(U)}}),p.push(this.documentOverlayCache.saveOverlays(t,E,O))}return j.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,l){return function(p){return he.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):_v(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,l):this.getDocumentsMatchingCollectionQuery(t,r,o,l)}getNextDocuments(t,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,l).next(c=>{const p=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,l-c.size):j.resolve(_i());let g=-1,v=c;return p.next(E=>j.forEach(E,(I,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),c.get(I)?j.resolve():this.remoteDocumentCache.getEntry(t,I).next(U=>{v=v.insert(I,U)}))).next(()=>this.populateOverlays(t,E,c)).next(()=>this.computeViews(t,v,E,Ve())).next(I=>({batchId:g,changes:Iv(I)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new he(r)).next(o=>{let l=Lo();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,o,l){const c=r.collectionGroup;let p=Lo();return this.indexManager.getCollectionParents(t,c).next(g=>j.forEach(g,v=>{const E=function(O,U){return new Fl(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(r,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,E,o,l).next(I=>{I.forEach((O,U)=>{p=p.insert(O,U)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,r,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,l))).next(p=>{c.forEach((v,E)=>{const I=E.getKey();p.get(I)===null&&(p=p.insert(I,Nt.newInvalidDocument(I)))});let g=Lo();return p.forEach((v,E)=>{const I=c.get(v);I!==void 0&&Uo(I.mutation,E,Or.empty(),Wt.now()),Ul(r,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,r){return j.resolve(this.Tr.get(r))}saveBundleMetadata(t,r){return this.Tr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:Ss(l.createTime)}}(r)),j.resolve()}getNamedQuery(t,r){return j.resolve(this.Ir.get(r))}saveNamedQuery(t,r){return this.Ir.set(r.name,function(l){return{name:l.name,query:s_(l.bundledQuery),readTime:Ss(l.readTime)}}(r)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.overlays=new nt(he.comparator),this.Er=new Map}getOverlay(t,r){return j.resolve(this.overlays.get(r))}getOverlays(t,r){const o=_i();return j.forEach(r,l=>this.getOverlay(t,l).next(c=>{c!==null&&o.set(l,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((l,c)=>{this.Tt(t,r,c)}),j.resolve()}removeOverlaysForBatchId(t,r,o){const l=this.Er.get(o);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(o)),j.resolve()}getOverlaysForCollection(t,r,o){const l=_i(),c=r.length+1,p=new he(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>o&&l.set(v.getKey(),v)}return j.resolve(l)}getOverlaysForCollectionGroup(t,r,o,l){let c=new nt((E,I)=>E-I);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let I=c.get(E.largestBatchId);I===null&&(I=_i(),c=c.insert(E.largestBatchId,I)),I.set(E.getKey(),E)}}const g=_i(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,I)=>g.set(E,I)),!(g.size()>=l)););return j.resolve(g)}Tt(t,r,o){const l=this.overlays.get(o.key);if(l!==null){const p=this.Er.get(l.largestBatchId).delete(o.key);this.Er.set(l.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Fv(r,o));let c=this.Er.get(r);c===void 0&&(c=Ve(),this.Er.set(r,c)),this.Er.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this.dr=new dt(vt.Ar),this.Rr=new dt(vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,r){const o=new vt(t,r);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.gr(new vt(t,r))}pr(t,r){t.forEach(o=>this.removeReference(o,r))}yr(t){const r=new he(new Ye([])),o=new vt(r,t),l=new vt(r,t+1),c=[];return this.Rr.forEachInRange([o,l],p=>{this.gr(p),c.push(p.key)}),c}wr(){this.dr.forEach(t=>this.gr(t))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const r=new he(new Ye([])),o=new vt(r,t),l=new vt(r,t+1);let c=Ve();return this.Rr.forEachInRange([o,l],p=>{c=c.add(p.key)}),c}containsKey(t){const r=new vt(t,0),o=this.dr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class vt{constructor(t,r){this.key=t,this.br=r}static Ar(t,r){return he.comparator(t.key,r.key)||Ae(t.br,r.br)}static Vr(t,r){return Ae(t.br,r.br)||he.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Dr=1,this.vr=new dt(vt.Ar)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,l){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new Mv(c,r,o,l);this.mutationQueue.push(p);for(const g of l)this.vr=this.vr.add(new vt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return j.resolve(p)}lookupMutationBatch(t,r){return j.resolve(this.Cr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,l=this.Fr(o),c=l<0?0:l;return j.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new vt(r,0),l=new vt(r,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([o,l],p=>{const g=this.Cr(p.br);c.push(g)}),j.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new dt(Ae);return r.forEach(l=>{const c=new vt(l,0),p=new vt(l,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,p],g=>{o=o.add(g.br)})}),j.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,l=o.length+1;let c=o;he.isDocumentKey(c)||(c=c.child(""));const p=new vt(new he(c),0);let g=new dt(Ae);return this.vr.forEachWhile(v=>{const E=v.key.path;return!!o.isPrefixOf(E)&&(E.length===l&&(g=g.add(v.br)),!0)},p),j.resolve(this.Mr(g))}Mr(t){const r=[];return t.forEach(o=>{const l=this.Cr(o);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){We(this.Or(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return j.forEach(r.mutations,l=>{const c=new vt(l.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.vr=o})}Ln(t){}containsKey(t,r){const o=new vt(r,0),l=this.vr.firstAfterOrEqual(o);return j.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}Or(t,r){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){const r=this.Fr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t){this.Nr=t,this.docs=function(){return new nt(he.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,l=this.docs.get(o),c=l?l.size:0,p=this.Nr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return j.resolve(o?o.document.mutableCopy():Nt.newInvalidDocument(r))}getEntries(t,r){let o=qr();return r.forEach(l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():Nt.newInvalidDocument(l))}),j.resolve(o)}getDocumentsMatchingQuery(t,r,o,l){let c=qr();const p=r.path,g=new he(p.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:I}}=v.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||X0(Y0(I),o)<=0||(l.has(I.key)||Ul(r,I))&&(c=c.insert(I.key,I.mutableCopy()))}return j.resolve(c)}getAllFromCollectionGroup(t,r,o,l){me()}Lr(t,r){return j.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new E_(this)}getSize(t){return j.resolve(this.size)}}class E_ extends d_{constructor(t){super(),this.hr=t}applyChanges(t){const r=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?r.push(this.hr.addEntry(t,l)):this.hr.removeEntry(o)}),j.waitFor(r)}getFromCache(t,r){return this.hr.getEntry(t,r)}getAllFromCache(t,r){return this.hr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(t){this.persistence=t,this.Br=new Ii(r=>lh(r),uh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new fh,this.targetCount=0,this.Qr=xs.qn()}forEachTarget(t,r){return this.Br.forEach((o,l)=>r(l)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.kr&&(this.kr=r),j.resolve()}Un(t){this.Br.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Qr=new xs(r),this.highestTargetId=r),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,r){return this.Un(r),this.targetCount+=1,j.resolve()}updateTargetData(t,r){return this.Un(r),j.resolve()}removeTargetData(t,r){return this.Br.delete(r.target),this.qr.yr(r.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,r,o){let l=0;const c=[];return this.Br.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Br.delete(p),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),j.waitFor(c).next(()=>l)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,r){const o=this.Br.get(r)||null;return j.resolve(o)}addMatchingKeys(t,r,o){return this.qr.mr(r,o),j.resolve()}removeMatchingKeys(t,r,o){this.qr.pr(r,o);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach(p=>{c.push(l.markPotentiallyOrphaned(t,p))}),j.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.qr.yr(r),j.resolve()}getMatchingKeysForTargetId(t,r){const o=this.qr.Sr(r);return j.resolve(o)}containsKey(t,r){return j.resolve(this.qr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,r){this.Kr={},this.overlays={},this.$r=new Ll(0),this.Ur=!1,this.Ur=!0,this.Wr=new y_,this.referenceDelegate=t(this),this.Gr=new w_(this),this.indexManager=new o_,this.remoteDocumentCache=function(l){return new __(l)}(o=>this.referenceDelegate.zr(o)),this.serializer=new i_(r),this.jr=new m_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new g_,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.Kr[t.toKey()];return o||(o=new v_(r,this.referenceDelegate),this.Kr[t.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,r,o){te("MemoryPersistence","Starting transaction:",t);const l=new T_(this.$r.next());return this.referenceDelegate.Hr(),o(l).next(c=>this.referenceDelegate.Jr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Yr(t,r){return j.or(Object.values(this.Kr).map(o=>()=>o.containsKey(t,r)))}}class T_ extends Z0{constructor(t){super(),this.currentSequenceNumber=t}}class ph{constructor(t){this.persistence=t,this.Zr=new fh,this.Xr=null}static ei(t){return new ph(t)}get ti(){if(this.Xr)return this.Xr;throw me()}addReference(t,r,o){return this.Zr.addReference(o,r),this.ti.delete(o.toString()),j.resolve()}removeReference(t,r,o){return this.Zr.removeReference(o,r),this.ti.add(o.toString()),j.resolve()}markPotentiallyOrphaned(t,r){return this.ti.add(r.toString()),j.resolve()}removeTarget(t,r){this.Zr.yr(r.targetId).forEach(l=>this.ti.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(c=>this.ti.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}Hr(){this.Xr=new Set}Jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,o=>{const l=he.fromPath(o);return this.ni(t,l).next(c=>{c||r.removeEntry(l,pe.min())})}).next(()=>(this.Xr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ni(t,r).next(o=>{o?this.ti.delete(r.toString()):this.ti.add(r.toString())})}zr(t){return 0}ni(t,r){return j.or([()=>j.resolve(this.Zr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Yr(t,r)])}}class xl{constructor(t,r){this.persistence=t,this.ri=new Ii(o=>tv(o.path),(o,l)=>o.isEqual(l)),this.garbageCollector=h_(this,r)}static ei(t,r){return new xl(t,r)}Hr(){}Jr(t){return j.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}Xn(t){const r=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(o=>r.next(l=>o+l))}nr(t){let r=0;return this.er(t,o=>{r++}).next(()=>r)}er(t,r){return j.forEach(this.ri,(o,l)=>this.ir(t,o,l).next(c=>c?j.resolve():r(l)))}removeTargets(t,r,o){return this.persistence.getTargetCache().removeTargets(t,r,o)}removeOrphanedDocuments(t,r){let o=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Lr(t,p=>this.ir(t,p,r).next(g=>{g||(o++,c.removeEntry(p,pe.min()))})).next(()=>c.apply(t)).next(()=>o)}markPotentiallyOrphaned(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}removeTarget(t,r){const o=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}removeReference(t,r,o){return this.ri.set(o,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,r){return this.ri.set(r,t.currentSequenceNumber),j.resolve()}zr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=_l(t.data.value)),r}ir(t,r,o){return j.or([()=>this.persistence.Yr(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.ri.get(r);return j.resolve(l!==void 0&&l>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,r,o,l){this.targetId=t,this.fromCache=r,this.Wi=o,this.Gi=l}static zi(t,r){let o=Ve(),l=Ve();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new mh(t,r.fromCache,o,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Ty()?8:ev(Ey())>0?6:4}()}initialize(t,r){this.Zi=t,this.indexManager=r,this.ji=!0}getDocumentsMatchingQuery(t,r,o,l){const c={result:null};return this.Xi(t,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.es(t,r,l,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new S_;return this.ts(t,r,p).next(g=>{if(c.result=g,this.Hi)return this.ns(t,r,p,g.size)})}).next(()=>c.result)}ns(t,r,o,l){return o.documentReadCount<this.Ji?(vs()<=Ce.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",_s(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(vs()<=Ce.DEBUG&&te("QueryEngine","Query:",_s(r),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Yi*l?(vs()<=Ce.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",_s(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,jn(r))):j.resolve())}Xi(t,r){if(lp(r))return j.resolve(null);let o=jn(r);return this.indexManager.getIndexType(t,o).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=Qc(r,null,"F"),o=jn(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const p=Ve(...c);return this.Zi.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,o).next(v=>{const E=this.rs(r,g);return this.ss(r,E,p,v.readTime)?this.Xi(t,Qc(r,null,"F")):this.os(t,E,r,v)}))})))}es(t,r,o,l){return lp(r)||l.isEqual(pe.min())?j.resolve(null):this.Zi.getDocuments(t,o).next(c=>{const p=this.rs(r,c);return this.ss(r,p,o,l)?j.resolve(null):(vs()<=Ce.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),_s(r)),this.os(t,p,r,G0(l,-1)).next(g=>g))})}rs(t,r){let o=new dt(hm(t));return r.forEach((l,c)=>{Ul(t,c)&&(o=o.add(c))}),o}ss(t,r,o,l){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ts(t,r,o){return vs()<=Ce.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",_s(r)),this.Zi.getDocumentsMatchingQuery(t,r,Ur.min(),o)}os(t,r,o,l){return this.Zi.getDocumentsMatchingQuery(t,o,l).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(t,r,o,l){this.persistence=t,this._s=r,this.serializer=l,this.us=new nt(Ae),this.cs=new Ii(c=>lh(c),uh),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(o)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new p_(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.us))}}function A_(s,t,r,o){return new C_(s,t,r,o)}async function km(s,t){const r=Re(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next(c=>(l=c,r.Ps(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let v=Ve();for(const E of l){p.push(E.batchId);for(const I of E.mutations)v=v.add(I.key)}for(const E of c){g.push(E.batchId);for(const I of E.mutations)v=v.add(I.key)}return r.localDocuments.getDocuments(o,v).next(E=>({Ts:E,removedBatchIds:p,addedBatchIds:g}))})})}function xm(s){const t=Re(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Gr.getLastRemoteSnapshotVersion(r))}function R_(s,t){const r=Re(s),o=t.snapshotVersion;let l=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.hs.newChangeBuffer({trackRemovals:!0});l=r.us;const g=[];t.targetChanges.forEach((I,O)=>{const U=l.get(O);if(!U)return;g.push(r.Gr.removeMatchingKeys(c,I.removedDocuments,O).next(()=>r.Gr.addMatchingKeys(c,I.addedDocuments,O)));let H=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(O)!==null?H=H.withResumeToken(It.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):I.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(I.resumeToken,o)),l=l.insert(O,H),function(ee,K,Ne){return ee.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8?!0:Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0}(U,H,I)&&g.push(r.Gr.updateTargetData(c,H))});let v=qr(),E=Ve();if(t.documentUpdates.forEach(I=>{t.resolvedLimboDocuments.has(I)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,I))}),g.push(P_(c,p,t.documentUpdates).next(I=>{v=I.Is,E=I.Es})),!o.isEqual(pe.min())){const I=r.Gr.getLastRemoteSnapshotVersion(c).next(O=>r.Gr.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(I)}return j.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(r.us=l,c))}function P_(s,t,r){let o=Ve(),l=Ve();return r.forEach(c=>o=o.add(c)),t.getEntries(s,o).next(c=>{let p=qr();return r.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(pe.min())?(t.removeEntry(g,v.readTime),p=p.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(v),p=p.insert(g,v)):te("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{Is:p,Es:l}})}function k_(s,t){const r=Re(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.Gr.getTargetData(o,t).next(c=>c?(l=c,j.resolve(l)):r.Gr.allocateTargetId(o).next(p=>(l=new Mr(t,p,"TargetPurposeListen",o.currentSequenceNumber),r.Gr.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.us.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.us=r.us.insert(o.targetId,o),r.cs.set(t,o.targetId)),o})}async function Xc(s,t,r){const o=Re(s),l=o.us.get(t),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,l))}catch(p){if(!Ls(p))throw p;te("LocalStore",`Failed to update sequence numbers for target ${t}: ${p}`)}o.us=o.us.remove(t),o.cs.delete(l.target)}function Ep(s,t,r){const o=Re(s);let l=pe.min(),c=Ve();return o.persistence.runTransaction("Execute query","readwrite",p=>function(v,E,I){const O=Re(v),U=O.cs.get(I);return U!==void 0?j.resolve(O.us.get(U)):O.Gr.getTargetData(E,I)}(o,p,jn(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(p,g.targetId).next(v=>{c=v})}).next(()=>o._s.getDocumentsMatchingQuery(p,t,r?l:pe.min(),r?c:Ve())).next(g=>(x_(o,wv(t),g),{documents:g,ds:c})))}function x_(s,t,r){let o=s.ls.get(t)||pe.min();r.forEach((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.ls.set(t,o)}class wp{constructor(){this.activeTargetIds=Rv()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class V_{constructor(){this._o=new wp,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,r,o){this.ao[t]=r}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new wp,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{uo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl=null;function Pc(){return gl===null?gl=function(){return 268435456+Math.round(2147483648*Math.random())}():gl++,"0x"+gl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class O_ extends class{get Co(){return!1}constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+r.host,this.Mo=`projects/${l}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}Oo(r,o,l,c,p){const g=Pc(),v=this.No(r,o.toUriEncodedString());te("RestConnection",`Sending RPC '${r}' ${g}:`,v,l);const E={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(E,c,p),this.Bo(r,v,E,l).then(I=>(te("RestConnection",`Received RPC '${r}' ${g}: `,I),I),I=>{throw As("RestConnection",`RPC '${r}' ${g} failed with error: `,I,"url: ",v,"request:",l),I})}ko(r,o,l,c,p,g){return this.Oo(r,o,l,c,p)}Lo(r,o,l){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),l&&l.headers.forEach((c,p)=>r[p]=c)}No(r,o){const l=N_[r];return`${this.Fo}/v1/${o}:${l}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,r,o,l){const c=Pc();return new Promise((p,g)=>{const v=new Yp;v.setWithCredentials(!0),v.listenOnce(Xp.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case vl.NO_ERROR:const I=v.getResponseJson();te(Vt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(I)),p(I);break;case vl.TIMEOUT:te(Vt,`RPC '${t}' ${c} timed out`),g(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case vl.HTTP_ERROR:const O=v.getStatus();if(te(Vt,`RPC '${t}' ${c} failed with status:`,O,"response text:",v.getResponseText()),O>0){let U=v.getResponseJson();Array.isArray(U)&&(U=U[0]);const H=U==null?void 0:U.error;if(H&&H.status&&H.message){const X=function(K){const Ne=K.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Ne)>=0?Ne:Y.UNKNOWN}(H.status);g(new ce(X,H.message))}else g(new ce(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{te(Vt,`RPC '${t}' ${c} completed.`)}});const E=JSON.stringify(l);te(Vt,`RPC '${t}' ${c} sending request:`,l),v.send(r,"POST",E,o,15)})}qo(t,r,o){const l=Pc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=em(),g=Zp(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Lo(v.initMessageHeaders,r,o),v.encodeInitMessageHeaders=!0;const I=c.join("");te(Vt,`Creating RPC '${t}' stream ${l}: ${I}`,v);const O=p.createWebChannel(I,v);let U=!1,H=!1;const X=new L_({Eo:K=>{H?te(Vt,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(U||(te(Vt,`Opening RPC '${t}' stream ${l} transport.`),O.open(),U=!0),te(Vt,`RPC '${t}' stream ${l} sending:`,K),O.send(K))},Ao:()=>O.close()}),ee=(K,Ne,Pe)=>{K.listen(Ne,_e=>{try{Pe(_e)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return ee(O,No.EventType.OPEN,()=>{H||(te(Vt,`RPC '${t}' stream ${l} transport opened.`),X.So())}),ee(O,No.EventType.CLOSE,()=>{H||(H=!0,te(Vt,`RPC '${t}' stream ${l} transport closed`),X.Do())}),ee(O,No.EventType.ERROR,K=>{H||(H=!0,As(Vt,`RPC '${t}' stream ${l} transport errored:`,K),X.Do(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),ee(O,No.EventType.MESSAGE,K=>{var Ne;if(!H){const Pe=K.data[0];We(!!Pe);const _e=Pe,Ee=(_e==null?void 0:_e.error)||((Ne=_e[0])===null||Ne===void 0?void 0:Ne.error);if(Ee){te(Vt,`RPC '${t}' stream ${l} received error:`,Ee);const Xe=Ee.status;let ke=function(C){const P=st[C];if(P!==void 0)return _m(P)}(Xe),k=Ee.message;ke===void 0&&(ke=Y.INTERNAL,k="Unknown error status: "+Xe+" with message "+Ee.message),H=!0,X.Do(new ce(ke,k)),O.close()}else te(Vt,`RPC '${t}' stream ${l} received:`,Pe),X.vo(Pe)}}),ee(g,Jp.STAT_EVENT,K=>{K.stat===Bc.PROXY?te(Vt,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===Bc.NOPROXY&&te(Vt,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{X.bo()},0),X}}function kc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(s){return new Hv(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,r,o=1e3,l=1.5,c=6e4){this.li=t,this.timerId=r,this.Qo=o,this.Ko=l,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const r=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),l=Math.max(0,r-o);l>0&&te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Uo} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,l,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t,r,o,l,c,p,g,v){this.li=t,this.Yo=o,this.Zo=l,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Dm(t,r)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,r){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(ur(r.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(r)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),r=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Xo===r&&this.I_(o,l)},o=>{t(()=>{const l=new ce(Y.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(l)})})}I_(t,r){const o=this.T_(this.Xo);this.stream=this.d_(t,r),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(l=>{o(()=>this.E_(l))}),this.stream.onMessage(l=>{o(()=>++this.n_==1?this.A_(l):this.onNext(l))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(t){return te("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return r=>{this.li.enqueueAndForget(()=>this.Xo===t?r():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F_ extends M_{constructor(t,r,o,l,c,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,p),this.serializer=c}d_(t,r){return this.connection.qo("Listen",t,r)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const r=Yv(this.serializer,t),o=function(c){if(!("targetChange"in c))return pe.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?pe.min():p.readTime?Ss(p.readTime):pe.min()}(t);return this.listener.R_(r,o)}V_(t){const r={};r.database=yp(this.serializer),r.addTarget=function(c,p){let g;const v=p.target;if(g=Hc(v)?{documents:Xv(c,v)}:{query:Jv(c,v).ct},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=Kv(c,p.resumeToken);const E=Gc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(pe.min())>0){g.readTime=Qv(c,p.snapshotVersion.toTimestamp());const E=Gc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,t);const o=e_(this.serializer,t);o&&(r.labels=o),this.c_(r)}m_(t){const r={};r.database=yp(this.serializer),r.removeTarget=t,this.c_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends class{}{constructor(t,r,o,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=l,this.S_=!1}b_(){if(this.S_)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,r,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Oo(t,Yc(r,o),l,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Y.UNKNOWN,c.toString())})}ko(t,r,o,l,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.ko(t,Yc(r,o),l,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ce(Y.UNKNOWN,p.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class U_{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ur(r),this.C_=!1):te("OnlineStateTracker",r)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(t,r,o,l,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(p=>{o.enqueueAndForget(async()=>{Go(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(v){const E=Re(v);E.k_.add(4),await Wo(E),E.K_.set("Unknown"),E.k_.delete(4),await ql(E)}(this))})}),this.K_=new U_(o,l)}}async function ql(s){if(Go(s))for(const t of s.q_)await t(!0)}async function Wo(s){for(const t of s.q_)await t(!1)}function Nm(s,t){const r=Re(s);r.B_.has(t.targetId)||(r.B_.set(t.targetId,t),_h(r)?vh(r):Os(r).s_()&&yh(r,t))}function gh(s,t){const r=Re(s),o=Os(r);r.B_.delete(t),o.s_()&&Lm(r,t),r.B_.size===0&&(o.s_()?o.a_():Go(r)&&r.K_.set("Unknown"))}function yh(s,t){if(s.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pe.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Os(s).V_(t)}function Lm(s,t){s.U_.xe(t),Os(s).m_(t)}function vh(s){s.U_=new jv({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>s.B_.get(t)||null,nt:()=>s.datastore.serializer.databaseId}),Os(s).start(),s.K_.F_()}function _h(s){return Go(s)&&!Os(s).i_()&&s.B_.size>0}function Go(s){return Re(s).k_.size===0}function Om(s){s.U_=void 0}async function j_(s){s.K_.set("Online")}async function $_(s){s.B_.forEach((t,r)=>{yh(s,t)})}async function q_(s,t){Om(s),_h(s)?(s.K_.O_(t),vh(s)):s.K_.set("Unknown")}async function b_(s,t,r){if(s.K_.set("Online"),t instanceof wm&&t.state===2&&t.cause)try{await async function(l,c){const p=c.cause;for(const g of c.targetIds)l.B_.has(g)&&(await l.remoteSyncer.rejectListen(g,p),l.B_.delete(g),l.U_.removeTarget(g))}(s,t)}catch(o){te("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await Sp(s,o)}else if(t instanceof wl?s.U_.$e(t):t instanceof Em?s.U_.Je(t):s.U_.Ge(t),!r.isEqual(pe.min()))try{const o=await xm(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.U_.it(p);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const I=c.B_.get(E);I&&c.B_.set(E,I.withResumeToken(v.resumeToken,p))}}),g.targetMismatches.forEach((v,E)=>{const I=c.B_.get(v);if(!I)return;c.B_.set(v,I.withResumeToken(It.EMPTY_BYTE_STRING,I.snapshotVersion)),Lm(c,v);const O=new Mr(I.target,v,E,I.sequenceNumber);yh(c,O)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){te("RemoteStore","Failed to raise snapshot:",o),await Sp(s,o)}}async function Sp(s,t,r){if(!Ls(t))throw t;s.k_.add(1),await Wo(s),s.K_.set("Offline"),r||(r=()=>xm(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await r(),s.k_.delete(1),await ql(s)})}async function Ip(s,t){const r=Re(s);r.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const o=Go(r);r.k_.add(3),await Wo(r),o&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.k_.delete(3),await ql(r)}async function H_(s,t){const r=Re(s);t?(r.k_.delete(2),await ql(r)):t||(r.k_.add(2),await Wo(r),r.K_.set("Unknown"))}function Os(s){return s.W_||(s.W_=function(r,o,l){const c=Re(r);return c.b_(),new F_(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(s.datastore,s.asyncQueue,{Ro:j_.bind(null,s),mo:$_.bind(null,s),po:q_.bind(null,s),R_:b_.bind(null,s)}),s.q_.push(async t=>{t?(s.W_.__(),_h(s)?vh(s):s.K_.set("Unknown")):(await s.W_.stop(),Om(s))})),s.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,r,o,l,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,l,c){const p=Date.now()+o,g=new Eh(t,r,p,l,c);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mm(s,t){if(ur("AsyncQueue",`${t}: ${s}`),Ls(s))return new ce(Y.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(t){return new Is(t.comparator)}constructor(t){this.comparator=t?(r,o)=>t(r,o)||he.comparator(r.key,o.key):(r,o)=>he.comparator(r.key,o.key),this.keyedMap=Lo(),this.sortedSet=new nt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Is)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const o=new Is;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.z_=new nt(he.comparator)}track(t){const r=t.doc.key,o=this.z_.get(r);o?t.type!==0&&o.type===3?this.z_=this.z_.insert(r,t):t.type===3&&o.type!==1?this.z_=this.z_.insert(r,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.z_=this.z_.insert(r,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.z_=this.z_.remove(r):t.type===1&&o.type===2?this.z_=this.z_.insert(r,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.z_=this.z_.insert(r,{type:2,doc:t.doc}):me():this.z_=this.z_.insert(r,t)}j_(){const t=[];return this.z_.inorderTraversal((r,o)=>{t.push(o)}),t}}class Vs{constructor(t,r,o,l,c,p,g,v,E){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(t,r,o,l,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Vs(t,r,Is.emptySet(r),p,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}}class K_{constructor(){this.queries=Ap(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(r,o){const l=Re(r),c=l.queries;l.queries=Ap(),c.forEach((p,g)=>{for(const v of g.J_)v.onError(o)})})(this,new ce(Y.ABORTED,"Firestore shutting down"))}}function Ap(){return new Ii(s=>cm(s),zl)}async function W_(s,t){const r=Re(s);let o=3;const l=t.query;let c=r.queries.get(l);c?!c.Y_()&&t.Z_()&&(o=2):(c=new Q_,o=t.Z_()?0:1);try{switch(o){case 0:c.H_=await r.onListen(l,!0);break;case 1:c.H_=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(p){const g=Mm(p,`Initialization of query '${_s(t.query)}' failed`);return void t.onError(g)}r.queries.set(l,c),c.J_.push(t),t.ea(r.onlineState),c.H_&&t.ta(c.H_)&&wh(r)}async function G_(s,t){const r=Re(s),o=t.query;let l=3;const c=r.queries.get(o);if(c){const p=c.J_.indexOf(t);p>=0&&(c.J_.splice(p,1),c.J_.length===0?l=t.Z_()?0:1:!c.Y_()&&t.Z_()&&(l=2))}switch(l){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function Y_(s,t){const r=Re(s);let o=!1;for(const l of t){const c=l.query,p=r.queries.get(c);if(p){for(const g of p.J_)g.ta(l)&&(o=!0);p.H_=l}}o&&wh(r)}function X_(s,t,r){const o=Re(s),l=o.queries.get(t);if(l)for(const c of l.J_)c.onError(r);o.queries.delete(t)}function wh(s){s.X_.forEach(t=>{t.next()})}var Jc,Rp;(Rp=Jc||(Jc={})).na="default",Rp.Cache="cache";class J_{constructor(t,r,o){this.query=t,this.ra=r,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(t){if(!this.options.includeMetadataChanges){const o=[];for(const l of t.docChanges)l.type!==3&&o.push(l);t=new Vs(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ia?this.oa(t)&&(this.ra.next(t),r=!0):this._a(t,this.onlineState)&&(this.aa(t),r=!0),this.sa=t,r}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let r=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),r=!0),r}_a(t,r){if(!t.fromCache||!this.Z_())return!0;const o=r!=="Offline";return(!this.options.ua||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}oa(t){if(t.docChanges.length>0)return!0;const r=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}aa(t){t=Vs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Jc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this.key=t}}class zm{constructor(t){this.key=t}}class Z_{constructor(t,r){this.query=t,this.da=r,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=hm(t),this.ma=new Is(this.Va)}get fa(){return this.da}ga(t,r){const o=r?r.pa:new Cp,l=r?r.ma:this.ma;let c=r?r.mutatedKeys:this.mutatedKeys,p=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,E=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((I,O)=>{const U=l.get(I),H=Ul(this.query,O)?O:null,X=!!U&&this.mutatedKeys.has(U.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let K=!1;U&&H?U.data.isEqual(H.data)?X!==ee&&(o.track({type:3,doc:H}),K=!0):this.ya(U,H)||(o.track({type:2,doc:H}),K=!0,(v&&this.Va(H,v)>0||E&&this.Va(H,E)<0)&&(g=!0)):!U&&H?(o.track({type:0,doc:H}),K=!0):U&&!H&&(o.track({type:1,doc:U}),K=!0,(v||E)&&(g=!0)),K&&(H?(p=p.add(H),c=ee?c.add(I):c.delete(I)):(p=p.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const I=this.query.limitType==="F"?p.last():p.first();p=p.delete(I.key),c=c.delete(I.key),o.track({type:1,doc:I})}return{ma:p,pa:o,ss:g,mutatedKeys:c}}ya(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o,l){const c=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const p=t.pa.j_();p.sort((I,O)=>function(H,X){const ee=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return ee(H)-ee(X)}(I.type,O.type)||this.Va(I.doc,O.doc)),this.wa(o),l=l!=null&&l;const g=r&&!l?this.Sa():[],v=this.Ra.size===0&&this.current&&!l?1:0,E=v!==this.Aa;return this.Aa=v,p.length!==0||E?{snapshot:new Vs(this.query,t.ma,c,p,t.mutatedKeys,v===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Cp,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(r=>this.da=this.da.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.da=this.da.delete(r)),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Ve(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const r=[];return t.forEach(o=>{this.Ra.has(o)||r.push(new zm(o))}),this.Ra.forEach(o=>{t.has(o)||r.push(new Fm(o))}),r}va(t){this.da=t.ds,this.Ra=Ve();const r=this.ga(t.documents);return this.applyChanges(r,!0)}Ca(){return Vs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class e1{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class t1{constructor(t){this.key=t,this.Fa=!1}}class n1{constructor(t,r,o,l,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ma={},this.xa=new Ii(g=>cm(g),zl),this.Oa=new Map,this.Na=new Set,this.La=new nt(he.comparator),this.Ba=new Map,this.ka=new fh,this.qa={},this.Qa=new Map,this.Ka=xs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function r1(s,t,r=!0){const o=qm(s);let l;const c=o.xa.get(t);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Ca()):l=await Um(o,t,r,!0),l}async function i1(s,t){const r=qm(s);await Um(r,t,!0,!1)}async function Um(s,t,r,o){const l=await k_(s.localStore,jn(t)),c=l.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await s1(s,t,c,p==="current",l.resumeToken)),s.isPrimaryClient&&r&&Nm(s.remoteStore,l),g}async function s1(s,t,r,o,l){s.Ua=(O,U,H)=>async function(ee,K,Ne,Pe){let _e=K.view.ga(Ne);_e.ss&&(_e=await Ep(ee.localStore,K.query,!1).then(({documents:k})=>K.view.ga(k,_e)));const Ee=Pe&&Pe.targetChanges.get(K.targetId),Xe=Pe&&Pe.targetMismatches.get(K.targetId)!=null,ke=K.view.applyChanges(_e,ee.isPrimaryClient,Ee,Xe);return kp(ee,K.targetId,ke.ba),ke.snapshot}(s,O,U,H);const c=await Ep(s.localStore,t,!0),p=new Z_(t,c.ds),g=p.ga(c.documents),v=Ko.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",l),E=p.applyChanges(g,s.isPrimaryClient,v);kp(s,r,E.ba);const I=new e1(t,r,p);return s.xa.set(t,I),s.Oa.has(r)?s.Oa.get(r).push(t):s.Oa.set(r,[t]),E.snapshot}async function o1(s,t,r){const o=Re(s),l=o.xa.get(t),c=o.Oa.get(l.targetId);if(c.length>1)return o.Oa.set(l.targetId,c.filter(p=>!zl(p,t))),void o.xa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await Xc(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),r&&gh(o.remoteStore,l.targetId),Zc(o,l.targetId)}).catch(Nl)):(Zc(o,l.targetId),await Xc(o.localStore,l.targetId,!0))}async function a1(s,t){const r=Re(s),o=r.xa.get(t),l=r.Oa.get(o.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),gh(r.remoteStore,o.targetId))}async function Bm(s,t){const r=Re(s);try{const o=await R_(r.localStore,t);t.targetChanges.forEach((l,c)=>{const p=r.Ba.get(c);p&&(We(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?p.Fa=!0:l.modifiedDocuments.size>0?We(p.Fa):l.removedDocuments.size>0&&(We(p.Fa),p.Fa=!1))}),await $m(r,o,t)}catch(o){await Nl(o)}}function Pp(s,t,r){const o=Re(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const l=[];o.xa.forEach((c,p)=>{const g=p.view.ea(t);g.snapshot&&l.push(g.snapshot)}),function(p,g){const v=Re(p);v.onlineState=g;let E=!1;v.queries.forEach((I,O)=>{for(const U of O.J_)U.ea(g)&&(E=!0)}),E&&wh(v)}(o.eventManager,t),l.length&&o.Ma.R_(l),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function l1(s,t,r){const o=Re(s);o.sharedClientState.updateQueryState(t,"rejected",r);const l=o.Ba.get(t),c=l&&l.key;if(c){let p=new nt(he.comparator);p=p.insert(c,Nt.newNoDocument(c,pe.min()));const g=Ve().add(c),v=new $l(pe.min(),new Map,new nt(Ae),p,g);await Bm(o,v),o.La=o.La.remove(c),o.Ba.delete(t),Th(o)}else await Xc(o.localStore,t,!1).then(()=>Zc(o,t,r)).catch(Nl)}function Zc(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const o of s.Oa.get(t))s.xa.delete(o),r&&s.Ma.Wa(o,r);s.Oa.delete(t),s.isPrimaryClient&&s.ka.yr(t).forEach(o=>{s.ka.containsKey(o)||jm(s,o)})}function jm(s,t){s.Na.delete(t.path.canonicalString());const r=s.La.get(t);r!==null&&(gh(s.remoteStore,r),s.La=s.La.remove(t),s.Ba.delete(r),Th(s))}function kp(s,t,r){for(const o of r)o instanceof Fm?(s.ka.addReference(o.key,t),u1(s,o)):o instanceof zm?(te("SyncEngine","Document no longer in limbo: "+o.key),s.ka.removeReference(o.key,t),s.ka.containsKey(o.key)||jm(s,o.key)):me()}function u1(s,t){const r=t.key,o=r.path.canonicalString();s.La.get(r)||s.Na.has(o)||(te("SyncEngine","New document in limbo: "+r),s.Na.add(o),Th(s))}function Th(s){for(;s.Na.size>0&&s.La.size<s.maxConcurrentLimboResolutions;){const t=s.Na.values().next().value;s.Na.delete(t);const r=new he(Ye.fromString(t)),o=s.Ka.next();s.Ba.set(o,new t1(r)),s.La=s.La.insert(r,o),Nm(s.remoteStore,new Mr(jn(um(r.path)),o,"TargetPurposeLimboResolution",Ll.oe))}}async function $m(s,t,r){const o=Re(s),l=[],c=[],p=[];o.xa.isEmpty()||(o.xa.forEach((g,v)=>{p.push(o.Ua(v,t,r).then(E=>{var I;if((E||r)&&o.isPrimaryClient){const O=E?!E.fromCache:(I=r==null?void 0:r.targetChanges.get(v.targetId))===null||I===void 0?void 0:I.current;o.sharedClientState.updateQueryState(v.targetId,O?"current":"not-current")}if(E){l.push(E);const O=mh.zi(v.targetId,E);c.push(O)}}))}),await Promise.all(p),o.Ma.R_(l),await async function(v,E){const I=Re(v);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>j.forEach(E,U=>j.forEach(U.Wi,H=>I.persistence.referenceDelegate.addReference(O,U.targetId,H)).next(()=>j.forEach(U.Gi,H=>I.persistence.referenceDelegate.removeReference(O,U.targetId,H)))))}catch(O){if(!Ls(O))throw O;te("LocalStore","Failed to update sequence numbers: "+O)}for(const O of E){const U=O.targetId;if(!O.fromCache){const H=I.us.get(U),X=H.snapshotVersion,ee=H.withLastLimboFreeSnapshotVersion(X);I.us=I.us.insert(U,ee)}}}(o.localStore,c))}async function c1(s,t){const r=Re(s);if(!r.currentUser.isEqual(t)){te("SyncEngine","User change. New user:",t.toKey());const o=await km(r.localStore,t);r.currentUser=t,function(c,p){c.Qa.forEach(g=>{g.forEach(v=>{v.reject(new ce(Y.CANCELLED,p))})}),c.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await $m(r,o.Ts)}}function h1(s,t){const r=Re(s),o=r.Ba.get(t);if(o&&o.Fa)return Ve().add(o.key);{let l=Ve();const c=r.Oa.get(t);if(!c)return l;for(const p of c){const g=r.xa.get(p);l=l.unionWith(g.view.fa)}return l}}function qm(s){const t=Re(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=h1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l1.bind(null,t),t.Ma.R_=Y_.bind(null,t.eventManager),t.Ma.Wa=X_.bind(null,t.eventManager),t}class Vl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vm(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return A_(this.persistence,new I_,t.initialUser,this.serializer)}ja(t){return new Pm(ph.ei,this.serializer)}za(t){return new V_}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vl.provider={build:()=>new Vl};class d1 extends Vl{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,r){We(this.persistence.referenceDelegate instanceof xl);const o=this.persistence.referenceDelegate.garbageCollector;return new u_(o,t.asyncQueue,r)}ja(t){const r=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Pm(o=>xl.ei(o,r),this.serializer)}}class eh{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>Pp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=c1.bind(null,this.syncEngine),await H_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new K_}()}createDatastore(t){const r=Vm(t.databaseInfo.databaseId),o=function(c){return new O_(c)}(t.databaseInfo);return function(c,p,g,v){return new z_(c,p,g,v)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,l,c,p,g){return new B_(o,l,c,p,g)}(this.localStore,this.datastore,t.asyncQueue,r=>Pp(this.syncEngine,r,0),function(){return Tp.p()?new Tp:new D_}())}createSyncEngine(t,r){return function(l,c,p,g,v,E,I){const O=new n1(l,c,p,g,v,E);return I&&(O.$a=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(l){const c=Re(l);te("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await Wo(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}eh.provider={build:()=>new eh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):ur("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,r,o,l,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=Dt.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{te("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(te("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Mm(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function xc(s,t){s.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async l=>{o.isEqual(l)||(await km(t.localStore,l),o=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function xp(s,t){s.asyncQueue.verifyOperationInProgress();const r=await m1(s);te("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(o=>Ip(t.remoteStore,o)),s.setAppCheckTokenChangeListener((o,l)=>Ip(t.remoteStore,l)),s._onlineComponents=t}async function m1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await xc(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;As("Error using user provided cache. Falling back to memory cache: "+r),await xc(s,new Vl)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await xc(s,new d1(void 0));return s._offlineComponents}async function g1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await xp(s,s._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await xp(s,new eh))),s._onlineComponents}async function y1(s){const t=await g1(s),r=t.eventManager;return r.onListen=r1.bind(null,t.syncEngine),r.onUnlisten=o1.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=i1.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=a1.bind(null,t.syncEngine),r}function v1(s,t,r={}){const o=new wi;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,v,E){const I=new f1({next:U=>{I.eu(),p.enqueueAndForget(()=>G_(c,O)),U.fromCache&&v.source==="server"?E.reject(new ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(U)},error:U=>E.reject(U)}),O=new J_(g,I,{includeMetadataChanges:!0,ua:!0});return W_(c,O)}(await y1(s),s.asyncQueue,t,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map;function _1(s,t,r,o){if(t===!0&&o===!0)throw new ce(Y.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Dp(s){if(he.isDocumentKey(s))throw new ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function E1(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":me()}function th(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=E1(s);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bm((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,r,o,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Np({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Np(t),t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new U0;switch(o.type){case"firstParty":return new q0(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=Vp.get(r);o&&(te("ComponentProvider","Removing Datastore"),Vp.delete(r),o.terminate())}(this),Promise.resolve()}}function w1(s,t,r,o={}){var l;const c=(s=th(s,Sh))._getSettings(),p=`${t}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,v;if(typeof o.mockUserToken=="string")g=o.mockUserToken,v=Dt.MOCK_USER;else{g=_y(o.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Dt(E)}s._authCredentials=new B0(new tm(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new bl(this.firestore,t,this._query)}}class Ms{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ms(this.firestore,t,this._key)}}class Cs extends bl{constructor(t,r,o){super(t,r,um(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ms(this.firestore,null,new he(t))}withConverter(t){return new Cs(this.firestore,t,this._path)}}function T1(s,t,...r){if(s=Py(s),s instanceof Sh){const o=Ye.fromString(t,...r);return Dp(o),new Cs(s,null,o)}{if(!(s instanceof Ms||s instanceof Cs))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Ye.fromString(t,...r));return Dp(o),new Cs(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Dm(this,"async_queue_retry"),this.fu=()=>{const o=kc();o&&te("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=t;const r=kc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const r=kc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise(()=>{});const r=new wi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!Ls(t))throw t;te("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(t){const r=this.gu.then(()=>(this.Ru=!0,t().catch(o=>{this.Au=o,this.Ru=!1;const l=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw ur("INTERNAL UNHANDLED ERROR: ",l),o}).then(o=>(this.Ru=!1,o))));return this.gu=r,r}enqueueAfterDelay(t,r,o){this.pu(),this.mu.indexOf(t)>-1&&(r=0);const l=Eh.createAndSchedule(this,t,r,o,c=>this.Su(c));return this.du.push(l),l}pu(){this.Au&&me()}verifyOperationInProgress(){}async bu(){let t;do t=this.gu,await t;while(t!==this.gu)}Du(t){for(const r of this.du)if(r.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.du.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.du)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){const r=this.du.indexOf(t);this.du.splice(r,1)}}class Hm extends Sh{constructor(t,r,o,l){super(t,r,o,l),this.type="firestore",this._queue=new Lp,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lp(t),this._firestoreClient=void 0,await t}}}function S1(s,t){const r=typeof s=="object"?s:k0(),o=typeof s=="string"?s:"(default)",l=C0(r,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=yy("firestore");c&&w1(l,...c)}return l}function I1(s){if(s._terminated)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||C1(s),s._firestoreClient}function C1(s){var t,r,o;const l=s._freezeSettings(),c=function(g,v,E,I){return new sv(g,v,E,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,bm(I.experimentalLongPollingOptions),I.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=l.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new p1(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dl(It.fromBase64String(t))}catch(r){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Dl(It.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ae(this._lat,t._lat)||Ae(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,l){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==l[c])return!1;return!0}(this._values,t._values)}}const P1=new RegExp("[~\\*/\\[\\]]");function k1(s,t,r){if(t.search(P1)>=0)throw Op(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new Qm(...t.split("."))._internalPath}catch{throw Op(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Op(s,t,r,o,l){let c=`Function ${t}() called with invalid data`;c+=". ";let p="";return new ce(Y.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,r,o,l,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new x1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Wm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class x1 extends Km{data(){return super.data()}}function Wm(s,t){return typeof t=="string"?k1(s,t):t instanceof Qm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D1{convertValue(t,r="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw me()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return Qo(t,(l,c)=>{o[l]=this.convertValue(c,r)}),o}convertVectorValue(t){var r,o,l;const c=(l=(o=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||l===void 0?void 0:l.map(p=>tt(p.doubleValue));return new R1(c)}convertGeoPoint(t){return new A1(tt(t.latitude),tt(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=Ml(t);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(qo(t));default:return null}}convertTimestamp(t){const r=Br(t);return new Wt(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=Ye.fromString(t);We(Rm(o));const l=new bo(o.get(1),o.get(3)),c=new he(o.popFirst(5));return l.isEqual(r)||ur(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class N1 extends Km{constructor(t,r,o,l,c,p){super(t,r,o,l,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Tl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(Wm("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Tl extends N1{data(t={}){return super.data(t)}}class L1{constructor(t,r,o,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new yl(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new Tl(this._firestore,this._userDataWriter,o.key,o,new yl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let p=0;return l._snapshot.docChanges.map(g=>{const v=new Tl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new Tl(l._firestore,l._userDataWriter,g.doc.key,g.doc,new yl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,I=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),I=p.indexOf(g.doc.key)),{type:O1(g.type),doc:v,oldIndex:E,newIndex:I}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function O1(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class M1 extends D1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dl(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ms(this.firestore,null,r)}}function F1(s){s=th(s,bl);const t=th(s.firestore,Hm),r=I1(t),o=new M1(t);return V1(s._query),v1(r,s._query).then(l=>new L1(t,o,s,l))}(function(t,r=!0){(function(l){Ns=l})(P0),Cl(new Bo("firestore",(o,{instanceIdentifier:l,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Hm(new j0(o.getProvider("auth-internal")),new H0(o.getProvider("app-check-internal")),function(E,I){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bo(E.options.projectId,I)}(p,l),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ts(Xf,"4.7.5",t),Ts(Xf,"4.7.5","esm2017")})();var z1="firebase",U1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(z1,U1,"app");const B1={apiKey:"AIzaSyB87ErUyUGARKyWwBFuVNJEU1R2ZrHoIuY",authDomain:"fertabdistribuzioni-259b5.firebaseapp.com",projectId:"fertabdistribuzioni-259b5",storageBucket:"fertabdistribuzioni-259b5.firebasestorage.app",messagingSenderId:"190560040474",appId:"1:190560040474:web:b0063c7ae3f9873a23c3a3",measurementId:"G-813EK68Y9M"},j1=Qp(B1),$1=S1(j1),q1="/Test/assets/FTD_logoBig-3vh6usYB.svg",b1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23c3251d'%3e%3cpath%20d='M798-120q-125%200-247-54.5T329-329Q229-429%20174.5-551T120-798q0-18%2012-30t30-12h162q14%200%2025%209.5t13%2022.5l26%20140q2%2016-1%2027t-11%2019l-97%2098q20%2037%2047.5%2071.5T387-386q31%2031%2065%2057.5t72%2048.5l94-94q9-9%2023.5-13.5T670-390l138%2028q14%204%2023%2014.5t9%2023.5v162q0%2018-12%2030t-30%2012Z'/%3e%3c/svg%3e",H1="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23c3251d'%3e%3cpath%20d='M480-480q33%200%2056.5-23.5T560-560q0-33-23.5-56.5T480-640q-33%200-56.5%2023.5T400-560q0%2033%2023.5%2056.5T480-480Zm0%20400Q319-217%20239.5-334.5T160-552q0-150%2096.5-239T480-880q127%200%20223.5%2089T800-552q0%20100-79.5%20217.5T480-80Z'/%3e%3c/svg%3e";function Q1(){const[s,t]=fn.useState(0);fn.useEffect(()=>{const l=()=>{t(window.scrollY)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[]);const o=Math.max(1-s/(100*4),.5);return fe.jsxs(fe.Fragment,{children:[fe.jsx("nav",{style:{transform:`scaleY(${o})`},children:fe.jsx("img",{id:"navbarLogo",src:q1,alt:"Logo",style:{transform:`scaleX(${o})`}})}),fe.jsxs("div",{id:"navContent",children:[fe.jsx("h4",{children:"Ingrosso articoli di ferramenta e tabaccherie"}),fe.jsxs("a",{href:"https://maps.app.goo.gl/H4DNaxgzrRN724LC7",target:"_blank",rel:"noopener noreferrer",children:[fe.jsx("img",{className:"inlineIcon",src:H1,alt:"Ci trovi in:"}),"C.so Garibaldi n.168, Portici (Na)"]}),fe.jsxs("a",{href:"tel:0810487003",children:[fe.jsx("img",{className:"inlineIcon",src:b1,alt:"Chiama al:"}),"0810487003"]}),fe.jsx("p",{children:"Orario apertura: Lun/Ven 08:30/19:00 - Sab 08:30/12:00"})]})]})}function K1(){return fe.jsxs("div",{className:"dots-container",children:[fe.jsx("div",{className:"dot"}),fe.jsx("div",{className:"dot"}),fe.jsx("div",{className:"dot"}),fe.jsx("div",{className:"dot"}),fe.jsx("div",{className:"dot"})]})}var Vc={exports:{}},Dc,Mp;function W1(){if(Mp)return Dc;Mp=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dc=s,Dc}var Nc,Fp;function G1(){if(Fp)return Nc;Fp=1;var s=W1();function t(){}function r(){}return r.resetWarningCache=t,Nc=function(){function o(p,g,v,E,I,O){if(O!==s){var U=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw U.name="Invariant Violation",U}}o.isRequired=o;function l(){return o}var c={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:r,resetWarningCache:t};return c.PropTypes=c,c},Nc}var zp;function Y1(){return zp||(zp=1,Vc.exports=G1()()),Vc.exports}var X1=Y1();const ys=Jg(X1);function J1(s){window.open(s,"_blank")}function Gm({productImg:s,productName:t,productDescription:r,productPrice:o,productAmount:l,prodLink:c}){const[p,g]=fn.useState(!1),[v,E]=fn.useState(!1),I=fn.useRef(null),O=()=>{if(I.current){const X=I.current.scrollHeight>I.current.clientHeight;g(X)}};fn.useEffect(()=>{O()},[r]);const U=()=>{E(!v)},H=()=>{v&&E(!1)};return fe.jsxs("div",{className:`prodCard ${v?"expanded":""}`,children:[fe.jsx("img",{src:s,loading:"lazy",alt:"Immagine prodotto",onClick:H}),fe.jsxs("div",{className:"prodBody",children:[fe.jsxs("div",{className:"prodInfo",children:[fe.jsx("h4",{children:t}),fe.jsx("p",{className:"prodDescription",ref:I,children:r})]}),fe.jsxs("div",{className:"prodBottom",children:[p&&!v&&fe.jsx("button",{className:"textButton",onClick:U,children:"Mostra più"}),v&&fe.jsx("button",{className:"textButton",onClick:U,children:"Mostra meno"}),fe.jsxs("div",{className:"prodBuy",children:[fe.jsxs("div",{className:"prodBuyInfo",children:[fe.jsxs("h4",{children:[o,"€"]}),l==="1"?"Al pezzo":`${l} pezzi`]}),fe.jsx("button",{onClick:()=>J1(c),children:"Acquista"})]})]})]})]})}Gm.propTypes={productImg:ys.string.isRequired,productName:ys.string.isRequired,productDescription:ys.string.isRequired,productPrice:ys.string.isRequired,productAmount:ys.string.isRequired,prodLink:ys.string.isRequired};function Z1(){return fe.jsx("footer",{id:"navbar",children:fe.jsx("p",{className:"smallText",children:"© 2024 Emanuele Ciotola. Tutti i diritti riservati."})})}const eE="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.83211%2024.2929C7.44158%2024.6834%206.80842%2024.6834%206.41789%2024.2929L5.70711%2023.5821C5.31658%2023.1916%205.31658%2022.5584%205.70711%2022.1679L12.5214%2015.3536C12.7167%2015.1583%2012.7167%2014.8417%2012.5214%2014.6464L5.70711%207.83211C5.31658%207.44158%205.31658%206.80842%205.70711%206.41789L6.41789%205.70711C6.80842%205.31658%207.44158%205.31658%207.83211%205.70711L14.6464%2012.5214C14.8417%2012.7167%2015.1583%2012.7167%2015.3536%2012.5214L22.1679%205.70711C22.5584%205.31658%2023.1916%205.31658%2023.5821%205.70711L24.2929%206.41789C24.6834%206.80842%2024.6834%207.44158%2024.2929%207.83211L17.4786%2014.6464C17.2833%2014.8417%2017.2833%2015.1583%2017.4786%2015.3536L24.2929%2022.1679C24.6834%2022.5584%2024.6834%2023.1916%2024.2929%2023.5821L23.5821%2024.2929C23.1916%2024.6834%2022.5584%2024.6834%2022.1679%2024.2929L15.3536%2017.4786C15.1583%2017.2833%2014.8417%2017.2833%2014.6464%2017.4786L7.83211%2024.2929Z'%20fill='%23A9A9AC'/%3e%3c/svg%3e",tE="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.6753%2031.0055C29.2848%2031.3949%2028.6529%2031.3946%2028.2627%2031.005L18.3293%2021.0864C18.1495%2020.9068%2017.8645%2020.8921%2017.6576%2021.0396C16.9224%2021.5641%2016.0857%2021.986%2015.1475%2022.3054C14.0541%2022.6779%2012.8786%2022.8642%2011.6208%2022.8642C8.48802%2022.8642%205.834%2021.7757%203.65872%2019.5987C1.48316%2017.4218%200.395386%2014.7871%200.395386%2011.6946C0.395386%208.6018%201.48386%205.96694%203.6608%203.79C5.83775%201.61305%208.47719%200.524582%2011.5791%200.524582C14.6811%200.524582%2017.3158%201.61305%2019.4833%203.79C21.6511%205.96694%2022.735%208.60319%2022.735%2011.6987C22.735%2012.931%2022.5536%2014.0862%2022.1908%2015.1646C21.8747%2016.1042%2021.435%2016.9779%2020.8718%2017.7859C20.7285%2017.9914%2020.7467%2018.2716%2020.9242%2018.4483L30.8933%2028.3739C31.2857%2028.7646%2031.2859%2029.3998%2030.8938%2029.7907L29.6753%2031.0055ZM11.5983%2019.1912C13.6839%2019.1912%2015.4493%2018.4617%2016.8946%2017.0025C18.3396%2015.5431%2019.0621%2013.7737%2019.0621%2011.6946C19.0621%209.61514%2018.3387%207.84583%2016.8921%206.38667C15.4454%204.92722%2013.6808%204.1975%2011.5983%204.1975C9.50052%204.1975%207.72108%204.92722%206.25997%206.38667C4.79886%207.84583%204.0683%209.61514%204.0683%2011.6946C4.0683%2013.7737%204.79802%2015.5431%206.25747%2017.0025C7.71719%2018.4617%209.49747%2019.1912%2011.5983%2019.1912Z'%20fill='%23A9A9AC'/%3e%3c/svg%3e";function nE(){const[s,t]=fn.useState([]),[r,o]=fn.useState(!0),[l,c]=fn.useState(""),p=fn.useRef(null);fn.useEffect(()=>{(async()=>{o(!0);const O=T1($1,"products"),H=(await F1(O)).docs.map(X=>X.data());t(H),o(!1)})()},[]);const g=s.filter(I=>I.productName.toLowerCase().includes(l.toLowerCase())||I.productDescription.toLowerCase().includes(l.toLowerCase())),v=()=>{c("")},E=()=>{p.current&&p.current.focus()};return fe.jsxs(fe.Fragment,{children:[fe.jsx(Q1,{}),fe.jsxs("div",{id:"products",children:[fe.jsxs("div",{id:"searchBar",children:[fe.jsx("input",{ref:p,type:"text",name:"searchTerm",placeholder:"Cerca prodotto...",value:l,onChange:I=>c(I.target.value)}),fe.jsx("div",{id:"searchBarButton",onClick:l?v:E,children:fe.jsx("img",{src:l?eE:tE,alt:l?"Cancella":"Cerca"})})]}),fe.jsx("div",{id:"productList",children:r?fe.jsx(K1,{}):g.map((I,O)=>fe.jsx(Gm,{productImg:I.productImg,productName:I.productName,productDescription:I.productDescription,productPrice:I.productPrice,productAmount:I.productAmount,prodLink:I.prodLink},O))})]}),fe.jsx(Z1,{})]})}ay.createRoot(document.getElementById("root")).render(fe.jsx(fn.StrictMode,{children:fe.jsx(nE,{})}));
